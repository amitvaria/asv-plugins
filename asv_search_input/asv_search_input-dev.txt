function asv_search_input($atts) // input form for search queries
{
	global $q, $permlink_mode;
	extract(lAtts(array(
		'form'    => 'search_input',
		'wraptag' => 'p',
		'size'    => '15',
		'label'   => '',
		'labelwrap' => 'p',
		'labelclass' => '',
		'button'  => '',
		'section' => '',
		'buttonclass' => '',
		'boxclass' =>''
	),$atts));	

	if ($form) {
		$rs = fetch('form','txp_form','name',$form);
		if ($rs) {
			return $rs;
		}
	}
	
	(!empty($labelclass)) ? $class = "class=".$labelclass : $class='';
	
	$head = (!empty($label) && !empty($labelwrap)) ? tag($label, $labelwrap, $class) : '';
	$buttonclassed = (!empty($buttonclass)) ? 'class="'.$buttonclass.'"' : '';
	$sub = (!empty($button)) ? '<input type="submit" '.$buttonclassed.' value="'.$button.'" />' : '';
	$out = fInput('text','q',$q, $boxclass,'','',$size);
	$out = (!empty($label)) ? $out.$sub : $out.$sub;
	$out = ($wraptag) ? tag($out,$wraptag) : $out;

	if (!$section)
		return '<form action="'.hu.'" method="get">'.$head.$out.'</form>';

	$url = pagelinkurl(array('s'=>$section));	
	return '<form action="'.$url.'" method="get">'.$head.$out.'</form>';
}
