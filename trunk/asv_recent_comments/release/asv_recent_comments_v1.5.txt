# asv_recent_comments 1.5
# Recent comments with the use of the form
# Amit Varia
# http://www.amitvaria.com

# ......................................................................
# This is a plugin for Textpattern - http://textpattern.com/
# To install: textpattern > admin > plugins
# Paste the following text into the 'Install plugin' box:
# ......................................................................

YTo5OntzOjQ6Im5hbWUiO3M6MTk6ImFzdl9yZWNlbnRfY29tbWVudHMiO3M6NjoiYXV0aG9yIjtzOjEwOiJBbWl0IFZhcmlhIjtzOjEwOiJhdXRob3JfdXJpIjtzOjI0OiJodHRwOi8vd3d3LmFtaXR2YXJpYS5jb20iO3M6NzoidmVyc2lvbiI7czozOiIxLjUiO3M6MTE6ImRlc2NyaXB0aW9uIjtzOjQwOiJSZWNlbnQgY29tbWVudHMgd2l0aCB0aGUgdXNlIG9mIHRoZSBmb3JtIjtzOjQ6ImhlbHAiO3M6MjAzNToiDQo8ZGl2IGFsaWduPSJjZW50ZXIiPg0KICAgICAgICAgICAgICAgICAgPGgxPmFzdl9yZWNlbnRfY29tbWVudHM8L2gxPiAgICAgICAgICAgICAgICAgIA0KPHA+DQogICAgICAgICAgICAgICAgICA8ZW0+bGFzdCB1cGRhdGVkOiAxMC8yMi8yMDA2PC9lbT4gICAgICAgICAgICAgICAgICANCjwvcD4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIA0KPHAgYWxpZ249ImxlZnQiPg0KICAgICAgICAgICAgICAgICAgPHU+PHN0cm9uZz5EZXNjcmlwdGlvbjwvc3Ryb25nPjwvdT4gICAgICAgICAgICAgICAgICANCjwvcD4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIA0KPHAgYWxpZ249ImxlZnQiPg0KICAgICAgICAgICAgICAgICAgRXhwYW5kcyBvbiByZWNlbnRfY29tbWVudHMgYnkgYWxsb3dpbmcgdGhlIHVzZSBvZiBmb3JtcyB0byBkaXNwbGF5IHRoZSBjb21tZW50cy4gWW91IGNhbiBhY2Nlc3MgYWxsIHRoZSBmaWVsZHMgZnJvbSB0aGUgY29tbWVudCBhbmQgaXQncyBwYXJlbnQgYXJ0aWNsZS4gICAgICAgICAgICAgICAgICANCjwvcD4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIA0KPHAgYWxpZ249ImxlZnQiPg0KICAgICAgICAgICAgICAgICAgJm5ic3A7ICAgICAgICAgICAgICAgICAgDQo8L3A+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICANCjxwIGFsaWduPSJsZWZ0Ij4NCiAgICAgICAgICAgICAgICAgIDx1PjxzdHJvbmc+TmV3IEF0dHJpYnV0ZXM8L3N0cm9uZz48L3U+ICAgICAgICAgICAgICAgICAgDQo8L3A+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICANCjxwIGFsaWduPSJsZWZ0Ij4NCiAgICAgICAgICAgICAgICAgIExlYXJuIGFib3V0IHRoZSBvcmlnaW5hbCB0YWcgLSA8YSB0aXRsZT0iaHR0cDovL3RleHRwYXR0ZXJuLm5ldC93aWtpL2luZGV4LnBocD90aXRsZT1UeHA6cmVjZW50X2NvbW1lbnRzXy8iIGhyZWY9Imh0dHA6Ly90ZXh0cGF0dGVybi5uZXQvd2lraS9pbmRleC5waHA/dGl0bGU9VHhwOnJlY2VudF9jb21tZW50c18vIj5odHRwOi8vdGV4dHBhdHRlcm4ubmV0L3dpa2kvaW5kZXgucGhwP3RpdGxlPVR4cDpyZWNlbnRfY29tbWVudHNfLzwvYT4gICAgICAgICAgICAgICAgICANCjwvcD4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIA0KPHAgYWxpZ249ImxlZnQiPg0KICAgICAgICAgICAgICAgICAgPHN0cm9uZz5mb3JtPC9zdHJvbmc+IC0gdGhlIG5hbWUgb2YgdGhlIGZvcm0gdG8gdXNlIGZvciBlYWNoIGNvbW1lbnQ8YnIgLz4NCiAgICAgIDxzdHJvbmc+c2F3YXJlPC9zdHJvbmc+IC0gJ3knLyduJy4gTGlzdCBzaG91bGQgYmUgc2VjdGlvbiBhd2FyZS4gRGVmYXVsdCBpcyAnbicuPGJyIC8+DQogICAgICA8c3Ryb25nPmNhd2FyZTwvc3Ryb25nPiAtICd5Jy8nbicuIExpc3Qgc2hvdWxkIGJlIGNhdGVnb3J5IGF3YXJlLiBEZWZhdWx0IGlzICduJy48YnIgLz4NCiAgICAgIDxzdHJvbmc+c2VjdGlvbnM8L3N0cm9uZz4gLSBMaXN0IG9mIHNlY3Rpb25zIHRvIHB1bGwgY29tbWVudHMgZnJvbS4gRGVmYXVsdCBpcyAnJy48YnIgLz4NCiAgICAgIDxzdHJvbmc+Y2F0ZWdvcmllczwvc3Ryb25nPiAtIExpc3Qgb2YgY2F0ZWdvcmllcyB0byBwdWxsIGNvbW1lbnRzIGZyb20uIERlZmF1bHQgaXMgJycuPGJyIC8+DQogICAgICA8c3Ryb25nPnNleGNsdWRlPC9zdHJvbmc+IC0gTGlzdCBvZiBzZWN0aW9ucyB0byBpZ25vcmUuIERlZmF1bHQgaXMgJycuPGJyIC8+DQogICAgICA8c3Ryb25nPmNleGNsdWRlPC9zdHJvbmc+IC0gTGlzdCBvZiBjYXRlZ29yaWVzIHRvIGlnbm9yZS4gRGVmYXVsdCBpcyAnJy48YnIgLz4NCiAgICAgIDxzdHJvbmc+c2hvd2hvbWU8L3N0cm9uZz4gLSAneScvJ24nLiBJZiBzZWN0aW9uIGF3YXJlLCBzaG93IGFsbCBjb21tZW50cyB3aGVuIG9uIGhvbWUgcGFnZS48YnIgLz4NCiAgICAgICAgICAgIA0KPC9wPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgDQo8L2Rpdj4NCiAgICAgICI7czo0OiJjb2RlIjtzOjI2ODc6ImZ1bmN0aW9uIGFzdl9yZWNlbnRfY29tbWVudHMoJGF0dHMpDQp7DQoJZ2xvYmFsICRwcmV0ZXh0Ow0KCWV4dHJhY3QobEF0dHMoYXJyYXkoDQoJCSdicmVhaycJCSA9PiBiciwNCgkJJ2NsYXNzJwkJID0+IF9fRlVOQ1RJT05fXywNCgkJJ2xhYmVsJwkJID0+ICcnLA0KCQknbGFiZWx0YWcnID0+ICcnLA0KCQknbGltaXQnCQkgPT4gMTAsDQoJCSdzb3J0JyAgICAgPT4gJ3Bvc3RlZCBkZXNjJywNCgkJJ3dyYXB0YWcnCSA9PiAnJywNCgkJJ2Zvcm0nCQk9PiAnJywNCgkJJ3Nhd2FyZScJPT4gJ24nLA0KCQknY2F3YXJlJwkJPT4gJ24nLA0KCQknc2VjdGlvbnMnCQk9PiAnJywNCgkJJ2NhdGVnb3JpZXMnCT0+ICcnLA0KCQknc2V4Y2x1ZGUnCT0+ICcnLA0KCQknY2V4Y2x1ZGUnCT0+ICcnLA0KCQknc2hvd2hvbWUnID0+ICd5JywNCgkpLCAkYXR0cykpOw0KCQ0KCQkoJHNhd2FyZSA9PSAneScpID8gJHNlY3Rpb25zID0gJHByZXRleHRbJ3MnXSA6ICRzZWN0aW9uczsNCgkJKCRzZWN0aW9ucyA9PSAnZGVmYXVsdCcgJiYgJHNob3dob21lPSd5JykgPyAkc2VjdGlvbnMgPSAnJyA6ICRzZWN0aW9uczsNCgkJaWYgKCRzZWN0aW9ucykNCgkJew0KCQkJJHNlY3Rpb25zID0gZG9fbGlzdCgkc2VjdGlvbnMpOw0KCQkJJHNlY3Rpb25zID0gam9pbigiJywnIiwgZG9TbGFzaCgkc2VjdGlvbnMpKTsJCQkNCgkJCSRzaW5jbHVkZSA9ICJhbmQgdGV4dHBhdHRlcm4uU2VjdGlvbiBpbignJHNlY3Rpb25zJykiOwkJCQ0KCQl9DQoJCQ0KCQkoJGNhd2FyZSA9PSAneScpID8gJGNhdGVnb3JpZXMgPSAkcHJldGV4dFsnYyddIDogJGNhdGVnb3JpZXM7CQkNCgkJaWYoJGNhdGVnb3JpZXMpew0KCQkJJGNhdGVnb3JpZXMgPSBkb19saXN0KCRjYXRlZ29yaWVzKTsNCgkJCSRjYXRlZ29yaWVzID0gam9pbigiJywnIiwgZG9TbGFzaCgkY2F0ZWdvcmllcykpOyAJCQ0KCQkJJGNpbmNsdWRlID0gImFuZCAodGV4dHBhdHRlcm4uQ2F0ZWdvcnkxIGluKCckY2F0ZWdvcmllcycpIE9SIHRleHRwYXR0ZXJuLkNhdGVnb3J5MiBpbignJGNhdGVnb3JpZXMnKSkiOw0KCQl9DQoJCQ0KCQlpZiAoJHNleGNsdWRlIHx8ICRjZXhjbHVkZSl7DQoJCQkJJHNleGNsdWRlID0gZG9fbGlzdCgkc2V4Y2x1ZGUpOw0KCQkJCSRzZXhjbHVkZSA9IGpvaW4oIicsJyIsIGRvU2xhc2goJHNleGNsdWRlKSk7DQoJCQkJJHNleGNsdWRlID0gImFuZCB0ZXh0cGF0dGVybi5TZWN0aW9uIG5vdCBpbignJHNleGNsdWRlJykiOw0KCQkJCQ0KCQkJCSRjZXhjbHVkZSA9IGRvX2xpc3QoJGNleGNsdWRlKTsNCgkJCQkkY2V4Y2x1ZGUgPSBqb2luKCInLCciLCBkb1NsYXNoKCRjZXhjbHVkZSkpOw0KCQkJCSRjZXhjbHVkZSA9ICJhbmQgKHRleHRwYXR0ZXJuLkNhdGVnb3J5MSBpbignJGNleGNsdWRlJykgT1IgdGV4dHBhdHRlcm4uQ2F0ZWdvcnkyIGluKCckY2V4Y2x1ZGUnKSkiOw0KCQl9DQoJaWYoZW1wdHkoJHNlY3Rpb25zKSAmJiBlbXB0eSgkY2F0ZWdvcmllcykgJiYgZW1wdHkoJHNleGNsdWRlKSAmJiBlbXB0eSgkY2V4Y2x1ZGUpKXsJDQoJCSRycyA9IHNhZmVfcm93c19zdGFydCgnKicsICd0eHBfZGlzY3VzcycsIA0KCQkJInZpc2libGUgPSAiLlZJU0lCTEUuIiBvcmRlciBieSAkc29ydCBsaW1pdCAwLCRsaW1pdCIpOw0KCQkJDQoJfQ0KCWVsc2V7DQoJCSRycyA9IHNhZmVfcm93c19zdGFydCgndHhwX2Rpc2N1c3MuKiwgdGV4dHBhdHRlcm4uU2VjdGlvbiwgdGV4dHBhdHRlcm4uQ2F0ZWdvcnkxLCB0ZXh0cGF0dGVybi5DYXRlZ29yeTInLCAndHhwX2Rpc2N1c3MsIHRleHRwYXR0ZXJuJywgInR4cF9kaXNjdXNzLnBhcmVudElEID0gdGV4dHBhdHRlcm4uSUQgQU5EIHZpc2libGUgPSAiLlZJU0lCTEUuIiAkc2luY2x1ZGUgJGNpbmNsdWRlICRzZXhjbHVkZSAkY2V4Y2x1ZGUgb3JkZXIgYnkgJHNvcnQgbGltaXQgMCwkbGltaXQiKTsNCgl9DQoJDQoJKCRmb3JtICE9ICcnKSA/ICRmb3JtZWQgPSBmZXRjaF9mb3JtKCRmb3JtKSA6ICcnOw0KCQkNCglpZiAoJHJzKQ0KCXsNCgkJJG91dCA9IGFycmF5KCk7DQoNCgkJd2hpbGUgKCRjID0gbmV4dFJvdygkcnMpKQ0KCQl7DQoJCQkkYSA9IHNhZmVfcm93KCcqLCBJRCBhcyB0aGlzaWQsIHVuaXhfdGltZXN0YW1wKFBvc3RlZCkgYXMgcG9zdGVkJywgDQoJCQkJJ3RleHRwYXR0ZXJuJywgJ0lEID0gJy4kY1sncGFyZW50aWQnXSk7DQoNCgkJCWlmICgkYVsnU3RhdHVzJ10gPj0gNCkNCgkJCXsNCgkJCQlpZigkZm9ybWVkKXsNCgkJCQkJcG9wdWxhdGVBcnRpY2xlRGF0YSgkYSk7DQoJCQkJCSRHTE9CQUxTWyd0aGlzY29tbWVudCddID0gJGM7DQoJCQkJCSRvdXRbXSA9IHBhcnNlKCRmb3JtZWQpLm47DQoJCQkJCXVuc2V0KCRHTE9CQUxTWyd0aGlzY29tbWVudCddKTsNCgkJCQkJdW5zZXQoJEdMT0JBTFNbJ3RoaXNhcnRpY2xlJ10pOw0KCQkJCX0NCgkJCQllbHNlew0KCQkJCQkkb3V0W10gPSBocmVmKA0KCQkJCQkJJGNbJ25hbWUnXS4nICgnLmVzY2FwZV90aXRsZSgkYVsnVGl0bGUnXSkuJyknLCANCgkJCQkJCXBlcm1saW5rdXJsKCRhKS4nI2MnLiRjWydkaXNjdXNzaWQnXQ0KCQkJCQkpOw0KCQkJCX0NCgkJCX0NCgkJfQ0KDQoJCWlmICgkb3V0KQ0KCQl7DQoJCQlyZXR1cm4gZG9MYWJlbCgkbGFiZWwsICRsYWJlbHRhZykuZG9XcmFwKCRvdXQsICR3cmFwdGFnLCAkYnJlYWssICRjbGFzcyk7DQoJCX0NCgl9DQoNCglyZXR1cm4gJyc7DQp9IjtzOjQ6InR5cGUiO3M6MToiMCI7czozOiJtZDUiO3M6MzI6ImQwYTFlOWRjMzMxNmVhZmEyMDc4NGNhYmZiOWRkNGJiIjt9