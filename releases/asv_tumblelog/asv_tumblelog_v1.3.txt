# asv_tumblelog v1.3
# Implementing the greatness of tumblelogs
# Amit Varia
# http://www.amitvaria.com/

# ......................................................................
# This is a plugin for Textpattern - http://textpattern.com/
# To install: textpattern > admin > plugins
# Paste the following text into the 'Install plugin' box:
# ......................................................................

YTo5OntzOjQ6Im5hbWUiO3M6MTM6ImFzdl90dW1ibGVsb2ciO3M6NzoidmVyc2lvbiI7czoz
OiIxLjMiO3M6NjoiYXV0aG9yIjtzOjEwOiJBbWl0IFZhcmlhIjtzOjEwOiJhdXRob3JfdXJp
IjtzOjI1OiJodHRwOi8vd3d3LmFtaXR2YXJpYS5jb20vIjtzOjExOiJkZXNjcmlwdGlvbiI7
czo0MDoiSW1wbGVtZW50aW5nIHRoZSBncmVhdG5lc3Mgb2YgdHVtYmxlbG9ncyI7czo0OiJ0
eXBlIjtpOjE7czo0OiJoZWxwIjtzOjMyMDM6Igk8aDE+YXN2X3R1bWJsZWxvZzwvaDE+CgoJ
PGgyPnRoZSBiZWdpbm5pbmcgb2YgYSBsaWZlc3RyZWFtPC9oMj4KCgk8aDM+U3VtbWFyeTwv
aDM+CgoJPHA+SSB1c2VkIHRvIGJlIGFuIGF2aWQgdXNlciBvZiBzZXJ2aWNlcyBsaWtlIDxh
IGhyZWY9Imh0dHA6Ly93d3cudHVtYmxyLmNvbSI+VHVtYmxyPC9hPiwgYnV0IGZvdW5kIG15
c2VsZiB3YW50aW5nIG1vcmUgZnJlZWRvbSBhbmQgY29udHJvbCBvdmVyIG15IHBvc3RzLiBQ
bGVhc2UgZm9sbG93IHRoZSBzZXR1cCBpbnN0cnVjdGlvbnMgYmVsb3cgdG8gZW5zdXJlIHRo
YXQgZXZlcnl0aGluZyBnZXRzIHNldHVwLiBhc3ZfdHVtYmxlbG9nIHdpbGwgaW1wb3J0IGZl
ZWRzIGZvciB5b3UgYXMgPHNwYW4gY2xhc3M9ImNhcHMiPlRYUDwvc3Bhbj4gYXJ0aWNsZXMu
PC9wPgoKCTxoMz5TZXR1cC9JbnN0YWxsYXRpb248L2gzPgoKCTxwPmFzdl90dW1ibGVsb2cg
cmVxdWlyZXMgPGEgaHJlZj0iaHR0cDovL3d3dy5zaW1wbGVwaWUub3JnIj5TaW1wbGVQaWU8
L2E+LCBzbyBwbGVhc2UgZ3JhYiB0aGUgbGF0ZXN0IHZlcnNpb24uIEFmdGVyIGFjdGl2YXRp
bmcgdGhlIHBsdWdpbiB5b3Ugd2lsbCBoYXZlIGEgbmV3IHRhYiB1bmRlciAmIzgyMjA7RXh0
ZW5zaW9ucyYjODIyMTsgY2FsbGVkICYjODIyMDtUdW1ibGVsb2cmIzgyMjE7LiBJbiB0aGlz
IHRhYiB5b3UgaGF2ZSBmb3VyIG9wdGlvbnMgJiM4MjExOyBTZXR0aW5ncywgRmVlZHMsIFBh
Z2UgRGVzaWduLCBGb3JtIERlc2lnbi48L3A+CgoJPHA+T25jZSBldmVyeXRoaW5nIGlzIHNl
dHVwIHlvdSYjODIxNztsbCBuZWVkIHRvIHNldHVwIGEgY3JvbiBqb2IgdG8gZ2V0IGEgc3Bl
Y2lmaWMgdXJsIHRvIHVwZGF0ZSB0aGUgZmVlZHMuIFRoZSBwYXRoIHdvdWxkIGJlOiBodHRw
Oi8vd2Vic2l0ZXVybC8/YXN2X3R1bWJsZWxvZ191cGRhdGVmZWVkcz0xIChub3RlOiB0aGlz
IGlzIG5vdCB0aGUgdGV4dHBhdHRlcm4gZm9sZGVyLCBidXQgdGhlIHVybCB0byB5b3VyIG1h
aW4gc2l0ZSkuPC9wPgoKCTxoMz5TZXR0aW5nczwvaDM+CgoJPHA+QmVmb3JlIHVzaW5nIGFz
dl90dW1ibGVsb2cgeW91JiM4MjE3O2xsIG5lZWQgdG8gc2V0dXAgYSBjb3VwbGUgdGhpbmdz
LgoJPHVsPgoJCTxsaT48c3Ryb25nPlNvdXJjZSBMaW5rIEZpZWxkPC9zdHJvbmc+ICYjODIx
MTsgc2VsZWN0IHRoZSBjdXN0b20gZmllbGQgeW91IHdvdWxkIGxpa2UgdG8gdXNlIHRvIHN0
b3JlIHRoZSBvcmlnaW5hbCBsaW5rIHRvIHRoZSBpbXBvcnRlZCBwb3N0PC9saT4KCQk8bGk+
PHN0cm9uZz5UdW1ibGVsb2cgU2VjdGlvbjwvc3Ryb25nPiAmIzgyMTE7IHRoZSBzZWN0aW9u
IHRvIGltcG9ydCB0aGUgZmVlZCBpbnRvPC9saT4KCQk8bGk+PHN0cm9uZz5TaW1wbGVQaWUg
UGF0aDwvc3Ryb25nPiAmIzgyMTE7IC90aGUvcGF0aC90by95b3VyL1NpbXBsZVBpZS9pbnN0
YWxsPC9saT4KCTwvdWw+PC9wPgoKCTx1bD4KCQk8bGk+PHN0cm9uZz5Qb3N0IEZvcm08L3N0
cm9uZz4gJiM4MjExOyB0aGUgZm9ybSB0aGF0IHNob3VsZCBiZSB1c2VkIHRvIGZlZWRzIHR5
cGVkIGFzIHBvc3RzPC9saT4KCQk8bGk+PHN0cm9uZz5RdW90ZSBGb3JtPC9zdHJvbmc+ICYj
ODIxMTsgdGhlIGZvcm0gdGhhdCBzaG91bGQgYmUgdXNlZCB0byBmZWVkcyB0eXBlZCBhcyBx
dW90ZXM8L2xpPgoJCTxsaT48c3Ryb25nPkxpbmsgRm9ybTwvc3Ryb25nPiAmIzgyMTE7IHRo
ZSBmb3JtIHRoYXQgc2hvdWxkIGJlIHVzZWQgdG8gZmVlZHMgdHlwZWQgYXMgbGlua3M8L2xp
PgoJCTxsaT48c3Ryb25nPlBob3RvIEZvcm08L3N0cm9uZz4gJiM4MjExOyB0aGUgZm9ybSB0
aGF0IHNob3VsZCBiZSB1c2VkIHRvIGZlZWRzIHR5cGVkIGFzIHBob3RvczwvbGk+Cgk8L3Vs
PgoKCTxoMz5GZWVkczwvaDM+CgoJPHA+SW4gdGhlICYjODIxNjtGZWVkcyYjODIxNzsgc2Vj
dGlvbiB5b3UgYWRkL2VkaXQvdmlldyBhbGwgeW91ciBmZWVkcyB5b3UgYXJlIGltcG9ydGlu
Zy4gV2hlbiBhZGRpbmcgYSBmZWVkLCBmaWxsIGluIHRoZSBpbmZvcm1hdGlvbiBhbmQgY2hv
b3NlIHRoZSBhcHByb3ByaWF0ZSB0eXBlLiBZb3UgY2FuIGNyZWF0ZSB5b3VyIG93biBkZWZp
bml0aW9ucyBmb3IgZWFjaCB0eXBlIHNpbmNlIHlvdSBjYW4gZWRpdCB0aGUgZGVzaWduIGlu
IGxhdHRlciBzZWN0aW9ucy48L3A+CgoJPHA+PHN0cm9uZz5UaGUgb25lIGV4Y2VwdGlvbiBp
cyB0aGUgcGhvdG8gdHlwZS48L3N0cm9uZz4gSWYgYSBmZWVkIGlzIHR5cGVkIGFzIGEgcGhv
dG8gdGhlbiBhc3ZfdHVtYmxlbG9nIHdpbGwgcGFyc2UgdGhlIGJvZHkgb2YgYSBwb3N0IGFu
ZCBncmFiIHRoZSBmaXJzdCBpbWFnZSwgaW1wb3J0IGl0IGludG8gPHNwYW4gY2xhc3M9ImNh
cHMiPlRYUDwvc3Bhbj4sIGFuZCBtYWtlIHRoZSBib2R5IG9mIHRoZSBpbXBvcnRlZCBhcnRp
Y2xlIGEgcmVmZXJlbmNlIHRvIHRoZSBpbXBvcnRlZCBwaG90by48L3A+CgoJPGgzPlBhZ2Ug
RGVzaWduPC9oMz4KCgk8cD5IZXJlIHlvdSBjYW4gZWRpdCB0aGUgcGFnZSB0aGF0IGlzIGFz
c29jaWF0ZWQgdG8geW91ciB0dW1ibGVsb2cgc2VjdGlvbi48L3A+CgoJPGgzPlBhZ2UgU3R5
bGU8L2gzPgoKCTxwPkhlcmUgeW91IGNhbiBlZGl0IHRoZSBzdHlsZSB0aGF0IGlzIGFzc29j
aWF0ZWQgdG8geW91ciB0dW1ibGVsb2cgc2VjdGlvbi48L3A+CgoJPGgzPkZvcm0gRGVzaWdu
PC9oMz4KCgk8cD5IZXJlIHlvdSBjYW4gZWRpdCB0aGUgNCBmb3JtcyB1c2VkIGZvciB5b3Vy
IHR1bWJsZWxvZy48L3A+CgoJPGgzPkJvb2ttYXJrbGV0PC9oMz4KCgk8cD5BZGQgdGhpcyB0
byB5b3VyIGJvb2ttYXJrcyBhbmQgeW91IGNhbiBjcmVhdGUgcXVpY2sgcG9zdHMgZm9yIHNp
dGVzIHlvdSB2aXNpdC48L3A+CgoJPGgzPlJlY2NvbW1lbmRhdGlvbnM8L2gzPgoKCTxwPllv
dSYjODIxNztsbCBsZWFybiB0aGF0IHlvdSBoYXZlIGEgbG90IG9mIHJvb20gZm9yIGZsZXhp
YmlsaXR5IGFuZCBjdXN0b21pemF0aW9uIHdpdGggYXN2X3R1bWJsZWxvZy4gSSB3b3VsZCBy
ZWNvbW1lbmQgaW5zdGFsbGluZyBwbHVnaW5zIGxpa2UgcnNzX2F1dG9fZXhjZXJwdCBhbmQg
dHJ1X3RhZ3MuIFdpdGggcnNzX2F1dG9fZXhjZXJwdCB5b3UgY2FuIHRydW5jYXRlIHBvc3Rz
IGFuZCB0cnVfdGFncyB3aWxsIGxldCB5b3UgaW1wbGVtZW50IGEgdGFnZ2luZyBzb2x1dGlv
biB1c2luZyB0aGUgJiM4MjE2O0tleXdvcmRzJiM4MjE3OyBmaWVsZC48L3A+IjtzOjQ6ImNv
ZGUiO3M6NDAxMjc6IgppZiAoQHR4cGludGVyZmFjZSA9PSAnYWRtaW4nKQp7CglhZGRfcHJp
dnMoJ2Fzdl90dW1ibGVsb2cnLCcxLDIsMyw0Jyk7IC8vIEFsbG93IG9ubHkgdXNlcmxldmVs
cyAxLDIsMyw0IGFjZXNzIHRvIHRoaXMgcGx1Z2luLgoJcmVnaXN0ZXJfdGFiKCdleHRlbnNp
b25zJywgJ2Fzdl90dW1ibGVsb2cnLCAiVHVtYmxlbG9nIik7CglyZWdpc3Rlcl9jYWxsYmFj
aygiYXN2X3R1bWJsZWxvZyIsICJhc3ZfdHVtYmxlbG9nIik7Cn0KCi8vLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KLy8g
VXRpbGl0eSBGdW5jdGlvbnMKLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQpmdW5jdGlvbiBhc3ZfdHVtYmxlbG9nX3Rp
dGxlKCRhY3RpdmUpCnsKCgkkdGl0bGVzID0gYXJyYXkoJ1NldHRpbmdzJz0+J1NldHRpbmdz
JywgJ0ZlZWRzJz0+J0ZlZWRzJywgJ3BhZ2UtZGVzaWduJz0+J1BhZ2UgRGVzaWduJywgJ3Bh
Z2Utc3R5bGUnPT4nUGFnZSBTdHlsZScsICdEZXNpZ24nPT4nRm9ybSBEZXNpZ24nLCAnYm9v
a21hcmtsZXQnPT4nQm9va21hcmtsZXQnKTsKCSRuZXd0aXRsZXMgPSBhcnJheSgpOwoJZm9y
ZWFjaCgkdGl0bGVzIGFzICRrZXk9PiR0aXRsZSkKCXsKCQlpZigkdGl0bGUhPSRhY3RpdmUp
CgkJewoJCQkkdGl0bGU9JzxhIGhyZWY9ImluZGV4LnBocD9ldmVudD1hc3ZfdHVtYmxlbG9n
JnN0ZXA9Jy4ka2V5LiciPicuJHRpdGxlLic8L2E+JzsKCQl9CgkJYXJyYXlfcHVzaCgkbmV3
dGl0bGVzLCAkdGl0bGUpOwoJfQoKCXJldHVybiB0YWcoam9pbigkbmV3dGl0bGVzLCAiIHwg
IiksICdoMScsICcgc3R5bGU9InRleHQtYWxpZ246IGNlbnRlcjsiJyk7Cn0KLy8tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LQpmdW5jdGlvbiBhc3Zfc2VjdGlvbl9wb3B1cCgkU2VjdGlvbiwgJGlkKQp7CgkkcnMgPSBz
YWZlX2NvbHVtbignbmFtZScsICd0eHBfc2VjdGlvbicsICJuYW1lICE9ICdkZWZhdWx0JyIp
OwoKCWlmICgkcnMpCgl7CgkJcmV0dXJuIHNlbGVjdElucHV0KCd0dW1ibGVsb2dzZWN0aW9u
JywgJHJzLCAkU2VjdGlvbiwgZmFsc2UsICcnLCAkaWQpOwoJfQoKCXJldHVybiBmYWxzZTsK
fQovLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tCmZ1bmN0aW9uIGFzdl9jdXN0b21fcG9wdXAoJEN1c3RvbSwgJGlkKQp7
CgkkcnMgPSBzYWZlX2NvbHVtbigndmFsJywgJ3R4cF9wcmVmcycsICJuYW1lIExJS0UgJ2N1
c3RvbV8lX3NldCciKTsKCglpZiAoJHJzKQoJewoJCXJldHVybiBzZWxlY3RJbnB1dCgkaWQs
ICRycywgJEN1c3RvbSwgZmFsc2UsICcnLCAkaWQpOwoJfQoKCXJldHVybiBmYWxzZTsKfQov
Ly0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tCmZ1bmN0aW9uIGFzdl9mb3JtX3BvcHVwKCRDdXN0b20sICRpZCwgJG5hbWU9
IiIpCnsKCSRycyA9IHNhZmVfY29sdW1uKCduYW1lJywgJ3R4cF9mb3JtJywgInR5cGU9J2Fy
dGljbGUnIik7CgoJaWYgKCRycykKCXsKCQlyZXR1cm4gc2VsZWN0SW5wdXQoJGlkLCAkcnMs
ICRDdXN0b20sIGZhbHNlLCAnJywgJGlkKTsKCX0KCglyZXR1cm4gZmFsc2U7Cn0KLy8tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLQpmdW5jdGlvbiBhc3ZfY2F0X3BvcHVwKCRDdXN0b20sICRpZCwgJG5hbWU9IiIpCnsK
CSRycyA9IGdldFRyZWUoJ3Jvb3QnLCAnYXJ0aWNsZScpOwoKCWlmICgkcnMpCgl7CgkJcmV0
dXJuIHRyZWVTZWxlY3RJbnB1dCgkbmFtZSwkcnMsJEN1c3RvbSwgJGlkKTsKCX0KCglyZXR1
cm4gZmFsc2U7Cn0KLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tCmZ1bmN0aW9uIGdldF9hc3ZfdHVtYmxlbG9nX3ByZWZz
KCkKewoJJG91dCA9IGFycmF5KCk7CgkkciA9IHNhZmVfcm93c19zdGFydCgnbmFtZSwgdmFs
JywgJ3R4cF9wcmVmcycsICJldmVudD0nYXN2X3R1bWJsZWxvJyIpOwoJaWYgKCRyKSB7CgkJ
d2hpbGUgKCRhID0gbmV4dFJvdygkcikpIHsKCQkJJG91dFskYVsnbmFtZSddXSA9ICRhWyd2
YWwnXTsKCQl9CgoJCXJldHVybiBsQXR0cyhhcnJheSgKCQkJJ3NvdXJjZWxpbmsnCT0+ICcn
LAoJCQkndHVtYmxlbG9nc2VjdGlvbicgPT4gJycsCgkJCSdzaW1wbGVwaWUnID0+ICcnLAoJ
CQkncG9zdGZvcm0nCT0+ICcnLAoJCQkncXVvdGVmb3JtJwk9PiAnJywKCQkJJ3Bob3RvZm9y
bScJPT4gJycsCgkJCSdsaW5rZm9ybScgCT0+ICcnLAoJCQkncnNzZmVlZHBhZ2UnID0+ICcn
LAoJCQknZmVlZF9pZF9maWVsZCcgPT4gJycsCgkJCSksJG91dCk7CgoJfQoJcmV0dXJuIGZh
bHNlOwp9Ci8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0KZnVuY3Rpb24gYXN2X3R1bWJsZWxvZ19nZXRDdXN0b21GaWVs
ZCgkbmFtZSkKewoJJG5hbWUgPSBkb1NsYXNoKCRuYW1lKTsKCSRjdXN0b21fcm93ID0gc2Fm
ZV9yb3coIioiLCAndHhwX3ByZWZzJywgInZhbD0nJG5hbWUnIik7CglpZigkY3VzdG9tX3Jv
dykKCXsKCQlyZXR1cm4gJ2N1c3RvbV8nLiRjdXN0b21fcm93Wydwb3NpdGlvbiddOwoJfQoJ
ZWxzZQoJewoJCXJldHVybiBmYWxzZTsKCX0KfQovLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCmZ1bmN0aW9uIGFzdl90
dW1ibGVsb2dfbGlzdF9tdWx0aWVkaXRfZm9ybSgpCnsKCSRtZXRob2RzID0gYXJyYXkoCgkJ
J2RlbGV0ZScgICAgICAgICAgPT4gZ1R4dCgnZGVsZXRlJyksCgkpOwoKCXJldHVybiBldmVu
dF9tdWx0aWVkaXRfZm9ybSgnbGlzdCcsICRtZXRob2RzLCAnJywnJywnJywnJywnJyk7Cn0K
Ly8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLQpmdW5jdGlvbiBhc3ZfdHVtYmxlbG9nX3ZlcmlmeUZlZWQoJGZlZWQsICRz
aW1wbGVwaWUpCnsKCS8vR2V0IFNpbXBsZVBpZQoJcmVxdWlyZV9vbmNlKCRzaW1wbGVwaWUp
OwoKCS8vQ3JlYXRlIGFuZCBzZXR1cCBTaW1wbGVQaWUgSW5zdGFuY2UKCSR0aGVmZWVkID0g
bmV3IFNpbXBsZVBpZSgpOwoJJHRoZWZlZWQtPnNldF9mZWVkX3VybCgkZmVlZCk7CgkkdGhl
ZmVlZC0+ZW5hYmxlX2NhY2hlKGZhbHNlKTsKCSR0aGVmZWVkLT5oYW5kbGVfY29udGVudF90
eXBlKCk7CgoJLy9HZXQgdGhlIGZlZWQKCSRzdWNjZXNzID0gJHRoZWZlZWQtPmluaXQoKTsK
CglyZXR1cm4gKCRzdWNjZXNzKT8gYXJyYXkoJHRoZWZlZWQtPmdldF90aXRsZSgpLCAkdGhl
ZmVlZC0+Z2V0X2Zhdmljb24oKSwgJHRoZWZlZWQtPmdldF9wZXJtYWxpbmsoKSkgOiAgZmFs
c2U7Cgp9CgovLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tCmZ1bmN0aW9uIGFzdl90dW1ibGVsb2dfdmVyaWZ5VGFibGUo
KQp7CglpZihzYWZlX3F1ZXJ5KCJTSE9XIFRBQkxFUyBMSUtFICciLnNhZmVfcGZ4KCdhc3Zf
dHVtYmxlbG9nX2ZlZWRzJykuIiciKSkKCXsKCQkkdmVyc2lvbiA9IG15c3FsX2dldF9zZXJ2
ZXJfaW5mbygpOwoJCS8vVXNlICJFTkdJTkUiIGlmIHZlcnNpb24gb2YgTXlTUUwgPiAoNC4w
LjE4IG9yIDQuMS4yKQoJCSR0YWJsZXR5cGUgPSAoIGludHZhbCgkdmVyc2lvblswXSkgPj0g
NSB8fCBwcmVnX21hdGNoKCcjXjRcLigwXC5bMi05XXwoMVs4OV0pKXwoMVwuWzItOV0pIycs
JHZlcnNpb24pKQoJCQkJCQk/ICIgRU5HSU5FPU15SVNBTSAiCgkJCQkJCTogIiBUWVBFPU15
SVNBTSAiOwoJCSRyZXN1bHQgPSBzYWZlX3F1ZXJ5KCJDUkVBVEUgVEFCTEUgSUYgTk9UIEVY
SVNUUyBgIi5QRlguImFzdl90dW1ibGVsb2dfZmVlZHNgKAoJCQlgSURgIGludCgxMSkgTk9U
IE5VTEwgYXV0b19pbmNyZW1lbnQsCgkJCWBGYXZpY29uYCB2YXJjaGFyKDI1NSkgTk9UIE5V
TEwgZGVmYXVsdCAnJywKCQkJYFRpdGxlYCB2YXJjaGFyKDI1NSkgTk9UIE5VTEwgZGVmYXVs
dCAnJywKCQkJYEZlZWRgIHZhcmNoYXIoMjU1KSBOT1QgTlVMTCBkZWZhdWx0ICcnLAoJCQlg
VVJMYCB2YXJjaGFyKDI1NSkgTk9UIE5VTEwgZGVmYXVsdCAnJywKCQkJYEltYWdlYCBpbnQo
MykgTk9UIE5VTEwgZGVmYXVsdCAnMCcsCgkJCWBBbm5vdGF0ZWAgaW50KDIpIE5PVCBOVUxM
IGRlZmF1bHQgJzAnLAoJCQlgVHlwZWAgdmFyY2hhcigxMjgpIE5PVCBOVUxMIGRlZmF1bHQg
JycsCgkJCWBDYXRlZ29yeTFgIHZhcmNoYXIoMTI4KSBOT1QgTlVMTCBkZWZhdWx0ICcnLAoJ
CQlgQ2F0ZWdvcnkyYCB2YXJjaGFyKDEyOCkgTk9UIE5VTEwgZGVmYXVsdCAnJywKCQkJYEtl
eXdvcmRzYCB2YXJjaGFyKDI1NSkgTk9UIE5VTEwgZGVmYXVsdCAnJywKCQkJIFBSSU1BUlkg
S0VZICAoYElEYCkKCQkJICkgJHRhYmxldHlwZSBQQUNLX0tFWVM9MSBBVVRPX0lOQ1JFTUVO
VD0yICIpOwoKCQlpZigkcnMgPSBzYWZlX3Nob3coJ0NPTFVNTlMnLCAnYXN2X3R1bWJsZWxv
Z19mZWVkcycpKQoJCXsKCQkJaWYoY291bnQoJHJzKSE9MTEpCgkJCXsKCQkJCSRkZXNpZ25f
Y29sID0gYXJyYXkoJ0lEJywgJ0Zhdmljb24nLCAnVGl0bGUnLCAnRmVlZCcsICdVUkwnLCAn
SW1hZ2UnLCAnQW5ub3RhdGUnLCAnVHlwZScsICdDYXRlZ29yeTEnLCAnQ2F0ZWdvcnkyJywg
J0tleXdvcmRzJyk7CgkJCQkkZXhpc3RfY29sID0gYXJyYXkoKTsKCQkJCWZvcmVhY2goJHJz
IGFzICRjb2wpCgkJCQl7CgkJCQkJJGV4aXN0X2NvbFtdID0gJGNvbFsnRmllbGQnXTsKCQkJ
CX0KCQkJCSRkaWZmID0gYXJyYXlfZGlmZigkZGVzaWduX2NvbCwgJGV4aXN0X2NvbCk7CgkJ
CQlmb3JlYWNoKCRkaWZmIGFzICRjb2wpCgkJCQl7CgkJCQkJc3dpdGNoKCRjb2wpCgkJCQkJ
ewoJCQkJCQljYXNlICdJRCc6CgkJCQkJCQlzYWZlX2FsdGVyKCdhc3ZfdHVtYmxlbG9nX2Zl
ZWRzJywgJ0FERCBgSURgIGludCgxMSkgTk9UIE5VTEwgYXV0b19pbmNyZW1lbnQnKTsKCQkJ
CQkJCWJyZWFrOwoJCQkJCQljYXNlICdGYXZpY29uJzoKCQkJCQkJCXNhZmVfYWx0ZXIoJ2Fz
dl90dW1ibGVsb2dfZmVlZHMnLCAiQUREIGBGYXZpY29uYCB2YXJjaGFyKDI1NSkgTk9UIE5V
TEwgZGVmYXVsdCAnJyIpOwoJCQkJCQkJYnJlYWs7CgkJCQkJCWNhc2UgJ1RpdGxlJzoKCQkJ
CQkJCXNhZmVfYWx0ZXIoJ2Fzdl90dW1ibGVsb2dfZmVlZHMnLCAiQUREIGBUaXRsZWAgdmFy
Y2hhcigyNTUpIE5PVCBOVUxMIGRlZmF1bHQgJyciKTsKCQkJCQkJCWJyZWFrOwoJCQkJCQlj
YXNlICdGZWVkJzoKCQkJCQkJCXNhZmVfYWx0ZXIoJ2Fzdl90dW1ibGVsb2dfZmVlZHMnLCAi
QUREIGBGZWVkYCB2YXJjaGFyKDI1NSkgTk9UIE5VTEwgZGVmYXVsdCAnJyIgKTsKCQkJCQkJ
CWJyZWFrOwoJCQkJCQljYXNlICdVUkwnOgoJCQkJCQkJc2FmZV9hbHRlcignYXN2X3R1bWJs
ZWxvZ19mZWVkcycsICJBREQgYFVSTGAgdmFyY2hhcigyNTUpIE5PVCBOVUxMIGRlZmF1bHQg
JyciKTsKCQkJCQkJCWJyZWFrOwoJCQkJCQljYXNlICdJbWFnZSc6CgkJCQkJCQlzYWZlX2Fs
dGVyKCdhc3ZfdHVtYmxlbG9nX2ZlZWRzJywgIkFERCBgSW1hZ2VgIGludCgzKSBOT1QgTlVM
TCBkZWZhdWx0ICcwJyIpOwoJCQkJCQkJYnJlYWs7CgkJCQkJCWNhc2UgJ0Fubm90YXRlJzoK
CQkJCQkJCXNhZmVfYWx0ZXIoJ2Fzdl90dW1ibGVsb2dfZmVlZHMnLCAiQUREIGBBbm5vdGF0
ZWAgaW50KDIpIE5PVCBOVUxMIGRlZmF1bHQgJzAnIik7CgkJCQkJCQlicmVhazsKCQkJCQkJ
Y2FzZSAnVHlwZSc6CgkJCQkJCQlzYWZlX2FsdGVyKCdhc3ZfdHVtYmxlbG9nX2ZlZWRzJywg
IkFERCBgVHlwZWAgdmFyY2hhcigxMjgpIE5PVCBOVUxMIGRlZmF1bHQgJyciKTsKCQkJCQkJ
CWJyZWFrOwoJCQkJCQljYXNlICdDYXRlZ29yeTEnOgoJCQkJCQkJc2FmZV9hbHRlcignYXN2
X3R1bWJsZWxvZ19mZWVkcycsICJBREQgYENhdGVnb3J5MWAgdmFyY2hhcigxMjgpIE5PVCBO
VUxMIGRlZmF1bHQgJyciKTsKCQkJCQkJCWJyZWFrOwoJCQkJCQljYXNlICdDYXRlZ29yeTIn
OgoJCQkJCQkJc2FmZV9hbHRlcignYXN2X3R1bWJsZWxvZ19mZWVkcycsICJBREQgYENhdGVn
b3J5MmAgdmFyY2hhcigxMjgpIE5PVCBOVUxMIGRlZmF1bHQgJyciKTsKCQkJCQkJCWJyZWFr
OwoJCQkJCQljYXNlICdLZXl3b3Jkcyc6CgkJCQkJCQlzYWZlX2FsdGVyKCdhc3ZfdHVtYmxl
bG9nX2ZlZWRzJywgIkFERCBgS2V5d29yZHNgIHZhcmNoYXIoMjU1KSBOT1QgTlVMTCBkZWZh
dWx0ICcnIik7CgkJCQkJCQlicmVhazsKCQkJCQl9CgkJCQl9CgkJCX0KCQl9Cgl9Cn0KLy8t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLQpmdW5jdGlvbiBhc3ZfdHVtYmxlbG9nX3RyaW10d2l0dGVyKCRpbnB1dCwgJHNv
dXJjZSwgJHRpdGxlKQp7CglpZihzdHJzdHIoJHNvdXJjZSwgInR3aXR0ZXIuY29tIikpCgl7
CgkJcmV0dXJuIHByZWdfcmVwbGFjZSgnLyhcdys6KSAoXC4qKS8nLCAnJDInLCAkaW5wdXQp
OwoJfQoJZWxzZWlmKHN0cnN0cigkc291cmNlLCAidmltZW8uY29tIikgJiYgISR0aXRsZSkK
CXsKCQkkdmlkZW9faWQgPSBzdWJzdHIoc3RycmNocigkc291cmNlLCAnLycpLCAxKTsKCiR2
aWRlb19lbWJlZCA9IDw8PEVPRAo8b2JqZWN0IHR5cGU9ImFwcGxpY2F0aW9uL3gtc2hvY2t3
YXZlLWZsYXNoIiB3aWR0aD0iNDAwIiBoZWlnaHQ9IjMyNyIgZGF0YT0iaHR0cDovL3d3dy52
aW1lby5jb20vbW9vZ2Fsb29wLnN3Zj9jbGlwX2lkPSR2aWRlb19pZCZhbXA7c2VydmVyPXd3
dy52aW1lby5jb20mYW1wO2Z1bGxzY3JlZW49MSZhbXA7c2hvd190aXRsZT0xJmFtcDtzaG93
X2J5bGluZT0xJmFtcDtzaG93X3BvcnRyYWl0PTAmYW1wO2NvbG9yPTAxQUFFQSI+CTxwYXJh
bSBuYW1lPSJxdWFsaXR5IiB2YWx1ZT0iYmVzdCIgLz4JPHBhcmFtIG5hbWU9ImFsbG93ZnVs
bHNjcmVlbiIgdmFsdWU9InRydWUiIC8+CTxwYXJhbSBuYW1lPSJzY2FsZSIgdmFsdWU9InNo
b3dBbGwiIC8+CTxwYXJhbSBuYW1lPSJtb3ZpZSIgdmFsdWU9Imh0dHA6Ly93d3cudmltZW8u
Y29tL21vb2dhbG9vcC5zd2Y/Y2xpcF9pZD0kdmlkZW9faWQmYW1wO3NlcnZlcj13d3cudmlt
ZW8uY29tJmFtcDtmdWxsc2NyZWVuPTEmYW1wO3Nob3dfdGl0bGU9MSZhbXA7c2hvd19ieWxp
bmU9MSZhbXA7c2hvd19wb3J0cmFpdD0wJmFtcDtjb2xvcj0wMUFBRUEiIC8+PC9vYmplY3Q+
CkVPRDsKCQlyZXR1cm4gJHZpZGVvX2VtYmVkOwoJfQoJZWxzZWlmKHN0cnN0cigkc291cmNl
LCAidmlkZGxlci5jb20iKSAmJiAhJHRpdGxlKQoJewoJCSR2aWRlb19pZCA9IHByZWdfcmVw
bGFjZSgnLyguKikodG9rZW49KShcdyspKCYuKikvJywgJyQzJywgc3RyX3JlcGxhY2UoYXJy
YXkoIlxuIiwgIlxyIiwgIlx0IiwgIiAiLCAiXG8iLCAiXHhPQiIpLCAnJywgJGlucHV0KSk7
CiR2aWRlb19lbWJlZCA9IDw8PEVPRAo8b2JqZWN0IGNsYXNzaWQ9ImNsc2lkOkQyN0NEQjZF
LUFFNkQtMTFjZi05NkI4LTQ0NDU1MzU0MDAwMCIgd2lkdGg9IjQzNyIgaGVpZ2h0PSIzNzAi
IGlkPSJ2aWRkbGVyIj48cGFyYW0gbmFtZT0ibW92aWUiIHZhbHVlPSJodHRwOi8vd3d3LnZp
ZGRsZXIuY29tL3BsYXllci8kdmlkZW9faWQvIiAvPjxwYXJhbSBuYW1lPSJhbGxvd1Njcmlw
dEFjY2VzcyIgdmFsdWU9ImFsd2F5cyIgLz48cGFyYW0gbmFtZT0iYWxsb3dGdWxsU2NyZWVu
IiB2YWx1ZT0idHJ1ZSIgLz48ZW1iZWQgc3JjPSJodHRwOi8vd3d3LnZpZGRsZXIuY29tL3Bs
YXllci8kdmlkZW9faWQvIiB3aWR0aD0iNDM3IiBoZWlnaHQ9IjM3MCIgdHlwZT0iYXBwbGlj
YXRpb24veC1zaG9ja3dhdmUtZmxhc2giIGFsbG93U2NyaXB0QWNjZXNzPSJhbHdheXMiIGFs
bG93RnVsbFNjcmVlbj0idHJ1ZSIgbmFtZT0idmlkZGxlciIgPjwvZW1iZWQ+PC9vYmplY3Q+
CkVPRDsKCQlyZXR1cm4gJHZpZGVvX2VtYmVkOwoJfQoJcmV0dXJuICRpbnB1dDsKfQovLyAt
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tCmZ1bmN0aW9uIGFzdl90dW1ibGVsb2dfdGV4dGlsZV9tYWluX2ZpZWxkcygkaW5j
b21pbmcsICR1c2VfdGV4dGlsZSkKewoJZ2xvYmFsICR0eHBjZmc7CgoJaW5jbHVkZV9vbmNl
IHR4cGF0aC4nL2xpYi9jbGFzc1RleHRpbGUucGhwJzsKCSR0ZXh0aWxlID0gbmV3IFRleHRp
bGUoKTsKCgkkaW5jb21pbmdbJ3RpdGxlX3BsYWluJ10gPSAkaW5jb21pbmdbJ3RpdGxlJ107
CgkkaW5jb21pbmdbJ2JvZHlfaHRtbCddID0gJHRleHRpbGUtPlRleHRpbGVUaGlzKCRpbmNv
bWluZ1snYm9keSddKTsKCSRpbmNvbWluZ1sndGl0bGUnXSA9ICR0ZXh0aWxlLT5UZXh0aWxl
VGhpcygkaW5jb21pbmdbJ3RpdGxlJ10sJycsMSk7CgoJcmV0dXJuICRpbmNvbWluZzsKfQov
Ly0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tCmZ1bmN0aW9uIGFzdl90dW1ibGVsb2dfZmVlZHNfbGlzdCgkYXR0cywkdGhp
bmcpCnsKfQoKZnVuY3Rpb24gYXN2X3R1bWJsZWxvZygkZXZlbnQsICRzdGVwKQp7Cgkkc3Rl
cD0oJHN0ZXA9PScnKT8nU2V0dGluZ3MnOiRzdGVwOwoKCXN3aXRjaCgkc3RlcCkKCXsKCQlj
YXNlICdTZXR0aW5ncyc6CgkJCWFzdl90dW1ibGVsb2dfc2V0dGluZ3MoJHN0ZXApOwoJCQli
cmVhazsKCQljYXNlICdGZWVkcyc6CgkJCWFzdl90dW1ibGVsb2dfZmVlZHMoJHN0ZXApOwoJ
CQlicmVhazsKCQljYXNlICdEZXNpZ24nOgoJCQlhc3ZfdHVtYmxlbG9nX2Rlc2lnbigkc3Rl
cCk7CgkJCWJyZWFrOwoJCWNhc2UgJ3BhZ2UtZGVzaWduJzoKCQkJYXN2X3R1bWJsZWxvZ19w
YWdlZGVzaWduKCRzdGVwKTsKCQkJYnJlYWs7CgkJY2FzZSAncGFnZS1zdHlsZSc6CgkJCWFz
dl90dW1ibGVsb2dfcGFnZXN0eWxlKCRzdGVwKTsKCQkJYnJlYWs7CgkJY2FzZSAnYm9va21h
cmtsZXQnOgoJCQlhc3ZfdHVtYmxlbG9nX2Jvb2ttYXJrbGV0KCRzdGVwKTsKCQkJYnJlYWs7
CgkJY2FzZSAnbWluaSc6CgkJCWFzdl90dW1ibGVsb2dfbWluaSgkc3RlcCk7CgkJCWJyZWFr
OwoJfQp9Ci8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0KZnVuY3Rpb24gYXN2X3R1bWJsZWxvZ19taW5pKCRzdGVwKQp7
CglnbG9iYWwgJHR4cF91c2VyLCAkdmFycywgJHR4cGNmZywgJHByZWZzOwoKCSRtZXNzYWdl
ID0gJyc7CgoJZXh0cmFjdCgkcHJlZnMpOwoJZXh0cmFjdChnZXRfYXN2X3R1bWJsZWxvZ19w
cmVmcygpKTsKCgkkaW5jb21pbmcgPSBsQXR0cyhhcnJheSgKCQkJJ21ldGhvZCcJPT4gJycs
CgkJCSdmb3JtbmFtZScgPT4gJycsCgkJCSdzb3VyY2V1cmwnID0+ICcnLAoJCQkndGl0bGUn
CT0+ICcnLAoJCQknYm9keScJPT4gJycsCgkJCSdjYXRlZ29yeTEnCT0+ICcnLAoJCQknY2F0
ZWdvcnkyJyAJPT4gJycsCgkJCSdrZXl3b3JkcycgPT4gJycsCgkJCSdwaG90b3VybCcJPT4g
JycsCgkJCSksCgkJCQlncHNhKGFycmF5KCdtZXRob2QnLCAnZm9ybW5hbWUnLCAnc291cmNl
dXJsJywgJ3RpdGxlJywgJ2JvZHknLCAnY2F0ZWdvcnkxJywgJ2NhdGVnb3J5MicsICdrZXl3
b3JkcycsICdwaG90b3VybCcpKSk7CgoJJGluY29taW5nID0gYXN2X3R1bWJsZWxvZ190ZXh0
aWxlX21haW5fZmllbGRzKCRpbmNvbWluZywgJHVzZV90ZXh0aWxlKTsKCWV4dHJhY3QoZG9T
bGFzaCgkaW5jb21pbmcpKTsKCgoJaWYoZ3BzKCdhY3Rpb24nKT09J2NyZWF0ZScpCgl7CgoJ
CSRjdXN0b21GaWVsZCA9IGFzdl90dW1ibGVsb2dfZ2V0Q3VzdG9tRmllbGQoJHNvdXJjZWxp
bmspOwoKCQkkcmVzdWx0ID0gc2FmZV9pbnNlcnQoInRleHRwYXR0ZXJuIiwKCQkJCQkiVGl0
bGUgICAgICAgICAgID0gJyIuJHRpdGxlLiInLAoJCQkJCVRpdGxlX2h0bWwJPSciLiR0aXRs
ZV9wbGFpbi4iJywKCQkJCQlCb2R5ICAgICAgICAgICAgPSAnIi4kYm9keS4iJywKCQkJCQlC
b2R5X2h0bWwgICAgICAgPSAnIi4kYm9keV9odG1sLiInLAoJCQkJCUV4Y2VycHQgICAgICAg
ICA9ICcnLAoJCQkJCUV4Y2VycHRfaHRtbCAgICA9ICcnLAoJCQkJCUltYWdlICAgICAgICAg
ICA9ICciLigoJG1ldGhvZD09J3Bob3RvJyk/ICRwaG90b3VybDogIiIpLiInLAoJCQkJCUtl
eXdvcmRzICAgICAgICA9ICciLiRrZXl3b3Jkcy4iJywKCQkJCQlTdGF0dXMgICAgICAgICAg
PSAgNCwKCQkJCQlQb3N0ZWQgICAgICAgICAgPSAgbm93KCksCgkJCQkJTGFzdE1vZCAgICAg
ICAgID0gIG5vdygpLAoJCQkJCUF1dGhvcklEICAgICAgICA9ICckdHhwX3VzZXInLAoJCQkJ
CVNlY3Rpb24gICAgICAgICA9ICciLiR0dW1ibGVsb2dzZWN0aW9uLiInLAoJCQkJCUNhdGVn
b3J5MSAgICAgICA9ICciLiRjYXRlZ29yeTEuIicsCgkJCQkJQ2F0ZWdvcnkyICAgICAgID0g
JyIuJGNhdGVnb3J5Mi4iJywKCQkJCQl0ZXh0aWxlX2JvZHkgICAgPSAgMSwKCQkJCQl0ZXh0
aWxlX2V4Y2VycHQgPSAgMSwKCQkJCQlBbm5vdGF0ZSAgICAgICAgPSAgMSwKCQkJCQlvdmVy
cmlkZV9mb3JtICAgPSAnIi4kZm9ybW5hbWUuIicsCgkJCQkJdXJsX3RpdGxlICAgICAgID0g
JycsCgkJCQkJJGN1c3RvbUZpZWxkIAkJPSAnIi4oKCRtZXRob2QhPSdwb3N0Jyk/ICRzb3Vy
Y2V1cmw6ICIiKS4iJywKCQkJCQlBbm5vdGF0ZUludml0ZSAgPSAnY29tbWVudHMnLAoJCQkJ
CXVpZCAgICAgICAgICAgICA9ICciLm1kNSh1bmlxaWQocmFuZCgpLHRydWUpKS4iJywKCQkJ
CQlmZWVkX3RpbWUgICAgICAgPSBub3coKSIKCQkJCSk7CgoJCQkJaWYoJHJlc3VsdCkKCQkJ
CXsKCQkJCQkvL2RvX3BpbmdzKCk7CgkJCQkJdXBkYXRlX2xhc3Rtb2QoKTsKCQkJCQkkbWVz
c2FnZSA9ICJBZGRlZCAtICIuJHRpdGxlOwoKCQkJCQlleHRyYWN0KGxBdHRzKGFycmF5KAoJ
CQkJCQknbWV0aG9kJwk9PiAnJywKCQkJCQkJJ2Zvcm1uYW1lJyA9PiAnJywKCQkJCQkJJ3Nv
dXJjZXVybCcgPT4gJycsCgkJCQkJCSd0aXRsZScJPT4gJycsCgkJCQkJCSdib2R5Jwk9PiAn
JywKCQkJCQkJJ2NhdGVnb3J5MScJPT4gJycsCgkJCQkJCSdjYXRlZ29yeTInIAk9PiAnJywK
CQkJCQkJJ2tleXdvcmRzJyA9PiAnJywKCQkJCQkJJ3Bob3RvdXJsJwk9PiAnJywKCQkJCQkJ
KSwgYXJyYXkoKSkpOwoJCQkJfQoJCQkJZWxzZQoJCQkJewoJCQkJCSRtZXNzYWdlID0gIlVu
YWJsZSB0byBzYXZlIC0gIi4kdGl0bGU7CgkJCQl9Cgl9CgoJcGFnZXRvcCgnUG9zdCB0byBU
dW1ibGVsb2cnLCAkbWVzc2FnZSk7CgoKCT8+Cgk8c2NyaXB0IHR5cGU9InRleHQvamF2YXNj
cmlwdCI+CgkJZnVuY3Rpb24gYXN2X3R1bWJsZWxvZ19taW5pX2Nob29zZShpZCl7CgkJCSQo
JyNhc3ZfdHVtYmxlbG9nX2xpbmsnKS5oaWRlKCk7CgkJCSQoJyNhc3ZfdHVtYmxlbG9nX3Bv
c3QnKS5oaWRlKCk7CgkJCSQoJyNhc3ZfdHVtYmxlbG9nX3Bob3RvJykuaGlkZSgpOwoJCQkk
KCcjYXN2X3R1bWJsZWxvZ19xdW90ZScpLmhpZGUoKTsKCgkJCSQoaWQpLnNob3coKTsKCQl9
CgkJJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oKSB7CgkJCWFzdl90dW1ibGVsb2dfbWlu
aV9jaG9vc2UoJyNhc3ZfdHVtYmxlbG9nX3Bvc3QnKTsKCQl9KTsKCTwvc2NyaXB0PgoKCTw/
cGhwCgoJZWNobyB0YWcoJzxhIGhyZWY9IiMiIG9uY2xpY2s9ImFzdl90dW1ibGVsb2dfbWlu
aV9jaG9vc2UoXCcjYXN2X3R1bWJsZWxvZ19wb3N0XCcpOyI+cG9zdDwvYT4gfCAnLgoJCSAn
PGEgaHJlZj0iIyIgb25jbGljaz0iYXN2X3R1bWJsZWxvZ19taW5pX2Nob29zZShcJyNhc3Zf
dHVtYmxlbG9nX3F1b3RlXCcpOyI+cXVvdGU8L2E+IHwgJy4KCQkgJzxhIGhyZWY9IiMiIG9u
Y2xpY2s9ImFzdl90dW1ibGVsb2dfbWluaV9jaG9vc2UoXCcjYXN2X3R1bWJsZWxvZ19saW5r
XCcpOyI+bGluazwvYT4gfCAnLgoJCSAnPGEgaHJlZj0iIyIgb25jbGljaz0iYXN2X3R1bWJs
ZWxvZ19taW5pX2Nob29zZShcJyNhc3ZfdHVtYmxlbG9nX3Bob3RvXCcpOyI+cGhvdG88L2E+
JywKCQkgCSdoMScsICcgc3R5bGU9InRleHQtYWxpZ246Y2VudGVyIicpOwoKCS8vcG9zdAoJ
ZWNobyAnPGZvcm0gbmFtZT0icG9zdCIgbWV0aG9kPSJwb3N0IiBhY3Rpb249ImluZGV4LnBo
cCI+Jy4KCQluLmhJbnB1dCgnZXZlbnQnLCAnYXN2X3R1bWJsZWxvZycpLgoJCW4uaElucHV0
KCdzdGVwJywgJ21pbmknKS4KCQluLmhJbnB1dCgnYWN0aW9uJywgJ2NyZWF0ZScpLgoJCW4u
aElucHV0KCdtZXRob2QnLCAncG9zdCcpLgoJCW4uaElucHV0KCdibScsICcxJyk7CgoJCWVj
aG8gc3RhcnRUYWJsZSgnYXN2X3R1bWJsZWxvZ19wb3N0JykuCgkJCXRyKAoJCQkJdGQoCgkJ
CQkJc3RhcnRUYWJsZSgnbGlzdCcpLgoJCQkJCXRyKHRkYSgnQWRkIGEgbmV3IHBvc3QnLCAn
IGNvbHNwYW49MicpKS4KCQkJCQl0cih0ZCgnRm9ybScpLnRkKGFzdl9mb3JtX3BvcHVwKCRw
b3N0Zm9ybSwgJ2Zvcm1uYW1lJykpKS4KCQkJCQl0cih0ZCgnVGl0bGUnKS50ZChmSW5wdXQo
J3RleHQnLCAndGl0bGUnLCAnJywgJycsICcnLCAnJywgJzUwJykpKS4KCQkJCQl0cih0ZCgn
UG9zdCcpLnRkKHRleHRfYXJlYSgnYm9keScsICcxMDAnLCAnMjUwJywgJGJvZHkpKSkuCgkJ
CQkJdHIodGRhKGZJbnB1dCgnc3VibWl0JywgJ3NhdmUnLCAncG9zdCcsICdwdWJsaXNoJyks
ICcgY29sc3Bhbj0yIHN0eWxlPSJ0ZXh0LWFsaWduOiByaWdodCInKSkuCgkJCQkJZW5kVGFi
bGUoKQoJCQkJKS4KCQkJCXRkKAoJCQkJCXN0YXJ0VGFibGUoJ2xpc3QnKS4KCQkJCQkJdHIo
dGQoKSkuCgkJCQkJCXRyKHRkKCdDYXRlZ29yeSAxPGJyIC8+Jy5hc3ZfY2F0X3BvcHVwKCRj
YXRlZ29yeTEsJ2NhdGVnb3J5MScpKSkuCgkJCQkJCXRyKHRkKCdDYXRlZ29yeSAyPGJyIC8+
Jy5hc3ZfY2F0X3BvcHVwKCRjYXRlZ29yeTIsJ2NhdGVnb3J5MicpKSkuCgkJCQkJCXRyKHRk
KCdLZXl3b3JkczxiciAvPicuZklucHV0KCd0ZXh0JywgJ2tleXdvcmRzJywgJycpKSkuCgkJ
CQkJZW5kVGFibGUoKQoJCQkJKSk7CgllY2hvICc8L2Zvcm0+PC9ib2R5PjwvaHRtbD4nOwoK
CS8vcXVvdGUKCWVjaG8gJzxmb3JtIG5hbWU9InF1b3RlIiBtZXRob2Q9InBvc3QiIGFjdGlv
bj0iaW5kZXgucGhwIj4nLgoJCW4uaElucHV0KCdldmVudCcsICdhc3ZfdHVtYmxlbG9nJyku
CgkJbi5oSW5wdXQoJ3N0ZXAnLCAnbWluaScpLgoJCW4uaElucHV0KCdhY3Rpb24nLCAnY3Jl
YXRlJykuCgkJbi5oSW5wdXQoJ21ldGhvZCcsICdxdW90ZScpLgoJCW4uaElucHV0KCdibScs
ICcxJyk7CgoJCWVjaG8gc3RhcnRUYWJsZSgnYXN2X3R1bWJsZWxvZ19xdW90ZScpLgoJCQl0
cigKCQkJCXRkKAoJCQkJCXN0YXJ0VGFibGUoJ2xpc3QnKS4KCQkJCQl0cih0ZGEoJ0FkZCBh
IG5ldyBxdW90ZScsICcgY29sc3Bhbj0yJykpLgoJCQkJCXRyKHRkKCdGb3JtJykudGQoYXN2
X2Zvcm1fcG9wdXAoJHF1b3RlZm9ybSwgJ2Zvcm1uYW1lJykpKS4KCQkJCQl0cih0ZCgnU291
cmNlIFVSTCcpLnRkKGZJbnB1dCgndGV4dCcsICdzb3VyY2V1cmwnLCAkc291cmNldXJsLCAn
JywgJycsICcnLCAnNTAnKSkpLgoJCQkJCXRyKHRkKCdUaXRsZScpLnRkKGZJbnB1dCgndGV4
dCcsICd0aXRsZScsICR0aXRsZSwgJycsICcnLCAnJywgJzUwJykpKS4KCQkJCQl0cih0ZCgn
UG9zdCcpLnRkKHRleHRfYXJlYSgnYm9keScsICcxMDAnLCAnMjUwJywgJGJvZHkpKSkuCgkJ
CQkJdHIodGRhKGZJbnB1dCgnc3VibWl0JywgJ3NhdmUnLCAncG9zdCcsICdwdWJsaXNoJyks
ICcgY29sc3Bhbj0yIHN0eWxlPSJ0ZXh0LWFsaWduOiByaWdodCInKSkuCgkJCQkJZW5kVGFi
bGUoKQoJCQkJKS4KCQkJCXRkKAoJCQkJCXN0YXJ0VGFibGUoJ2xpc3QnKS4KCQkJCQkJdHIo
dGQoKSkuCgkJCQkJCXRyKHRkKCdDYXRlZ29yeSAxPGJyIC8+Jy5hc3ZfY2F0X3BvcHVwKCRj
YXRlZ29yeTEsJ2NhdGVnb3J5MScpKSkuCgkJCQkJCXRyKHRkKCdDYXRlZ29yeSAyPGJyIC8+
Jy5hc3ZfY2F0X3BvcHVwKCRjYXRlZ29yeTIsJ2NhdGVnb3J5MicpKSkuCgkJCQkJCXRyKHRk
KCdLZXl3b3JkczxiciAvPicuZklucHV0KCd0ZXh0JywgJ2tleXdvcmRzJywgJycpKSkuCgkJ
CQkJZW5kVGFibGUoKQoJCQkJKSk7CgllY2hvICc8L2Zvcm0+PC9ib2R5PjwvaHRtbD4nOwoK
CS8vbGluawoJZWNobyAnPGZvcm0gaWQ9IiIgbmFtZT0ibGluayIgbWV0aG9kPSJwb3N0IiBh
Y3Rpb249ImluZGV4LnBocCI+Jy4KCQluLmhJbnB1dCgnZXZlbnQnLCAnYXN2X3R1bWJsZWxv
ZycpLgoJCW4uaElucHV0KCdzdGVwJywgJ21pbmknKS4KCQluLmhJbnB1dCgnYWN0aW9uJywg
J2NyZWF0ZScpLgoJCW4uaElucHV0KCdtZXRob2QnLCAnbGluaycpLgoJCW4uaElucHV0KCdi
bScsICcxJyk7CgoJCWVjaG8gc3RhcnRUYWJsZSgnYXN2X3R1bWJsZWxvZ19saW5rJywgJ2Nl
bnRlcicpLgoJCQl0cigKCQkJCXRkKAoJCQkJCXN0YXJ0VGFibGUoJ2xpc3QnKS4KCQkJCQl0
cih0ZGEoJ0FkZCBhIG5ldyBsaW5rJywgJyBjb2xzcGFuPTInKSkuCgkJCQkJdHIodGQoJ0Zv
cm0nKS50ZChhc3ZfZm9ybV9wb3B1cCgkbGlua2Zvcm0sICdmb3JtbmFtZScpKSkuCgkJCQkJ
dHIodGQoJ1NvdXJjZSBVUkwnKS50ZChmSW5wdXQoJ3RleHQnLCAnc291cmNldXJsJywgJHNv
dXJjZXVybCwgJycsICcnLCAnJywgJzUwJykpKS4KCQkJCQl0cih0ZCgnVGl0bGUnKS50ZChm
SW5wdXQoJ3RleHQnLCAndGl0bGUnLCAkdGl0bGUsICcnLCAnJywgJycsICc1MCcpKSkuCgkJ
CQkJdHIodGQoJ1Bvc3QnKS50ZCh0ZXh0X2FyZWEoJ2JvZHknLCAnMTAwJywgJzI1MCcsICRi
b2R5KSkpLgoJCQkJCXRyKHRkYShmSW5wdXQoJ3N1Ym1pdCcsICdzYXZlJywgJ3Bvc3QnLCAn
cHVibGlzaCcpLCAnIGNvbHNwYW49MiBzdHlsZT0idGV4dC1hbGlnbjogcmlnaHQiJykpLgoJ
CQkJCWVuZFRhYmxlKCkKCQkJCSkuCgkJCQl0ZCgKCQkJCQlzdGFydFRhYmxlKCdsaXN0Jyku
CgkJCQkJCXRyKHRkKCkpLgoJCQkJCQl0cih0ZCgnQ2F0ZWdvcnkgMTxiciAvPicuYXN2X2Nh
dF9wb3B1cCgkY2F0ZWdvcnkxLCdjYXRlZ29yeTEnKSkpLgoJCQkJCQl0cih0ZCgnQ2F0ZWdv
cnkgMjxiciAvPicuYXN2X2NhdF9wb3B1cCgkY2F0ZWdvcnkyLCdjYXRlZ29yeTInKSkpLgoJ
CQkJCQl0cih0ZCgnS2V5d29yZHM8YnIgLz4nLmZJbnB1dCgndGV4dCcsICdrZXl3b3Jkcycs
ICcnKSkpLgoJCQkJCWVuZFRhYmxlKCkKCQkJCSkpOwoJZWNobyAnPC9mb3JtPjwvYm9keT48
L2h0bWw+JzsKCgkvL3Bob3RvCgllY2hvICc8Zm9ybSBuYW1lPSJwaG90byIgbWV0aG9kPSJw
b3N0IiBhY3Rpb249ImluZGV4LnBocCI+Jy4KCQluLmhJbnB1dCgnZXZlbnQnLCAnYXN2X3R1
bWJsZWxvZycpLgoJCW4uaElucHV0KCdzdGVwJywgJ21pbmknKS4KCQluLmhJbnB1dCgnYWN0
aW9uJywgJ2NyZWF0ZScpLgoJCW4uaElucHV0KCdtZXRob2QnLCAncGhvdG8nKS4KCQluLmhJ
bnB1dCgnYm0nLCAnMScpOwoKCQllY2hvIHN0YXJ0VGFibGUoJ2Fzdl90dW1ibGVsb2dfcGhv
dG8nKS4KCQkJdHIoCgkJCQl0ZCgKCQkJCQlzdGFydFRhYmxlKCdsaXN0JykuCgkJCQkJdHIo
dGRhKCdBZGQgYSBuZXcgcGhvdG8nLCAnIGNvbHNwYW49MicpKS4KCQkJCQl0cih0ZCgnRm9y
bScpLnRkKGFzdl9mb3JtX3BvcHVwKCRwaG90b2Zvcm0sICdmb3JtbmFtZScpKSkuCgkJCQkJ
dHIodGQoJ1Bob3RvIFVSTCcpLnRkKGZJbnB1dCgndGV4dCcsICdwaG90b3VybCcsICRwaG90
b3VybCwgJycsICcnLCAnJywgJzUwJykpKS4KCQkJCQl0cih0ZCgnU291cmNlIFVSTCcpLnRk
KGZJbnB1dCgndGV4dCcsICdzb3VyY2V1cmwnLCAkc291cmNldXJsLCAnJywgJycsICcnLCAn
NTAnKSkpLgoJCQkJCXRyKHRkKCdUaXRsZScpLnRkKGZJbnB1dCgndGV4dCcsICd0aXRsZScs
ICR0aXRsZSwgJycsICcnLCAnJywgJzUwJykpKS4KCQkJCQl0cih0ZCgnUG9zdCcpLnRkKHRl
eHRfYXJlYSgnYm9keScsICcxMDAnLCAnMjUwJywgJGJvZHkpKSkuCgkJCQkJdHIodGRhKGZJ
bnB1dCgnc3VibWl0JywgJ3NhdmUnLCAncG9zdCcsICdwdWJsaXNoJyksICcgY29sc3Bhbj0y
IHN0eWxlPSJ0ZXh0LWFsaWduOiByaWdodCInKSkuCgkJCQkJZW5kVGFibGUoKQoJCQkJKS4K
CQkJCXRkKAoJCQkJCXN0YXJ0VGFibGUoJ2xpc3QnKS4KCQkJCQkJdHIodGQoKSkuCgkJCQkJ
CXRyKHRkKCdDYXRlZ29yeSAxPGJyIC8+Jy5hc3ZfY2F0X3BvcHVwKCRjYXRlZ29yeTEsJ2Nh
dGVnb3J5MScpKSkuCgkJCQkJCXRyKHRkKCdDYXRlZ29yeSAyPGJyIC8+Jy5hc3ZfY2F0X3Bv
cHVwKCRjYXRlZ29yeTIsJ2NhdGVnb3J5MicpKSkuCgkJCQkJCXRyKHRkKCdLZXl3b3Jkczxi
ciAvPicuZklucHV0KCd0ZXh0JywgJ2tleXdvcmRzJywgJycpKSkuCgkJCQkJZW5kVGFibGUo
KQoJCQkJKSk7CgllY2hvICc8L2Zvcm0+PC9ib2R5PjwvaHRtbD4nOwoKCWV4aXQoKTsKfQov
Ly0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tCmZ1bmN0aW9uIGFzdl90dW1ibGVsb2dfYm9va21hcmtsZXQoJHN0ZXApCnsK
CWdsb2JhbCAkcHJlZnM7CgoJcGFnZXRvcCgnVHVtYmxlbG9nID4gQm9va21hcmtsZXQnLCAn
Jyk7CgoJZXh0cmFjdChnZXRfYXN2X3R1bWJsZWxvZ19wcmVmcygpKTsKCgllY2hvIGFzdl90
dW1ibGVsb2dfdGl0bGUoJHN0ZXApOwoKCS8vR2V0IGN1c3RvbSBmaWVsZAoJJGxpbmtmaWVs
ZF9zZXQgPSAnJzsKCSRjdXN0b21fcm93ID0gc2FmZV9yb3coIioiLCAndHhwX3ByZWZzJywg
InZhbD0nJHNvdXJjZWxpbmsnIik7CglpZigkY3VzdG9tX3JvdykKCXsKCQkkbGlua2ZpZWxk
X3NldCA9ICdjdXN0b21fJy4kY3VzdG9tX3Jvd1sncG9zaXRpb24nXTsKCX0KCWVsc2UKCXsK
CQkkbGlua2ZpZWxkX3NldCA9ICJjdXN0b21fMSI7Cgl9CgoKCSRib29rbWFya2xldCA9ICJq
YXZhc2NyaXB0OnZhciBkPWRvY3VtZW50LHc9d2luZG93LGU9dy5nZXRTZWxlY3Rpb24saz1k
LmdldFNlbGVjdGlvbix4PWQuc2VsZWN0aW9uLHM9KGU/ZSgpOihrKT9rKCk6KHg/eC5jcmVh
dGVSYW5nZSgpLnRleHQ6MCkpLGY9J2h0dHA6Ly8iLiRwcmVmc1snc2l0ZXVybCddLiIvdGV4
dHBhdHRlcm4vaW5kZXgucGhwPycsbD1kLmxvY2F0aW9uLGU9ZW5jb2RlVVJJQ29tcG9uZW50
LHA9J2V2ZW50PWFzdl90dW1ibGVsb2cmc3RlcD1taW5pJmJtPTEmZm9ybW5hbWU9Ii4kbGlu
a2Zvcm0uIiZzb3VyY2V1cmw9JytlKGwuaHJlZikrJyZ0aXRsZT0nK2UoZC50aXRsZSkrJyZi
b2R5PScrZShzKSx1PWYrcDthPWZ1bmN0aW9uKCl7aWYoIXcub3Blbih1LCd0JywndG9vbGJh
cj0wLHJlc2l6YWJsZT0wLHN0YXR1cz0xLHdpZHRoPTUwMCxoZWlnaHQ9NDAwJykpbC5ocmVm
PXU7fTtpZigvRmlyZWZveC8udGVzdChuYXZpZ2F0b3IudXNlckFnZW50KSlzZXRUaW1lb3V0
KGEsMCk7ZWxzZSBhKCk7dm9pZCgwKSI7CgoKCgllY2hvIHN0YXJ0VGFibGUoJ2xpc3QnKS4K
CQl0cih0ZGEoJ0FkZCB0aGUgZm9sbG93aW5nIHRvIHlvdXIgYm9va21hcmtzIHRvIG1ha2Ug
YSBxdWljayBwb3N0JywgJyBzdHlsZT0idGV4dC1hbGlnbjpjZW50ZXIiJykpLgoJCXRyKHRk
YSgiPGEgaHJlZj1cIiRib29rbWFya2xldFwiIHRpdGxlPSdEcmFnIHRoaXMgbGluayB0byB5
b3VyIEJvb2ttYXJrcyBCYXIuIENsaWNrIHRvIGxlYXJuIG1vcmUuJz5TaGFyZSBvbiBUWFA8
L2E+IiwgJyBzdHlsZT0idGV4dC1hbGlnbjpjZW50ZXIiJykpLgoJCWVuZFRhYmxlKCk7Cn0K
Ly8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLQpmdW5jdGlvbiBhc3ZfdHVtYmxlbG9nX3BhZ2VzdHlsZSgkc3RlcCkKewoK
CWV4dHJhY3QoZG9TbGFzaChnZXRfYXN2X3R1bWJsZWxvZ19wcmVmcygpKSk7CgoJJG1lc3Nh
Z2UgPSAnJzsKCWlmKGdwcygnYWN0aW9uJyk9PSdzYXZlJyAmJiBncHMoJ3N0eWxlLW5hbWUn
KSkKCXsKCQkkZm9ybSA9IGRvU2xhc2goYmFzZTY0X2VuY29kZShncHMoJ2Zvcm0nKSkpOwoJ
CSRycyA9IHNhZmVfdXBkYXRlKCJ0eHBfY3NzIiwgImNzcz0nIi4kZm9ybSAuIiciLCAibmFt
ZSA9ICciLmRvU2xhc2goZ3BzKCdzdHlsZS1uYW1lJykpLiInIik7CgkJJG1lc3NhZ2UgPSAn
U3R5bGUgc2F2ZWQnOwoJfQoKCXBhZ2V0b3AoJ1R1bWJsZWxvZycsICRtZXNzYWdlKTsKCgll
Y2hvIGFzdl90dW1ibGVsb2dfdGl0bGUoJHN0ZXApOwoKCSRycyA9IHNhZmVfcm93KCJjc3Mi
LCAndHhwX3NlY3Rpb24nLCAibmFtZSA9ICckdHVtYmxlbG9nc2VjdGlvbiciKTsKCWlmKCRy
cykKCXsKCQkkcGFnZV9ycyA9IHNhZmVfcm93KCcqJywgJ3R4cF9jc3MnLCAibmFtZT0nIi4k
cnNbJ2NzcyddLiInIik7CgkJaWYoJHBhZ2VfcnMpCgkJewoJCQlleHRyYWN0KCRwYWdlX3Jz
KTsKCQkJJHRoZWNzcyA9IGJhc2U2NF9kZWNvZGUoJGNzcyk7CgkJfQoJfQoKCgllY2hvIG4u
c3RhcnRUYWJsZSgnbGlzdCcsICcnLCAnJywgJycsICcnKS4KCQluLic8Zm9ybSBuYW1lPSJw
b3N0LWZvcm0iIG1ldGhvZD0icG9zdCIgYWN0aW9uPSJpbmRleC5waHAiPicuCgkJbi5oSW5w
dXQoJ2V2ZW50JywgJ2Fzdl90dW1ibGVsb2cnKS4KCQluLmhJbnB1dCgnc3RlcCcsICdwYWdl
LXN0eWxlJykuCgkJbi5oSW5wdXQoJ2FjdGlvbicsICdzYXZlJykuCgkJbi5oSW5wdXQoJ3N0
eWxlLW5hbWUnLCAkbmFtZSkuCgkJdHIodGRhKCJFZGl0IHRoZSBzdHlsZSB0aGF0IGhhbmRs
ZXMgdGhlIHR1bWJsZWxvZyBzZWN0aW9uIDxiPiIuJG5hbWUuIjwvYj4uIiwgJyBzdHlsZT0i
dGV4dC1hbGlnbjpjZW50ZXIiJykpLgoJCXRyKHRkKHRleHRfYXJlYSgnZm9ybScsICc4MDAn
LCAnNjAwJywgKCR0aGVjc3MpPyR0aGVjc3M6JycpKSkuCgkJdHIodGRhKGZJbnB1dCgnc3Vi
bWl0Jywnc2F2ZV9zZXR0aW5ncycsJ3NhdmUnLCJwdWJsaXNoIiwgJycsICcnLCAnJywgNCks
ICcgc3R5bGU9InRleHQtYWxpZ246cmlnaHQiJykpLic8L2Zvcm0+Jy4KCWVuZFRhYmxlKCk7
Cn0KLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLQpmdW5jdGlvbiBhc3ZfdHVtYmxlbG9nX3BhZ2VkZXNpZ24oJHN0ZXAp
CnsKCglleHRyYWN0KGRvU2xhc2goZ2V0X2Fzdl90dW1ibGVsb2dfcHJlZnMoKSkpOwoKCSRt
ZXNzYWdlID0gJyc7CglpZihncHMoJ2FjdGlvbicpPT0nc2F2ZScgJiYgZ3BzKCdwYWdlLW5h
bWUnKSkKCXsKCQkkcnMgPSBzYWZlX3VwZGF0ZSgidHhwX3BhZ2UiLCAidXNlcl9odG1sPSci
LmRvU2xhc2goZ3BzKCdmb3JtJykpLiInIiwgIm5hbWUgPSAnIi5kb1NsYXNoKGdwcygncGFn
ZS1uYW1lJykpLiInIik7CgkJJG1lc3NhZ2UgPSAnUGFnZSBzYXZlZCc7Cgl9CgoJcGFnZXRv
cCgnVHVtYmxlbG9nJywgJG1lc3NhZ2UpOwoKCWVjaG8gYXN2X3R1bWJsZWxvZ190aXRsZSgk
c3RlcCk7CgoJJHJzID0gc2FmZV9yb3coInBhZ2UiLCAndHhwX3NlY3Rpb24nLCAibmFtZSA9
ICckdHVtYmxlbG9nc2VjdGlvbiciKTsKCWlmKCRycykKCXsKCQkkcGFnZV9ycyA9IHNhZmVf
cm93KCcqJywgJ3R4cF9wYWdlJywgIm5hbWU9JyIuJHJzWydwYWdlJ10uIiciKTsKCQlpZigk
cGFnZV9ycykKCQl7CgkJCWV4dHJhY3QoJHBhZ2VfcnMpOwoJCX0KCX0KCgoJZWNobyBuLnN0
YXJ0VGFibGUoJ2xpc3QnLCAnJywgJycsICcnLCAnJykuCgkJbi4nPGZvcm0gbmFtZT0icG9z
dC1mb3JtIiBtZXRob2Q9InBvc3QiIGFjdGlvbj0iaW5kZXgucGhwIj4nLgoJCW4uaElucHV0
KCdldmVudCcsICdhc3ZfdHVtYmxlbG9nJykuCgkJbi5oSW5wdXQoJ3N0ZXAnLCAncGFnZS1k
ZXNpZ24nKS4KCQluLmhJbnB1dCgnYWN0aW9uJywgJ3NhdmUnKS4KCQluLmhJbnB1dCgncGFn
ZS1uYW1lJywgJG5hbWUpLgoJCXRyKHRkYSgiRWRpdCB0aGUgcGFnZSB0aGF0IGhhbmRsZXMg
dGhlIHR1bWJsZWxvZyBzZWN0aW9uIDxiPiIuJG5hbWUuIjwvYj4uIiwgJyBzdHlsZT0idGV4
dC1hbGlnbjpjZW50ZXIiJykpLgoJCXRyKHRkKHRleHRfYXJlYSgnZm9ybScsICc4MDAnLCAn
NjAwJywgKCR1c2VyX2h0bWwpPyR1c2VyX2h0bWw6JycpKSkuCgkJdHIodGRhKGZJbnB1dCgn
c3VibWl0Jywnc2F2ZV9zZXR0aW5ncycsJ3NhdmUnLCJwdWJsaXNoIiwgJycsICcnLCAnJywg
NCksICcgc3R5bGU9InRleHQtYWxpZ246cmlnaHQiJykpLic8L2Zvcm0+Jy4KCWVuZFRhYmxl
KCk7Cn0KLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLQpmdW5jdGlvbiBhc3ZfdHVtYmxlbG9nX2Rlc2lnbigkc3RlcCkK
ewoKCWV4dHJhY3QoZG9TbGFzaChnZXRfYXN2X3R1bWJsZWxvZ19wcmVmcygpKSk7CgoJJG1l
c3NhZ2UgPSAnJzsKCglpZihncHMoJ2FjdGlvbicpPT0nc2F2ZScpCgl7CgkJJHJzID0gc2Fm
ZV91cGRhdGUoInR4cF9mb3JtIiwgIkZvcm09JyIuZG9TbGFzaChncHMoJ2Zvcm0nKSkuIici
LCAibmFtZSA9ICciLmRvU2xhc2goZ3BzKCdmb3JtLW5hbWUnKSkuIicgQU5EIHR5cGU9J2Fy
dGljbGUnIik7CgkJaWYoJHJzKQoJCXsKCQkJJG1lc3NhZ2UgPSBkb1NsYXNoKGdwcygnZm9y
bS1uYW1lJykpLiIgc2F2ZWQuIjsKCQl9CgkJZWxzZQoJCXsKCQkJJG1lc3NhZ2UgPSAiRXJy
b3Igc2F2aW5nICIuZG9TbGFzaChncHMoJ2Zvcm0tbmFtZScpKTsKCQl9Cgl9CgoJcGFnZXRv
cCgnVHVtYmxlbG9nJywgJG1lc3NhZ2UpOwoKCWVjaG8gYXN2X3R1bWJsZWxvZ190aXRsZSgk
c3RlcCk7CgoKCWVjaG8gbi5zdGFydFRhYmxlKCdsaXN0JywgJycsICcnLCAnJywgJycpLgoJ
CXRyKHRkYSgiQmVsb3cgaXMgYSBsaXN0IG9mIGFsbCB0aGUgZm9ybXMgeW91J3JlIHVzaW5n
IGZvciB5b3VyIGZlZWRzIGFuZCB0aGUgZm9ybXMgPGJyIC8+c2V0IGFzIGRlZmF1bHRzIGZv
ciB5b3VyIHR1bWJsZXMuIiwgJyBzdHlsZT0idGV4dC1hbGlnbjpjZW50ZXIiJykpOwoKCSRt
b3JlX2Zvcm1zID0gYXJyYXkoJHBvc3Rmb3JtLCAkcGhvdG9mb3JtLCAkcXVvdGVmb3JtLCAk
bGlua2Zvcm0pOwoKCSRycyA9IHNhZmVfcm93c19zdGFydCgnRElTVElOQ1QgVHlwZScsICdh
c3ZfdHVtYmxlbG9nX2ZlZWRzJywgJzE9MSBPUkRFUiBCWSBUeXBlIEFTQycpOwoJaWYgKCRy
cykgewoJCXdoaWxlICgkYSA9IG5leHRSb3coJHJzKSkgewoJCQkkZm9ybWRhdGEgPSBzYWZl
X3JvdygiKiIsICd0eHBfZm9ybScsICJuYW1lID0gJyIuJGFbJ1R5cGUnXS4iJyBBTkQgdHlw
ZT0nYXJ0aWNsZSciKTsKCQkJaWYoJGZvcm1kYXRhKQoJCQl7CgkJCQlpZihpbl9hcnJheSgk
YVsnVHlwZSddLCAkbW9yZV9mb3JtcykpCgkJCQl7CgkJCQkJdW5zZXQoJG1vcmVfZm9ybXNb
YXJyYXlfc2VhcmNoKCRhWydUeXBlJ10sICRtb3JlX2Zvcm1zKV0pOwoJCQkJfQoJCQkJZWNo
byBuLic8Zm9ybSBuYW1lPSJwb3N0LWZvcm0iIG1ldGhvZD0icG9zdCIgYWN0aW9uPSJpbmRl
eC5waHAiPicuCgkJCQkJbi5oSW5wdXQoJ2V2ZW50JywgJ2Fzdl90dW1ibGVsb2cnKS4KCQkJ
CQluLmhJbnB1dCgnc3RlcCcsICdEZXNpZ24nKS4KCQkJCQluLmhJbnB1dCgnYWN0aW9uJywg
J3NhdmUnKS4KCQkJCQluLmhJbnB1dCgnZm9ybS1uYW1lJywgJGZvcm1kYXRhWyduYW1lJ10p
LgoJCQkJCXRyKHRkYSgiPGI+Ii4kZm9ybWRhdGFbJ25hbWUnXS4iPC9iPiIsICcgc3R5bGU9
InRleHQtYWxpZ246Y2VudGVyIicpKS4KCQkJCQl0cih0ZCh0ZXh0X2FyZWEoJ2Zvcm0nLCAn
MTUwJywgJzUwMCcsICRmb3JtZGF0YVsnRm9ybSddKSkpLgoJCQkJCXRyKHRkYShmSW5wdXQo
J3N1Ym1pdCcsJ3NhdmVfc2V0dGluZ3MnLCdzYXZlJywicHVibGlzaCIsICcnLCAnJywgJycs
IDQpLCAnIHN0eWxlPSJ0ZXh0LWFsaWduOnJpZ2h0IicpKS4nPC9mb3JtPic7CgkJCX0KCQl9
Cgl9CgoJZm9yZWFjaCgkbW9yZV9mb3JtcyBhcyAkc2luZ2xlKQoJewoJCSRmb3JtZGF0YSA9
IHNhZmVfcm93KCIqIiwgJ3R4cF9mb3JtJywgIm5hbWUgPSAnIi4kc2luZ2xlLiInIEFORCB0
eXBlPSdhcnRpY2xlJyIpOwoJCQlpZigkZm9ybWRhdGEpCgkJCXsKCQkJCWVjaG8gbi4nPGZv
cm0gbmFtZT0icG9zdC1mb3JtIiBtZXRob2Q9InBvc3QiIGFjdGlvbj0iaW5kZXgucGhwIj4n
LgoJCQkJCW4uaElucHV0KCdldmVudCcsICdhc3ZfdHVtYmxlbG9nJykuCgkJCQkJbi5oSW5w
dXQoJ3N0ZXAnLCAnRGVzaWduJykuCgkJCQkJbi5oSW5wdXQoJ2FjdGlvbicsICdzYXZlJyku
CgkJCQkJbi5oSW5wdXQoJ2Zvcm0tbmFtZScsICRmb3JtZGF0YVsnbmFtZSddKS4KCQkJCQl0
cih0ZGEoIjxiPiIuJGZvcm1kYXRhWyduYW1lJ10uIjwvYj4iLCAnIHN0eWxlPSJ0ZXh0LWFs
aWduOmNlbnRlciInKSkuCgkJCQkJdHIodGQodGV4dF9hcmVhKCdmb3JtJywgJzE1MCcsICc1
MDAnLCAkZm9ybWRhdGFbJ0Zvcm0nXSkpKS4KCQkJCQl0cih0ZGEoZklucHV0KCdzdWJtaXQn
LCdzYXZlX3NldHRpbmdzJywnc2F2ZScsInB1Ymxpc2giLCAnJywgJycsICcnLCA0KSwgJyBz
dHlsZT0idGV4dC1hbGlnbjpyaWdodCInKSkuJzwvZm9ybT4nOwoJCQl9Cgl9CgoJZWNobyBl
bmRUYWJsZSgpOwp9Ci8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KZnVuY3Rpb24gYXN2X3R1bWJsZWxvZ19mZWVkcygk
c3RlcCkKewoJYXN2X3R1bWJsZWxvZ192ZXJpZnlUYWJsZSgpOwoKCSR0eXBlcyA9IGFycmF5
KCdwb3N0Jz0+J3Bvc3QnLCAncXVvdGUnPT4ncXVvdGUnLCAncGhvdG8nPT4ncGhvdG8nLCAn
bGluayc9PidsaW5rJyk7CgoJJG1lc3NhZ2UgPSAnJzsKCglleHRyYWN0KGRvU2xhc2gobEF0
dHMoYXJyYXkoCgkJJ3Jzc3BhdGgnID0+ICcnLAoJCSd0eXBlJwk9PiAnJywKCQknY29tbWVu
dHMnID0+ICcnLAoJCSdjYXRlZ29yeTEnID0+JycsCgkJJ2NhdGVnb3J5MicgPT4gJycsCgkJ
J2tleXdvcmRzJwk9PicnLAoJCSdJRCcgPT4nJywKCQknaW1hZ2UnID0+JycsCgkJJ2Zhdmlj
b24nID0+ICcnLAoJCSksCgkJZ3BzYShhcnJheSgKCQkJJ3Jzc3BhdGgnLAoJCQkndHlwZScs
CgkJCSdjb21tZW50cycsCgkJCSdjYXRlZ29yeTEnLAoJCQknY2F0ZWdvcnkyJywKCQkJJ2lt
YWdlJywKCQkJJ2tleXdvcmRzJywKCQkJJ0lEJywKCQkJJ2Zhdmljb24nLAoJCQkpKSkpKTsK
CglleHRyYWN0KGdldF9hc3ZfdHVtYmxlbG9nX3ByZWZzKCkpOwoKCWlmKGdwcygnc2F2ZV9m
ZWVkcycpKQoJewoJCWlmKCR0eXBlKQoJCXsKCQkJbGlzdCgkdGl0bGUsICRmYXZpY29uLCAk
dXJsKSA9IGFzdl90dW1ibGVsb2dfdmVyaWZ5RmVlZCgkcnNzcGF0aCwgJHNpbXBsZXBpZSk7
CgoJCQlpZigkdGl0bGUpCgkJCXsKCQkJCSR0aXRsZSA9IGRvU2xhc2goJHRpdGxlKTsKCgkJ
CQlpZigkSUQpCgkJCQl7CgkJCQkJc2FmZV91cGRhdGUoJ2Fzdl90dW1ibGVsb2dfZmVlZHMn
LAoJCQkJCQkiRmVlZCA9ICckcnNzcGF0aCcsCgkJCQkJCVRpdGxlID0gJyR0aXRsZScsCgkJ
CQkJCVR5cGUgPSAnJHR5cGUnLAoJCQkJCQlVUkwgPSAnJHVybCcsCgkJCQkJCUltYWdlID0g
JyRpbWFnZScsCgkJCQkJCUZhdmljb24gPSAnJGZhdmljb24nLAoJCQkJCQlDYXRlZ29yeTEg
PSAnJGNhdGVnb3J5MScsCgkJCQkJCUNhdGVnb3J5MiA9ICckY2F0ZWdvcnkyJywKCQkJCQkJ
S2V5d29yZHMgPSAnJGtleXdvcmRzJywKCQkJCQkJQW5ub3RhdGUgPSAnJGNvbW1lbnRzJyIs
CgkJCQkJCSJJRCA9ICRJRCIKCQkJCQkJKTsKCQkJCX0KCQkJCWVsc2UKCQkJCXsKCQkJCQlz
YWZlX2luc2VydCgnYXN2X3R1bWJsZWxvZ19mZWVkcycsCgkJCQkJCSJGZWVkID0gJyRyc3Nw
YXRoJywKCQkJCQkJVGl0bGUgPSAnJHRpdGxlJywKCQkJCQkJVHlwZSA9ICckdHlwZScsCgkJ
CQkJCUltYWdlID0gJyRpbWFnZScsCgkJCQkJCVVSTCA9ICckdXJsJywKCQkJCQkJRmF2aWNv
biA9ICckZmF2aWNvbicsCgkJCQkJCUNhdGVnb3J5MSA9ICckY2F0ZWdvcnkxJywKCQkJCQkJ
Q2F0ZWdvcnkyID0gJyRjYXRlZ29yeTInLAoJCQkJCQlLZXl3b3JkcyA9ICcka2V5d29yZHMn
LAoJCQkJCQlBbm5vdGF0ZSA9ICckY29tbWVudHMnIgoJCQkJCQkpOwoJCQkJfQoJCQkJZXh0
cmFjdChhcnJheSgKCQkJCQkncnNzcGF0aCcgPT4gJycsCgkJCQkJJ3R5cGUnCT0+ICcnLAoJ
CQkJCSdjb21tZW50cycgPT4gJycsCgkJCQkJJ2NhdGVnb3J5MScgPT4nJywKCQkJCQknY2F0
ZWdvcnkyJyA9PiAnJywKCQkJCQkna2V5d29yZHMnCT0+JycsCgkJCQkJJ0lEJyA9PicnLAoJ
CQkJCSdpbWFnZScgPT4nJywKCQkJCQknZmF2aWNvbicgPT4gJycsCgkJCQkJKSk7CgkJCX0K
CQkJZWxzZQoJCQl7CgkJCQkkbWVzc2FnZSA9ICJOb3QgYSB2YWxpZCBmZWVkLiI7CgkJCX0K
CQl9CgkJZWxzZQoJCXsKCQkJJG1lc3NhZ2UgPSAiVHlwZSBpcyByZXF1aXJlZC4gIC0gJHR5
cGUgLSI7CgkJfQoJfQoJaWYoZ3BzKCdhY3Rpb24nKT09J2RlbGV0ZScpCgl7CgkJJHNlbGVj
dGVkID0gcHMoJ3NlbGVjdGVkJyk7CgkJaWYgKCRzZWxlY3RlZCkKCQl7CgkJCSRpZHMgPSBh
cnJheSgpOwoJCQlmb3JlYWNoICgkc2VsZWN0ZWQgYXMgJGlkKQoJCQl7CgkJCQkkaWQgPSBh
c3NlcnRfaW50KCRpZCk7CgkJCQlpZiAoc2FmZV9kZWxldGUoJ2Fzdl90dW1ibGVsb2dfZmVl
ZHMnLCAiSUQgPSAkaWQiKSkKCQkJCXsKCQkJCQkkaWRzW10gPSAkaWQ7CgkJCQl9CgkJCX0K
CQkJJGNoYW5nZWQgPSBqb2luKCcsICcsICRpZHMpOwoJCQkkbWVzc2FnZSA9ICJSZW1vdmVk
ICRjaGFuZ2VkIjsKCQl9Cgl9CgoJcGFnZXRvcCgnVHVtYmxlbG9nJywgJG1lc3NhZ2UpOwoK
CWVjaG8gbi5uLic8Zm9ybSBuYW1lPSJ0dW1ibGVsb2ctYWRtaW4iIG1ldGhvZD0icG9zdCIg
YWN0aW9uPSJpbmRleC5waHA/ZXZlbnQ9YXN2X3R1bWJsZWxvZyZzdGVwPUZlZWRzIj4nLgoJ
aElucHV0KCdzdGVwJywgJ0ZlZWRzJykuCgloSW5wdXQoJ0lEJywgJElEKTsKCgllY2hvIGFz
dl90dW1ibGVsb2dfdGl0bGUoJHN0ZXApLgoKCQl0YWcoJzxhIGhyZWY9ImluZGV4LnBocD9l
dmVudD1hc3ZfdHVtYmxlbG9nJnN0ZXA9RmVlZHMiPkFkZCBOZXcgRmVlZDwvYT4nICwnaDMn
LCAnIHN0eWxlPSJ0ZXh0LWFsaWduOiBjZW50ZXI7IicpLgoKCQlzdGFydFRhYmxlKCdsaXN0
JykuCgoJCQl0cih0ZCgnQXRvbS9SU1MgUGF0aCcpLnRkKGZJbnB1dCgndGV4dCcsICdyc3Nw
YXRoJywgJHJzc3BhdGgpKSkuCgoJCQl0cih0ZCgnSW1wb3J0IEltYWdlcycpLnRkKHJhZGlv
KCdpbWFnZScsICcwJykuJ25vICcucmFkaW8oJ2ltYWdlJywgJzEnLCBmYWxzZSkuJ3VybCAn
LnJhZGlvKCdpbWFnZScsICcyJywgZmFsc2UpLidpbWFnZScpKS4KCgkJCXRyKHRkKCdGb3Jt
JykudGQoYXN2X2Zvcm1fcG9wdXAoJHR5cGUsICd0eXBlJykpKS4KCgkJCXRyKHRkKCdDb21t
ZW50cycpLnRkKG9ub2ZmUmFkaW8oJ2NvbW1lbnRzJywgKCRjb21tZW50cyA9PSAnMCcpPyAk
Y29tbWVudHMgOiAiMSIpKSkuCgoJCQl0cih0ZCgnQ2F0ZWdvcnkxJykudGQoYXN2X2NhdF9w
b3B1cCgkY2F0ZWdvcnkxLCAnY2F0ZWdvcnkxJykpKS4KCgkJCXRyKHRkKCdDYXRlZ29yeTIn
KS50ZChhc3ZfY2F0X3BvcHVwKCRjYXRlZ29yeTIsICdjYXRlZ29yeTInKSkpLgoKCQkJdHIo
dGQoJ0tleXdvcmRzJykudGQoZklucHV0KCd0ZXh0JywgJ2tleXdvcmRzJywgJGtleXdvcmRz
KSkpLgoKCQkJdHIodGRhKGZJbnB1dCgnc3VibWl0Jywnc2F2ZV9mZWVkcycsICgkSUQpPydz
YXZlJzonYWRkJywicHVibGlzaCIsICcnLCAnJywgJycsIDQpLCAnIGNvbHNwYW49MicpKS4K
CgkJZW5kVGFibGUoKS4nPC9mb3JtPic7CgllY2hvIHRhZygiQ3VycmVudCBGZWVkcyIsICJo
MyIsICcgc3R5bGU9InRleHQtYWxpZ246Y2VudGVyIicpLgoJCSc8Zm9ybSBuYW1lPSJsb25n
Zm9ybSIgbWV0aG9kPSJwb3N0IiBhY3Rpb249ImluZGV4LnBocD9ldmVudD1hc3ZfdHVtYmxl
bG9nJnN0ZXA9RmVlZHMiPicuCgkJaElucHV0KCdldmVudCcsICdhc3ZfdHVtYmxlbG9nJyku
CgkJaElucHV0KCdzdGVwJywgJ0ZlZWRzJykuCgkJaElucHV0KCdhY3Rpb24nLCAnZGVsZXRl
JykuCgoJCW4uc3RhcnRUYWJsZSgnbGlzdCcsICcnLCAnJywgJycsICc5MCUnKS4KCQluLnRy
KAoJCQluLmNvbHVtbl9oZWFkKCdJRCcsICdpZCcsICdhc3ZfdHVtYmxlbG9nJywgZmFsc2Us
ICcnLCAnJywgJycpLgoJCQluLmNvbHVtbl9oZWFkKCdGYXZpY29uJywgJ2Zhdmljb24nLCAn
YXN2X3R1bWJsZWxvZycsIGZhbHNlLCAnJywgJycsICcnKS4KCQkJbi5jb2x1bW5faGVhZCgn
VGl0bGUnLCAndGl0bGUnLCAnYXN2X3R1bWJsZWxvZycsIGZhbHNlLCAnJywgJycsICcnKS4K
CQkJbi5jb2x1bW5faGVhZCgnVVJMJywgJ3VybCcsICdhc3ZfdHVtYmxlbG9nJywgZmFsc2Us
ICcnLCAnJywgJycpLgoJCQluLmNvbHVtbl9oZWFkKCdGZWVkJywgJ2ZlZWQnLCAnYXN2X3R1
bWJsZWxvZycsIGZhbHNlLCAnJywgJycsICcnKS4KCQkJbi5jb2x1bW5faGVhZCgnSW1hZ2Un
LCAnaW1hZ2UnLCAnYXN2X3R1bWJsZWxvZycsIGZhbHNlLCAnJywgJycsICcnKS4KCQkJbi5j
b2x1bW5faGVhZCgnRm9ybScsICd0eXBlJywgJ2Fzdl90dW1ibGVsb2cnLCBmYWxzZSwgJycs
ICcnLCAnJykuCgkJCW4uY29sdW1uX2hlYWQoJ0NvbW1lbnRzJywgJ2NvbW1lbnRzJywgJ2Fz
dl90dW1ibGVsb2cnLCBmYWxzZSwgJycsICcnLCAnJykuCgkJCW4uY29sdW1uX2hlYWQoJ0Nh
dGVnb3J5MScsICdjYXRlZ29yeTEnLCAnYXN2X3R1bWJsZWxvZycsIGZhbHNlLCAnJywgJycs
ICcnKS4KCQkJbi5jb2x1bW5faGVhZCgnQ2F0ZWdvcnkyJywgJ2NhdGVnb3J5MScsICdhc3Zf
dHVtYmxlbG9nJywgZmFsc2UsICcnLCAnJywgJycpLgoJCQluLmNvbHVtbl9oZWFkKCdLZXl3
b3JkcycsICdLZXl3b3JkcycsICdhc3ZfdHVtYmxlbG9nJywgZmFsc2UsICcnLCAnJywgJycp
LgoJCQloQ2VsbCgpCgkJKTsKCSRycyA9IHNhZmVfcm93c19zdGFydCgiKiIsICJhc3ZfdHVt
YmxlbG9nX2ZlZWRzIiwgIjE9MSIpOwoJaWYoJHJzKQoJewoJCXdoaWxlKCRhID0gbmV4dFJv
dygkcnMpKQoJCXsKCQkJZXh0cmFjdCgkYSk7CgkJCSRsaW5rID0gIjxhIGhyZWY9XCJpbmRl
eC5waHA/ZXZlbnQ9YXN2X3R1bWJsZWxvZyZzdGVwPUZlZWRzJnJzc3BhdGg9Ii51cmxlbmNv
ZGUoJEZlZWQpLiImdHlwZT0iLiRUeXBlLiImY29tbWVudHM9Ii4kYVsnQW5ub3RhdGUnXS4i
JmNhdGVnb3J5MT0kQ2F0ZWdvcnkxJmNhdGVnb3J5Mj0kQ2F0ZWdvcnkyJmtleXdvcmRzPSRL
ZXl3b3JkcyZJRD0kSURcIj4kVGl0bGU8L2E+IjsKCgkJCXN3aXRjaCgkSW1hZ2UpCgkJCXsK
CQkJCWNhc2UgJzAnOgoJCQkJCSR0cmFuc2xhdGVJbWFnZSA9ICJubyI7CgkJCQkJYnJlYWs7
CgkJCQljYXNlICcxJzoKCQkJCQkkdHJhbnNsYXRlSW1hZ2UgPSAidXJsIjsKCQkJCQlicmVh
azsKCQkJCWNhc2UgJzInOgoJCQkJCSR0cmFuc2xhdGVJbWFnZSA9ICJpbWFnZSI7CgkJCQkJ
YnJlYWs7CgkJCX0KCgkJCWVjaG8gbi50cigKCQkJCXRkKCRJRCkuCgkJCQl0ZCgoJEZhdmlj
b24pPyAiPGltZyBzcmM9JyRGYXZpY29uJyAvPiI6JycpLgoJCQkJdGQoJGxpbmspLgoJCQkJ
dGQoJFVSTCkuCgkJCQl0ZChzdWJzdHIoJEZlZWQsMCwyNSkuJy4uLicpLgoJCQkJdGQoJHRy
YW5zbGF0ZUltYWdlKS4KCQkJCXRkKCRUeXBlKS4KCQkJCXRkKCgkQW5ub3RhdGUpPyJvbiI6
Im9mZiIpLgoJCQkJdGQoJENhdGVnb3J5MSkuCgkJCQl0ZCgkQ2F0ZWdvcnkyKS4KCQkJCXRk
KCRLZXl3b3JkcykuCgkJCQl0ZChmSW5wdXQoJ2NoZWNrYm94JywgJ3NlbGVjdGVkW10nLCAk
SUQpKSk7CgoJCX0KCQllY2hvIG4udHIoCgkJCQl0ZGEoc2VsZWN0X2J1dHRvbnMoKS5hc3Zf
dHVtYmxlbG9nX2xpc3RfbXVsdGllZGl0X2Zvcm0oKSwnIGNvbHNwYW49IjkiIHN0eWxlPSJ0
ZXh0LWFsaWduOiByaWdodDsgYm9yZGVyOiBub25lOyInKSk7Cgl9CgkJZWNobyBuLmVuZFRh
YmxlKCkuJzwvZm9ybT4nOwp9Ci8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KZnVuY3Rpb24gYXN2X3R1bWJsZWxvZ19z
ZXR0aW5ncygkc3RlcCkKewoJZ2xvYmFsICRwcmVmczsKCglpZihncHMoJ3NhdmVfc2V0dGlu
Z3MnKSkKCXsKCQlleHRyYWN0KGdwc2EoYXJyYXkoJ2ZlZWRfaWRfZmllbGQnLCAnc291cmNl
bGluaycsICd0dW1ibGVsb2dzZWN0aW9uJywgJ3NpbXBsZXBpZScsICdsaW5rZm9ybScsICdw
b3N0Zm9ybScsICdxdW90ZWZvcm0nLCAncGhvdG9mb3JtJykpKTsKCgkJKCRzb3VyY2VsaW5r
KT8gc2V0X3ByZWYoJ3NvdXJjZWxpbmsnLCAkc291cmNlbGluaywgJ2Fzdl90dW1ibGVsb2cn
LCAnJyk6Jyc7CgoJCSgkdHVtYmxlbG9nc2VjdGlvbik/IHNldF9wcmVmKCd0dW1ibGVsb2dz
ZWN0aW9uJywgJHR1bWJsZWxvZ3NlY3Rpb24sICdhc3ZfdHVtYmxlbG9nJywgJycpOicnOwoK
CQkoJGZlZWRfaWRfZmllbGQpPyBzZXRfcHJlZignZmVlZF9pZF9maWVsZCcsICRmZWVkX2lk
X2ZpZWxkLCAnYXN2X3R1bWJsZWxvZycsICcnKTonJzsKCgkJKCRzaW1wbGVwaWUpPyBzZXRf
cHJlZignc2ltcGxlcGllJywgJHNpbXBsZXBpZSwgJ2Fzdl90dW1ibGVsb2cnLCAnJyk6Jyc7
CgoJCSgkcG9zdGZvcm0pPyBzZXRfcHJlZigncG9zdGZvcm0nLCAkcG9zdGZvcm0sICdhc3Zf
dHVtYmxlbG9nJywgJycpOicnOwoKCQkoJHF1b3RlZm9ybSk/IHNldF9wcmVmKCdxdW90ZWZv
cm0nLCAkcXVvdGVmb3JtLCAnYXN2X3R1bWJsZWxvZycsICcnKTonJzsKCgkJKCRwaG90b2Zv
cm0pPyBzZXRfcHJlZigncGhvdG9mb3JtJywgJHBob3RvZm9ybSwgJ2Fzdl90dW1ibGVsb2cn
LCAnJyk6Jyc7CgoJCSgkbGlua2Zvcm0pPyBzZXRfcHJlZignbGlua2Zvcm0nLCAkbGlua2Zv
cm0sICdhc3ZfdHVtYmxlbG9nJywgJycpOicnOwoKCX0KCglwYWdldG9wKCdUdW1ibGVsb2cn
LCAoZ3BzKCdzYXZlJykpPyAnU2V0dGluZ3Mgc2F2ZWQnOicnKTsKCglleHRyYWN0KGdldF9h
c3ZfdHVtYmxlbG9nX3ByZWZzKCkpOwoKCWVjaG8gbi5uLic8Zm9ybSBuYW1lPSJ0dW1ibGVs
b2ctYWRtaW4iIG1ldGhvZD0icG9zdCIgYWN0aW9uPSJpbmRleC5waHA/ZXZlbnQ9YXN2X3R1
bWJsZWxvZyI+JzsKCgllY2hvIGFzdl90dW1ibGVsb2dfdGl0bGUoJHN0ZXApLgoKCQl0YWco
J0dlbmVyYWwgU2V0dGluZ3MnICwnaDMnLCAnIHN0eWxlPSJ0ZXh0LWFsaWduOiBjZW50ZXI7
IicpLgoKCQlzdGFydFRhYmxlKCdsaXN0JykuCgoJCQl0cih0ZCgnVHVtYmxlbG9nIFNlY3Rp
b24nKS50ZChhc3Zfc2VjdGlvbl9wb3B1cCgkdHVtYmxlbG9nc2VjdGlvbiwKCQkJJ3R1bWJs
ZWxvZ3NlY3Rpb24nKSkpLgoKCQkJdHIodGQoJ1NvdXJjZSBMaW5rIEZpZWxkJykudGQoYXN2
X2N1c3RvbV9wb3B1cCgkc291cmNlbGluaywgJ3NvdXJjZWxpbmsnKSkpLgoKCQkJdHIodGQo
J0ZlZWQgSUQgRmllbGQnKS50ZChhc3ZfY3VzdG9tX3BvcHVwKCRmZWVkX2lkX2ZpZWxkLCAn
ZmVlZF9pZF9maWVsZCcpKSkuCgoJCQl0cih0ZCgnU2ltcGxlUGllIFBhdGgnKS50ZChmSW5w
dXQoJ3RleHQnLCAnc2ltcGxlcGllJywgJHNpbXBsZXBpZSkpKS4KCgkJZW5kVGFibGUoKS4K
CgkJdGFnKCcgJywgJ3AnKS4KCgkJdGFnKCdGb3JtcycgLCdoMycsICcgc3R5bGU9InRleHQt
YWxpZ246IGNlbnRlcjsiJykuCgoJCXN0YXJ0VGFibGUoJ2xpc3QnKS4KCgkJCXRyKHRkKCdQ
b3N0IEZvcm0nKS50ZChhc3ZfZm9ybV9wb3B1cCgkcG9zdGZvcm0sICdwb3N0Zm9ybScpKSku
CgoJCQl0cih0ZCgnUXVvdGUgRm9ybScpLnRkKGFzdl9mb3JtX3BvcHVwKCRxdW90ZWZvcm0s
ICdxdW90ZWZvcm0nKSkpLgoKCQkJdHIodGQoJ1Bob3RvIEZvcm0nKS50ZChhc3ZfZm9ybV9w
b3B1cCgkcGhvdG9mb3JtLCAncGhvdG9mb3JtJykpKS4KCgkJCXRyKHRkKCdMaW5rIEZvcm0n
KS50ZChhc3ZfZm9ybV9wb3B1cCgkbGlua2Zvcm0sICdsaW5rZm9ybScpKSkuCgoJCQl0cih0
ZGEoZklucHV0KCdzdWJtaXQnLCdzYXZlX3NldHRpbmdzJywnc2F2ZScsInB1Ymxpc2giLCAn
JywgJycsICcnLCA0KSwgJyBjb2xzcGFuPTInKSkuCgoJCWVuZFRhYmxlKCk7CgoJZWNobyBu
Lm4uJzwvZm9ybT4nLgoJJzxoMyBzdHlsZT0idGV4dC1hbGlnbjpjZW50ZXIiPjxhIGhyZWY9
Imh0dHA6Ly8nLiRwcmVmc1snc2l0ZXVybCddLicvP2Fzdl90dW1ibGVsb2dfdXBkYXRlZmVl
ZHM9MSI+bWFudWFsbHkgdXBkYXRlIGZlZWRzPC9hPjwvaDM+JzsKfQovLy0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCmlm
KGdwcygnYXN2X3R1bWJsZWxvZ191cGRhdGVmZWVkcycpPT0xKQp7CgoJZXh0cmFjdChnZXRf
YXN2X3R1bWJsZWxvZ19wcmVmcygpKTsKCSRycyA9IHNhZmVfcm93c19zdGFydCgiKiIsICJh
c3ZfdHVtYmxlbG9nX2ZlZWRzIiwgIjE9MSIpOwoJZWNobyAnPHByZT4nOwoJaWYoJHJzKQoJ
ewoJCXdoaWxlKCRhID0gbmV4dFJvdygkcnMpKQoJCXsKCQkJZXh0cmFjdCgkYSk7CgkJCXN3
aXRjaCgkVHlwZSkKCQkJewoJCQkJY2FzZSAicG9zdCI6CgkJCQkJJGZvcm0gPSAkcG9zdGZv
cm07CgkJCQkJYnJlYWs7CgkJCQljYXNlICJxdW90ZSI6CgkJCQkJJGZvcm0gPSAkcXVvdGVm
b3JtOwoJCQkJCWJyZWFrOwoJCQkJY2FzZSAicGhvdG8iOgoJCQkJCSRmb3JtID0gJHBob3Rv
Zm9ybTsKCQkJCQlicmVhazsKCQkJCWNhc2UgImxpbmsiOgoJCQkJCSRmb3JtID0gJGxpbmtm
b3JtOwoJCQkJCWJyZWFrOwoJCQl9CgkJCWVjaG8gYXN2X3Jzc2dyYWIoYXJyYXkoCgkJCQkn
ZmVlZCcJPT4gJEZlZWQsCgkJCQknc2ltcGxlcGllJyA9PiAkc2ltcGxlcGllLAoJCQkJJ3R5
cGUnCT0+ICRUeXBlLAoJCQkJJ2NhdGVnb3J5MScJPT4gJENhdGVnb3J5MSwKCQkJCSdjYXRl
Z29yeTInID0+ICRDYXRlZ29yeTIsCgkJCQknc2VjdGlvbicJPT4gJHR1bWJsZWxvZ3NlY3Rp
b24sCgkJCQknZm9ybScJCT0+ICRUeXBlLAoJCQkJJ2xpbmtmaWVsZCcJPT4gJHNvdXJjZWxp
bmssCgkJCQkncHViZGF0ZScgPT4gJycsCgkJCQknY29tbWVudHMnCT0+ICRBbm5vdGF0ZSwK
CQkJCSdrZXl3b3JkcycJPT4gJEtleXdvcmRzLAoJCQkJJ2ZlZWRfaWRfZmllbGQnCT0+ICRm
ZWVkX2lkX2ZpZWxkLAoJCQkJJ2ZlZWRfaWQnID0+ICRJRAoJCQkJKSk7CgkJfQoJfQoJZWNo
byAnPC9wcmU+JzsKCWV4aXQoKTsKCn0KLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQpmdW5jdGlvbiBhc3ZfdHVtYmxl
bG9nX2Zhdmljb24oJGF0dHMsICR0aGluZykKewoJZ2xvYmFsICR0aGlzYXJ0aWNsZTsKCgll
eHRyYWN0KGdldF9hc3ZfdHVtYmxlbG9nX3ByZWZzKCkpOwoKCSR1cmwgPSBmZXRjaCgnRmF2
aWNvbicsICdhc3ZfdHVtYmxlbG9nX2ZlZWRzJywgJ0lEJywgJHRoaXNhcnRpY2xlWyRmZWVk
X2lkX2ZpZWxkXSk7CgoJaWYoJHVybCkKCQlyZXR1cm4gJHVybDsKCglyZXR1cm4gJyc7Cn0K
Ly8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLQpmdW5jdGlvbiBhc3ZfdHVtYmxlbG9nX2ZlZWQoJGF0dHMsICR0aGluZykK
ewoJZ2xvYmFsICR0aGlzYXJ0aWNsZTsKCglleHRyYWN0KGdldF9hc3ZfdHVtYmxlbG9nX3By
ZWZzKCkpOwoKCSR1cmwgPSBmZXRjaCgnVGl0bGUnLCAnYXN2X3R1bWJsZWxvZ19mZWVkcycs
ICdJRCcsICR0aGlzYXJ0aWNsZVskZmVlZF9pZF9maWVsZF0pOwoKCWlmKCR1cmwpCgkJcmV0
dXJuICR1cmw7CgoJcmV0dXJuICcnOwp9Ci8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KZnVuY3Rpb24gYXN2X3R1bWJs
ZWxvZ19mZWVkdXJsKCRhdHRzLCAkdGhpbmcpCnsKCWdsb2JhbCAkdGhpc2FydGljbGU7CgoJ
ZXh0cmFjdChnZXRfYXN2X3R1bWJsZWxvZ19wcmVmcygpKTsKCgkkdXJsID0gZmV0Y2goJ0Zl
ZWQnLCAnYXN2X3R1bWJsZWxvZ19mZWVkcycsICdJRCcsICR0aGlzYXJ0aWNsZVskZmVlZF9p
ZF9maWVsZF0pOwoKCWlmKCR1cmwpCgkJcmV0dXJuICR1cmw7CgoJcmV0dXJuICcnOwp9Ci8v
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0KZnVuY3Rpb24gYXN2X3R1bWJsZWxvZ19wZXJtYWxpbmtsKCRhdHRzLCAkdGhp
bmcpCnsKCWdsb2JhbCAkdGhpc2FydGljbGU7CgoJZXh0cmFjdChnZXRfYXN2X3R1bWJsZWxv
Z19wcmVmcygpKTsKCgkkdXJsID0gZmV0Y2goJ1VSTCcsICdhc3ZfdHVtYmxlbG9nX2ZlZWRz
JywgJ0lEJywgJHRoaXNhcnRpY2xlWyRmZWVkX2lkX2ZpZWxkXSk7CgoJaWYoJHVybCkKCQly
ZXR1cm4gJHVybDsKCglyZXR1cm4gJyc7Cn0KLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQpmdW5jdGlvbiBhc3ZfcnNz
Z3JhYigkYXR0cykKewoJZ2xvYmFsICRwcmVmcywgJHR4cGNmZywgJHR4cF91c2VyOwoJZXh0
cmFjdCgkcHJlZnMpOwoKCWV4dHJhY3QobEF0dHMoYXJyYXkoCgkJCSdmZWVkJyAgICAgICA9
PiAnJywKCQkJJ3NpbXBsZXBpZScgID0+ICR0eHBjZmdbJ3R4cGF0aCddLicvbGliL3NpbXBs
ZXBpZS5pbmMnLAoJCQkndHlwZScJCT0+ICdzaW1wbGUnLAoJCQknY2F0ZWdvcnkxJwk9PiAn
JywKCQkJJ2NhdGVnb3J5MicgPT4gJycsCgkJCSdzZWN0aW9uJwk9PiAnZGVmYXVsdCcsCgkJ
CSdmb3JtJwkJPT4gJycsCgkJCSdsaW5rZmllbGQnCT0+ICdjdXN0b21fMScsCgkJCSdwdWJk
YXRlJyA9PiAnJywKCQkJJ2NvbW1lbnRzJwk9PiAnb24nLAoJCQkna2V5d29yZHMnCT0+ICcn
LAoJCQknZmVlZF9pZF9maWVsZCcgPT4gJycsCgkJCSdmZWVkX2lkJyA9PicnCgkJCSksJGF0
dHMpKTsKCgkkbWVzc2FnZSA9ICcnOwoKCS8vR2V0IFNpbXBsZVBpZQoJcmVxdWlyZV9vbmNl
KCRzaW1wbGVwaWUpOwoKCS8vQ3JlYXRlIGFuZCBzZXR1cCBTaW1wbGVQaWUgSW5zdGFuY2UK
CSR0aGVmZWVkID0gbmV3IFNpbXBsZVBpZSgpOwoJJHRoZWZlZWQtPnNldF9mZWVkX3VybCgk
ZmVlZCk7CgkkdGhlZmVlZC0+c2V0X2Zhdmljb25faGFuZGxlcignLi9wbHVnaW5zL2Fzdl9y
c3NncmFiLnBocCcsICdmYXZpY29uJyk7CgkkdGhlZmVlZC0+ZW5hYmxlX2NhY2hlKGZhbHNl
KTsKCSR0aGVmZWVkLT5oYW5kbGVfY29udGVudF90eXBlKCk7CgoJJG1lc3NhZ2UgLj0gIkdl
dHRpbmcgJGZlZWRcclxuIjsKCS8vR2V0IHRoZSBmZWVkCgkkc3VjY2VzcyA9ICR0aGVmZWVk
LT5pbml0KCk7CgoJaWYoJHN1Y2Nlc3MpIHsKCQkkbWVzc2FnZSAuPSAiXHRTdWNjZXNzIVxy
XG4iOwoJCSRmZWVkaXRlbXMgPSAkdGhlZmVlZC0+Z2V0X2l0ZW1zKCk7CgkJJGZhdmljb24g
PSAkdGhlZmVlZC0+Z2V0X2Zhdmljb24oKTsKCQkkbWVzc2FnZSAuPSAiXHRGYXZpY29uIC0g
Ii4kZmF2aWNvbi4iXHJcbiI7CgkJZm9yZWFjaCgkZmVlZGl0ZW1zIGFzICRmZWVkaXRlbSkg
ewoJCQkvL0dldCB0aGUgcGVybWFsaW5rCgkJCSRvdXRbJ3Blcm1hbGluayddID0gJGZlZWRp
dGVtLT5nZXRfbGluaygpOwoKCQkJLy8gR2V0IGl0ZW0gdGl0bGUKCQkJJG91dFsndGl0bGUn
XSA9IGFkZHNsYXNoZXMoYXN2X3R1bWJsZWxvZ190cmltdHdpdHRlcigkZmVlZGl0ZW0tPmdl
dF90aXRsZSgpLCAkb3V0WydwZXJtYWxpbmsnXSwgdHJ1ZSkpOwoKCgkJCS8vR2V0IHRoZSBp
bWFnZQoJCQkkb3V0WydpbWFnZSddID0gJGZhdmljb247CgoJCQkvLyBDaGVjayBhbmQgcmV0
cmlldmUgZGF0ZQoJCQlpZigkcHViZGF0ZSE9JycpCgkJCXsKCQkJCSRkYXRlVGFrZW4gPSAk
ZmVlZGl0ZW0tPmdldF9pdGVtX3RhZ3MoJ2h0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8x
LjEvJywgJ2RhdGUuVGFrZW4nKTsKCQkJCXByaW50X3IoJGRhdGVUYWtlblswXVsnZGF0YSdd
KTsKCQkJCWRpZSgibm90IHlldCBpbXBsZW1lbnRlZCIpOwoJCQl9CgkJCWVsc2VpZigkZmVl
ZGl0ZW0tPmdldF9kYXRlKCkpIHsKCQkJCSRvdXRbInBvc3RlZCJdID0gJGZlZWRpdGVtLT5n
ZXRfZGF0ZSgnVScpOwoJCQkJJHdoZW4gPSAiZnJvbV91bml4dGltZSgiLiRvdXRbJ3Bvc3Rl
ZCddLiIpIjsKCQkJfQoJCQllbHNlCgkJCXsKCQkJCSR3aGVuID0gJ25vdygpJzsKCQkJfQoK
CQkJLy9HZXQgdGhlIGJvZHkKCQkJLyppZigkdHlwZT09Im1lZGlhIikKCQkJewoJCQkJJGVu
Y3MgPSAkZmVlZGl0ZW0tPmdldF9lbmNsb3N1cmVzKCk7CgkJCQlmb3JlYWNoKCRlbmNzIGFz
ICRlbmNsb3N1cmUpCgkJCQl7CgkJCQkJcHJpbnRfcigkZW5jbG9zdXJlKTsKCQkJCQlpZigh
aXNfbnVsbCgkZW5jbG9zdXJlLT5nZXRfbGluaygpKSl7CgkJCQkJCSRlbmNfbGluayA9ICRl
bmNsb3N1cmUtPmdldF9saW5rKCk7CgkJCQkJfQoJCQkJCWVsc2UKCQkJCQl7CgkJCQkJCSRl
bmNfbGluayA9ICRlbmNfbGluazsKCQkJCQl9CgkJCQkJJGVuY19saW5rID0gc3RyX3JlcGxh
Y2UoJyZhbXA7JywgJyYnLCAkZW5jX2xpbmspOwoJCQkJCSRvdXRbJ2JvZHknXSA9ICc8cD48
b2JqZWN0IHR5cGU9ImFwcGxpY2F0aW9uL3gtc2hvY2t3YXZlLWZsYXNoIiB3aWR0aD0iNTA2
IiBoZWlnaHQ9IjQxNCIgZGF0YT0iJy4kZW5jX2xpbmsuJyI+CgkgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICA8cGFyYW0gbmFtZT0icXVhbGl0eSIgdmFsdWU9ImhpZ2gi
IC8+CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cGFyYW0gbmFtZT0i
YWxsb3dmdWxsc2NyZWVuIiB2YWx1ZT0idHJ1ZSIgLz4KCSAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgIDxwYXJhbSBuYW1lPSJzY2FsZSIgdmFsdWU9InNob3dBbGwiIC8+
CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cGFyYW0gbmFtZT0ibW92
aWUiIHZhbHVlPSInLiRlbmNfbGluay4nIiAvPgoJICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICA8L29iamVjdD48cD4nOwoJCQkJfQoJCQl9Ki8KCQkJJGltYWdlID0gJyc7CgkJ
CWlmKCRvdXRbJ2ltYWdlJ10pCgkJCXsKCQkJCWlmKCFkZWZpbmVkKCJJTVBBVEgiKSkgZGVm
aW5lKCJJTVBBVEgiLCRwYXRoX3RvX3NpdGUuJy8nLiRpbWdfZGlyLicvJyk7CgkJCQkkZmVl
ZERlc2NyaXB0aW9uID0gJGZlZWRpdGVtLT5nZXRfY29udGVudCgpOwoJCQkJJGltYWdlID0g
cmV0dXJuSW1hZ2UoJGZlZWREZXNjcmlwdGlvbik7CgkJCQkkaW1hZ2UgPSB1cmxkZWNvZGUo
c2NyYXBlSW1hZ2UoJGltYWdlKSk7CgkJCQkvL0NoZWNrIHRvIHNlZSBpZiBpdCBuZWVkcyB0
byBiZSBpbXBvcnRlZCBpbnRvIFRYUCBJbWFnZQoJCQkJaWYoJG91dFsnaW1hZ2UnXSA9PSAn
MicpCgkJCQl7CgkJCQkJLy9nZXQgZXh0ZW5zaW9uCgkJCQkJJGV4dCA9IHN0cnJjaHIoJGlt
YWdlLCAnLicpOwoJCQkJCSRjaGVjayA9IHNhZmVfZmllbGQoJ0lEJywgJ3R4cF9pbWFnZScs
ICJOQU1FID0gJyIuJG91dFsndGl0bGUnXS4iJyBBTkQgREFURSA9ICR3aGVuIik7CgkJCQkJ
aWYoJGNoZWNrKQoJCQkJCXsKCQkJCQkJJGltYWdlSUQgPSAkY2hlY2s7CgkJCQkJfQoJCQkJ
CWVsc2UKCQkJCQl7CgkJCQkJCXNhZmVfaW5zZXJ0KCd0eHBfaW1hZ2UnLAoJCQkJCQkJIm5h
bWUgPSAnIi4kb3V0Wyd0aXRsZSddLiInLAoJCQkJCQkJZXh0ID0gJyRleHQnLAoJCQkJCQkJ
ZGF0ZSA9ICR3aGVuIgoJCQkJCQkpOwoJCQkJCQkkaW1hZ2VJRCA9IG15c3FsX2luc2VydF9p
ZCgpOwoJCQkJCQkvLyBjcmVhdGUgYSBuZXcgY3VybCByZXNvdXJjZQoJCQkJCQkkY2ggPSBj
dXJsX2luaXQoKTsKCQkJCQkJLy8gc2V0IFVSTCBhbmQgb3RoZXIgYXBwcm9wcmlhdGUgb3B0
aW9ucwoJCQkJCQljdXJsX3NldG9wdCgkY2gsIENVUkxPUFRfVVJMLCAiJGltYWdlIik7CgkJ
CQkJCWN1cmxfc2V0b3B0KCRjaCwgQ1VSTE9QVF9SRVRVUk5UUkFOU0ZFUiwgdHJ1ZSk7CgkJ
CQkJCS8vIGdyYWIgVVJMLCBhbmQgcmV0dXJuIG91dHB1dAoJCQkJCQkkb3V0cHV0ID0gY3Vy
bF9leGVjKCRjaCk7CgkJCQkJCS8vIGNsb3NlIGN1cmwgcmVzb3VyY2UsIGFuZCBmcmVlIHVw
IHN5c3RlbSByZXNvdXJjZXMKCQkJCQkJY3VybF9jbG9zZSgkY2gpOwoJCQkJCQkvL3dyaXRl
IHRvIGZpbGUKCQkJCQkJJGZpbGVuYW1lID0gSU1QQVRILmJhc2VuYW1lKCRpbWFnZSk7CgkJ
CQkJCSRmaCA9IGZvcGVuKElNUEFUSC4kaW1hZ2VJRC4kZXh0LCAndycpOwoJCQkJCQlmd3Jp
dGUoJGZoLCAkb3V0cHV0KTsKCQkJCQkJZmNsb3NlKCRmaCk7CgkJCQkJCSRzaG9ydHBhdGgg
PSBiYXNlbmFtZSgkaW1hZ2UpOwoJCQkJCQkkbWVzc2FnZSAuPSAiXHRJbXBvcnRlZCAkZmls
ZW5hbWVcclxuIjsKCQkJCQl9CgkJCQkJJGltYWdlID0gImh0dHA6Ly8iLiRwcmVmc1snc2l0
ZXVybCddLiIvIi4kaW1nX2Rpci4nLycuJGltYWdlSUQuJGV4dDsKCQkJCX0KCQkJfQoKCQkJ
aWYoIWJlZ2luc1dpdGgoJGZlZWRpdGVtLT5nZXRfZGVzY3JpcHRpb24oKSwgIjxwIikpCgkJ
CXsKCQkJCSRvdXRbJ2JvZHknXSA9IGRvdGFnKGRvU2xhc2goYXN2X3R1bWJsZWxvZ190cmlt
dHdpdHRlcigkZmVlZGl0ZW0tPmdldF9kZXNjcmlwdGlvbigpLCAkb3V0WydwZXJtYWxpbmsn
XSwgZmFsc2UpKSwgJ3AnKTsKCQkJfQoJCQllbHNlCgkJCXsKCQkJCSRvdXRbJ2JvZHknXSA9
IGRvU2xhc2goYXN2X3R1bWJsZWxvZ190cmltdHdpdHRlcigkZmVlZGl0ZW0tPmdldF9kZXNj
cmlwdGlvbigpLCAkb3V0WydwZXJtYWxpbmsnXSwgZmFsc2UpKTsKCQkJfQoKCQkJLy9DaGVj
ayB0byBzZWUgaWYgdGhlIGFydGljbGUgaGFzIGFscmVhZHkgYmVlbiBpbXBvcnRlZAoJCQkk
ZXhpc3RzID0gc2FmZV9jb3VudCgndGV4dHBhdHRlcm4nLCAiVGl0bGUgPSAnIi4kb3V0Wyd0
aXRsZSddLiInIEFORCBQb3N0ZWQ9JHdoZW4gQU5EIFNlY3Rpb249JyRzZWN0aW9uJyIpOwoK
CQkJLy9JZiBpdCBoYXNuJ3QgdGhlbiBsZXQncyBhZGQgaXQKCQkJaWYoJGV4aXN0cz09MCl7
CgkJCQkvL0NoZWNrIHRvIHNlZSBpZiBjYXRlZ29yeTEgZXhpc3RzCgkJCQlpZigkY2F0ZWdv
cnkxICYmICFmZXRjaF9jYXRlZ29yeV90aXRsZSgkY2F0ZWdvcnkxKSkKCQkJCXsKCQkJCQkv
L0NyZWF0ZSBuZXcgY2F0ZWdvcnkKCQkJCQkkbmFtZSA9IHNhbml0aXplRm9yVXJsKCRjYXRl
Z29yeTEpOwoJCQkJCSRleGlzdHMgPSBzYWZlX2ZpZWxkKCduYW1lJywgJ3R4cF9jYXRlZ29y
eScsICJuYW1lID0gJyIuZG9TbGFzaCgkbmFtZSkuIicgYW5kIHR5cGUgPSAnYXJ0aWNsZSci
KTsKCQkJCQlpZiAoISRleGlzdHMpCgkJCQkJewoJCQkJCQkkcSA9IHNhZmVfaW5zZXJ0KCd0
eHBfY2F0ZWdvcnknLCAibmFtZSA9ICciLmRvU2xhc2goJG5hbWUpLiInLCB0aXRsZSA9ICci
LmRvU2xhc2goJGNhdGVnb3J5MSkuIicsIHR5cGUgPSAnYXJ0aWNsZScsIHBhcmVudCA9ICdy
b290JyIpOwoJCQkJCQlyZWJ1aWxkX3RyZWUoJ3Jvb3QnLCAxLCAnYXJ0aWNsZScpOwoJCQkJ
CX0KCQkJCX0KCQkJCS8vQ2hlY2sgdG8gc2VlIGlmIGNhdGVnb3J5MiBleGlzdHMKCQkJCWlm
KCRjYXRlZ29yeTIgJiYgIWZldGNoX2NhdGVnb3J5X3RpdGxlKCRjYXRlZ29yeTIpKQoJCQkJ
ewoJCQkJCS8vQ3JlYXRlIG5ldyBjYXRlZ29yeQoJCQkJCSRuYW1lID0gc2FuaXRpemVGb3JV
cmwoJGNhdGVnb3J5Mik7CgkJCQkJJGV4aXN0cyA9IHNhZmVfZmllbGQoJ25hbWUnLCAndHhw
X2NhdGVnb3J5JywgIm5hbWUgPSAnIi5kb1NsYXNoKCRuYW1lKS4iJyBhbmQgdHlwZSA9ICdh
cnRpY2xlJyIpOwoJCQkJCWlmICghJGV4aXN0cykKCQkJCQl7CgkJCQkJCSRxID0gc2FmZV9p
bnNlcnQoJ3R4cF9jYXRlZ29yeScsICJuYW1lID0gJyIuZG9TbGFzaCgkbmFtZSkuIicsIHRp
dGxlID0gJyIuZG9TbGFzaCgkY2F0ZWdvcnkyKS4iJywgdHlwZSA9ICdhcnRpY2xlJywgcGFy
ZW50ID0gJ3Jvb3QnIik7CgkJCQkJCXJlYnVpbGRfdHJlZSgncm9vdCcsIDEsICdhcnRpY2xl
Jyk7CgkJCQkJfQoJCQkJfQoKCQkJCS8vR2V0IGN1c3RvbSBmaWVsZAoJCQkJJG1lc3NhZ2Ug
Lj0gIlx0XHQkbGlua2ZpZWxkIC0gY3VzdG9tXHJcbiI7CgkJCQkkY3VzdG9tX3JvdyA9IHNh
ZmVfcm93KCIqIiwgJ3R4cF9wcmVmcycsICJ2YWw9JyRsaW5rZmllbGQnIik7CgkJCQlpZigk
Y3VzdG9tX3JvdykKCQkJCXsKCQkJCQkkbGlua2ZpZWxkX3NldCA9ICdjdXN0b21fJy4kY3Vz
dG9tX3Jvd1sncG9zaXRpb24nXTsKCQkJCX0KCQkJCWVsc2UKCQkJCXsKCQkJCQkkbGlua2Zp
ZWxkX3NldCA9ICJjdXN0b21fMSI7CgkJCQl9CgkJCQkkcmVzdWx0ID0gc2FmZV9pbnNlcnQo
InRleHRwYXR0ZXJuIiwKCQkJCQkiVGl0bGUgICAgICAgICAgID0gJyIuJG91dFsndGl0bGUn
XS4iJywKCQkJCQlCb2R5ICAgICAgICAgICAgPSAnIi4kb3V0Wydib2R5J10uIicsCgkJCQkJ
Qm9keV9odG1sICAgICAgID0gJyIuJG91dFsnYm9keSddLiInLAoJCQkJCUV4Y2VycHQgICAg
ICAgICA9ICcnLAoJCQkJCUV4Y2VycHRfaHRtbCAgICA9ICcnLAoJCQkJCUltYWdlICAgICAg
ICAgICA9ICciLiRpbWFnZS4iJywKCQkJCQlLZXl3b3JkcyAgICAgICAgPSAnJGtleXdvcmRz
JywKCQkJCQlTdGF0dXMgICAgICAgICAgPSAgNCwKCQkJCQlQb3N0ZWQgICAgICAgICAgPSAg
JHdoZW4sCgkJCQkJTGFzdE1vZCAgICAgICAgID0gIG5vdygpLAoJCQkJCUF1dGhvcklEICAg
ICAgICA9ICckdHhwX3VzZXInLAoJCQkJCVNlY3Rpb24gICAgICAgICA9ICckc2VjdGlvbics
CgkJCQkJQ2F0ZWdvcnkxICAgICAgID0gJyRjYXRlZ29yeTEnLAoJCQkJCUNhdGVnb3J5MiAg
ICAgICA9ICckY2F0ZWdvcnkyJywKCQkJCQl0ZXh0aWxlX2JvZHkgICAgPSAgMCwKCQkJCQl0
ZXh0aWxlX2V4Y2VycHQgPSAgMCwKCQkJCQlBbm5vdGF0ZSAgICAgICAgPSAgMSwKCQkJCQlv
dmVycmlkZV9mb3JtICAgPSAnJGZvcm0nLAoJCQkJCXVybF90aXRsZSAgICAgICA9ICcnLAoJ
CQkJCSRsaW5rZmllbGRfc2V0IAkJPSAnIi4kb3V0WydwZXJtYWxpbmsnXS4iJywKCQkJCQlB
bm5vdGF0ZUludml0ZSAgPSAnY29tbWVudHMnLAoJCQkJCXVpZCAgICAgICAgICAgICA9ICci
Lm1kNSh1bmlxaWQocmFuZCgpLHRydWUpKS4iJywKCQkJCQlmZWVkX3RpbWUgICAgICAgPSAk
d2hlbiwgIi4KCQkJCQkoKCR0ZW1wRmllbGQgPSBhc3ZfdHVtYmxlbG9nX2dldEN1c3RvbUZp
ZWxkKCRmZWVkX2lkX2ZpZWxkKSk/ICIkdGVtcEZpZWxkID0gJyRmZWVkX2lkJyIgOiAiJyci
KQoKCQkJCSk7CgoJCQkJaWYoJHJlc3VsdCkKCQkJCXsKCQkJCQkvL2RvX3BpbmdzKCk7CgkJ
CQkJdXBkYXRlX2xhc3Rtb2QoKTsKCQkJCQkkbWVzc2FnZSAuPSAiXHRBZGRlZCAtICIuJG91
dFsndGl0bGUnXS4iXHJcbiI7CgkJCQl9CgkJCX0KCQkJZWxzZQoJCQl7CgkJCQkkbWVzc2Fn
ZSAuPSAiXHRFeGlzdHMgLSAiLiRvdXRbJ3RpdGxlJ10uIlxyXG4iOwoJCQl9CgkJfQoJfQoJ
ZWxzZSB7CgkJJG1lc3NhZ2UgLj0gIlx0Ii4kdGhlZmVlZC0+ZXJyb3I7Cgl9CglyZXR1cm4g
JG1lc3NhZ2U7Cn0KLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLQovL2hlbHBlciBmdW5jdGlvbnMKLy8tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQov
L0dldCBhbiBpbWFnZQpmdW5jdGlvbiByZXR1cm5JbWFnZSAoJHRleHQpCnsKICAgICR0ZXh0
ID0gaHRtbF9lbnRpdHlfZGVjb2RlKCR0ZXh0KTsKICAgICRwYXR0ZXJuID0gIi88aW1nW14+
XStcPi9pIjsKICAgIHByZWdfbWF0Y2goJHBhdHRlcm4sICR0ZXh0LCAkbWF0Y2hlcyk7CiAg
ICBpZigkbWF0Y2hlcykJcmV0dXJuICRtYXRjaGVzWzBdOwoJcmV0dXJuICcnOwp9Ci8vLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0KZnVuY3Rpb24gc2NyYXBlSW1hZ2UoJHRleHQpCnsKCiAgICAkcGF0dGVybiA9ICcv
c3JjPVtcJyJdPyhbXlwnIiA+XSspW1wnIiA+XS8nOwoKCXByZWdfbWF0Y2goJHBhdHRlcm4s
ICR0ZXh0LCAkbGluayk7CglpZigkbGluaykJcmV0dXJuIHVybGVuY29kZSgkbGlua1sxXSk7
CglyZXR1cm4gJyc7Cgp9Ci8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KZnVuY3Rpb24gYmVnaW5zV2l0aCgkc3RyLCAk
c3ViKQp7CiAgICByZXR1cm4gKHN0cm5jbXAoJHN0ciwgJHN1Yiwgc3RybGVuKCRzdWIpKSA9
PSAwKTsKfQovLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tIjtzOjM6Im1kNSI7czozMjoiY2M5MmRmMjBkNzk5ZmNhMDU0
MzExNDA4MWJhNWRhYWYiO30=
