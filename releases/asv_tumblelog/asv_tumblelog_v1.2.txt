# asv_tumblelog v1.2
# Implementing the greatness of tumblelogs
# Amit Varia
# http://www.amitvaria.com/

# ......................................................................
# This is a plugin for Textpattern - http://textpattern.com/
# To install: textpattern > admin > plugins
# Paste the following text into the 'Install plugin' box:
# ......................................................................

YTo5OntzOjQ6Im5hbWUiO3M6MTM6ImFzdl90dW1ibGVsb2ciO3M6NzoidmVyc2lvbiI7czoz
OiIxLjIiO3M6NjoiYXV0aG9yIjtzOjEwOiJBbWl0IFZhcmlhIjtzOjEwOiJhdXRob3JfdXJp
IjtzOjI1OiJodHRwOi8vd3d3LmFtaXR2YXJpYS5jb20vIjtzOjExOiJkZXNjcmlwdGlvbiI7
czo0MDoiSW1wbGVtZW50aW5nIHRoZSBncmVhdG5lc3Mgb2YgdHVtYmxlbG9ncyI7czo0OiJ0
eXBlIjtpOjE7czo0OiJoZWxwIjtzOjMyMDM6Igk8aDE+YXN2X3R1bWJsZWxvZzwvaDE+CgoJ
PGgyPnRoZSBiZWdpbm5pbmcgb2YgYSBsaWZlc3RyZWFtPC9oMj4KCgk8aDM+U3VtbWFyeTwv
aDM+CgoJPHA+SSB1c2VkIHRvIGJlIGFuIGF2aWQgdXNlciBvZiBzZXJ2aWNlcyBsaWtlIDxh
IGhyZWY9Imh0dHA6Ly93d3cudHVtYmxyLmNvbSI+VHVtYmxyPC9hPiwgYnV0IGZvdW5kIG15
c2VsZiB3YW50aW5nIG1vcmUgZnJlZWRvbSBhbmQgY29udHJvbCBvdmVyIG15IHBvc3RzLiBQ
bGVhc2UgZm9sbG93IHRoZSBzZXR1cCBpbnN0cnVjdGlvbnMgYmVsb3cgdG8gZW5zdXJlIHRo
YXQgZXZlcnl0aGluZyBnZXRzIHNldHVwLiBhc3ZfdHVtYmxlbG9nIHdpbGwgaW1wb3J0IGZl
ZWRzIGZvciB5b3UgYXMgPHNwYW4gY2xhc3M9ImNhcHMiPlRYUDwvc3Bhbj4gYXJ0aWNsZXMu
PC9wPgoKCTxoMz5TZXR1cC9JbnN0YWxsYXRpb248L2gzPgoKCTxwPmFzdl90dW1ibGVsb2cg
cmVxdWlyZXMgPGEgaHJlZj0iaHR0cDovL3d3dy5zaW1wbGVwaWUub3JnIj5TaW1wbGVQaWU8
L2E+LCBzbyBwbGVhc2UgZ3JhYiB0aGUgbGF0ZXN0IHZlcnNpb24uIEFmdGVyIGFjdGl2YXRp
bmcgdGhlIHBsdWdpbiB5b3Ugd2lsbCBoYXZlIGEgbmV3IHRhYiB1bmRlciAmIzgyMjA7RXh0
ZW5zaW9ucyYjODIyMTsgY2FsbGVkICYjODIyMDtUdW1ibGVsb2cmIzgyMjE7LiBJbiB0aGlz
IHRhYiB5b3UgaGF2ZSBmb3VyIG9wdGlvbnMgJiM4MjExOyBTZXR0aW5ncywgRmVlZHMsIFBh
Z2UgRGVzaWduLCBGb3JtIERlc2lnbi48L3A+CgoJPHA+T25jZSBldmVyeXRoaW5nIGlzIHNl
dHVwIHlvdSYjODIxNztsbCBuZWVkIHRvIHNldHVwIGEgY3JvbiBqb2IgdG8gZ2V0IGEgc3Bl
Y2lmaWMgdXJsIHRvIHVwZGF0ZSB0aGUgZmVlZHMuIFRoZSBwYXRoIHdvdWxkIGJlOiBodHRw
Oi8vd2Vic2l0ZXVybC8/YXN2X3R1bWJsZWxvZ191cGRhdGVmZWVkcz0xIChub3RlOiB0aGlz
IGlzIG5vdCB0aGUgdGV4dHBhdHRlcm4gZm9sZGVyLCBidXQgdGhlIHVybCB0byB5b3VyIG1h
aW4gc2l0ZSkuPC9wPgoKCTxoMz5TZXR0aW5nczwvaDM+CgoJPHA+QmVmb3JlIHVzaW5nIGFz
dl90dW1ibGVsb2cgeW91JiM4MjE3O2xsIG5lZWQgdG8gc2V0dXAgYSBjb3VwbGUgdGhpbmdz
LgoJPHVsPgoJCTxsaT48c3Ryb25nPlNvdXJjZSBMaW5rIEZpZWxkPC9zdHJvbmc+ICYjODIx
MTsgc2VsZWN0IHRoZSBjdXN0b20gZmllbGQgeW91IHdvdWxkIGxpa2UgdG8gdXNlIHRvIHN0
b3JlIHRoZSBvcmlnaW5hbCBsaW5rIHRvIHRoZSBpbXBvcnRlZCBwb3N0PC9saT4KCQk8bGk+
PHN0cm9uZz5UdW1ibGVsb2cgU2VjdGlvbjwvc3Ryb25nPiAmIzgyMTE7IHRoZSBzZWN0aW9u
IHRvIGltcG9ydCB0aGUgZmVlZCBpbnRvPC9saT4KCQk8bGk+PHN0cm9uZz5TaW1wbGVQaWUg
UGF0aDwvc3Ryb25nPiAmIzgyMTE7IC90aGUvcGF0aC90by95b3VyL1NpbXBsZVBpZS9pbnN0
YWxsPC9saT4KCTwvdWw+PC9wPgoKCTx1bD4KCQk8bGk+PHN0cm9uZz5Qb3N0IEZvcm08L3N0
cm9uZz4gJiM4MjExOyB0aGUgZm9ybSB0aGF0IHNob3VsZCBiZSB1c2VkIHRvIGZlZWRzIHR5
cGVkIGFzIHBvc3RzPC9saT4KCQk8bGk+PHN0cm9uZz5RdW90ZSBGb3JtPC9zdHJvbmc+ICYj
ODIxMTsgdGhlIGZvcm0gdGhhdCBzaG91bGQgYmUgdXNlZCB0byBmZWVkcyB0eXBlZCBhcyBx
dW90ZXM8L2xpPgoJCTxsaT48c3Ryb25nPkxpbmsgRm9ybTwvc3Ryb25nPiAmIzgyMTE7IHRo
ZSBmb3JtIHRoYXQgc2hvdWxkIGJlIHVzZWQgdG8gZmVlZHMgdHlwZWQgYXMgbGlua3M8L2xp
PgoJCTxsaT48c3Ryb25nPlBob3RvIEZvcm08L3N0cm9uZz4gJiM4MjExOyB0aGUgZm9ybSB0
aGF0IHNob3VsZCBiZSB1c2VkIHRvIGZlZWRzIHR5cGVkIGFzIHBob3RvczwvbGk+Cgk8L3Vs
PgoKCTxoMz5GZWVkczwvaDM+CgoJPHA+SW4gdGhlICYjODIxNjtGZWVkcyYjODIxNzsgc2Vj
dGlvbiB5b3UgYWRkL2VkaXQvdmlldyBhbGwgeW91ciBmZWVkcyB5b3UgYXJlIGltcG9ydGlu
Zy4gV2hlbiBhZGRpbmcgYSBmZWVkLCBmaWxsIGluIHRoZSBpbmZvcm1hdGlvbiBhbmQgY2hv
b3NlIHRoZSBhcHByb3ByaWF0ZSB0eXBlLiBZb3UgY2FuIGNyZWF0ZSB5b3VyIG93biBkZWZp
bml0aW9ucyBmb3IgZWFjaCB0eXBlIHNpbmNlIHlvdSBjYW4gZWRpdCB0aGUgZGVzaWduIGlu
IGxhdHRlciBzZWN0aW9ucy48L3A+CgoJPHA+PHN0cm9uZz5UaGUgb25lIGV4Y2VwdGlvbiBp
cyB0aGUgcGhvdG8gdHlwZS48L3N0cm9uZz4gSWYgYSBmZWVkIGlzIHR5cGVkIGFzIGEgcGhv
dG8gdGhlbiBhc3ZfdHVtYmxlbG9nIHdpbGwgcGFyc2UgdGhlIGJvZHkgb2YgYSBwb3N0IGFu
ZCBncmFiIHRoZSBmaXJzdCBpbWFnZSwgaW1wb3J0IGl0IGludG8gPHNwYW4gY2xhc3M9ImNh
cHMiPlRYUDwvc3Bhbj4sIGFuZCBtYWtlIHRoZSBib2R5IG9mIHRoZSBpbXBvcnRlZCBhcnRp
Y2xlIGEgcmVmZXJlbmNlIHRvIHRoZSBpbXBvcnRlZCBwaG90by48L3A+CgoJPGgzPlBhZ2Ug
RGVzaWduPC9oMz4KCgk8cD5IZXJlIHlvdSBjYW4gZWRpdCB0aGUgcGFnZSB0aGF0IGlzIGFz
c29jaWF0ZWQgdG8geW91ciB0dW1ibGVsb2cgc2VjdGlvbi48L3A+CgoJPGgzPlBhZ2UgU3R5
bGU8L2gzPgoKCTxwPkhlcmUgeW91IGNhbiBlZGl0IHRoZSBzdHlsZSB0aGF0IGlzIGFzc29j
aWF0ZWQgdG8geW91ciB0dW1ibGVsb2cgc2VjdGlvbi48L3A+CgoJPGgzPkZvcm0gRGVzaWdu
PC9oMz4KCgk8cD5IZXJlIHlvdSBjYW4gZWRpdCB0aGUgNCBmb3JtcyB1c2VkIGZvciB5b3Vy
IHR1bWJsZWxvZy48L3A+CgoJPGgzPkJvb2ttYXJrbGV0PC9oMz4KCgk8cD5BZGQgdGhpcyB0
byB5b3VyIGJvb2ttYXJrcyBhbmQgeW91IGNhbiBjcmVhdGUgcXVpY2sgcG9zdHMgZm9yIHNp
dGVzIHlvdSB2aXNpdC48L3A+CgoJPGgzPlJlY2NvbW1lbmRhdGlvbnM8L2gzPgoKCTxwPllv
dSYjODIxNztsbCBsZWFybiB0aGF0IHlvdSBoYXZlIGEgbG90IG9mIHJvb20gZm9yIGZsZXhp
YmlsaXR5IGFuZCBjdXN0b21pemF0aW9uIHdpdGggYXN2X3R1bWJsZWxvZy4gSSB3b3VsZCBy
ZWNvbW1lbmQgaW5zdGFsbGluZyBwbHVnaW5zIGxpa2UgcnNzX2F1dG9fZXhjZXJwdCBhbmQg
dHJ1X3RhZ3MuIFdpdGggcnNzX2F1dG9fZXhjZXJwdCB5b3UgY2FuIHRydW5jYXRlIHBvc3Rz
IGFuZCB0cnVfdGFncyB3aWxsIGxldCB5b3UgaW1wbGVtZW50IGEgdGFnZ2luZyBzb2x1dGlv
biB1c2luZyB0aGUgJiM4MjE2O0tleXdvcmRzJiM4MjE3OyBmaWVsZC48L3A+IjtzOjQ6ImNv
ZGUiO3M6Mzg5OTc6IgppZiAoQHR4cGludGVyZmFjZSA9PSAnYWRtaW4nKQp7CglhZGRfcHJp
dnMoJ2Fzdl90dW1ibGVsb2cnLCcxLDIsMyw0Jyk7IC8vIEFsbG93IG9ubHkgdXNlcmxldmVs
cyAxLDIsMyw0IGFjZXNzIHRvIHRoaXMgcGx1Z2luLgoJcmVnaXN0ZXJfdGFiKCdleHRlbnNp
b25zJywgJ2Fzdl90dW1ibGVsb2cnLCAiVHVtYmxlbG9nIik7CglyZWdpc3Rlcl9jYWxsYmFj
aygiYXN2X3R1bWJsZWxvZyIsICJhc3ZfdHVtYmxlbG9nIik7Cn0KCi8vLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KLy8g
VXRpbGl0eSBGdW5jdGlvbnMKLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQpmdW5jdGlvbiBhc3ZfdHVtYmxlbG9nX3Rp
dGxlKCRhY3RpdmUpCnsKCgkkdGl0bGVzID0gYXJyYXkoJ1NldHRpbmdzJz0+J1NldHRpbmdz
JywgJ0ZlZWRzJz0+J0ZlZWRzJywgJ3BhZ2UtZGVzaWduJz0+J1BhZ2UgRGVzaWduJywgJ3Bh
Z2Utc3R5bGUnPT4nUGFnZSBTdHlsZScsICdEZXNpZ24nPT4nRm9ybSBEZXNpZ24nLCAnYm9v
a21hcmtsZXQnPT4nQm9va21hcmtsZXQnKTsKCSRuZXd0aXRsZXMgPSBhcnJheSgpOwoJZm9y
ZWFjaCgkdGl0bGVzIGFzICRrZXk9PiR0aXRsZSkKCXsKCQlpZigkdGl0bGUhPSRhY3RpdmUp
CgkJewoJCQkkdGl0bGU9JzxhIGhyZWY9ImluZGV4LnBocD9ldmVudD1hc3ZfdHVtYmxlbG9n
JnN0ZXA9Jy4ka2V5LiciPicuJHRpdGxlLic8L2E+JzsKCQl9CgkJYXJyYXlfcHVzaCgkbmV3
dGl0bGVzLCAkdGl0bGUpOwoJfQoKCXJldHVybiB0YWcoam9pbigkbmV3dGl0bGVzLCAiIHwg
IiksICdoMScsICcgc3R5bGU9InRleHQtYWxpZ246IGNlbnRlcjsiJyk7Cn0KLy8tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LQpmdW5jdGlvbiBhc3Zfc2VjdGlvbl9wb3B1cCgkU2VjdGlvbiwgJGlkKQp7CgkkcnMgPSBz
YWZlX2NvbHVtbignbmFtZScsICd0eHBfc2VjdGlvbicsICJuYW1lICE9ICdkZWZhdWx0JyIp
OwoKCWlmICgkcnMpCgl7CgkJcmV0dXJuIHNlbGVjdElucHV0KCd0dW1ibGVsb2dzZWN0aW9u
JywgJHJzLCAkU2VjdGlvbiwgZmFsc2UsICcnLCAkaWQpOwoJfQoKCXJldHVybiBmYWxzZTsK
fQovLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tCmZ1bmN0aW9uIGFzdl9jdXN0b21fcG9wdXAoJEN1c3RvbSwgJGlkKQp7
CgkkcnMgPSBzYWZlX2NvbHVtbigndmFsJywgJ3R4cF9wcmVmcycsICJuYW1lIExJS0UgJ2N1
c3RvbV8lX3NldCciKTsKCglpZiAoJHJzKQoJewoJCXJldHVybiBzZWxlY3RJbnB1dCgkaWQs
ICRycywgJEN1c3RvbSwgZmFsc2UsICcnLCAkaWQpOwoJfQoKCXJldHVybiBmYWxzZTsKfQov
Ly0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tCmZ1bmN0aW9uIGFzdl9mb3JtX3BvcHVwKCRDdXN0b20sICRpZCwgJG5hbWU9
IiIpCnsKCSRycyA9IHNhZmVfY29sdW1uKCduYW1lJywgJ3R4cF9mb3JtJywgInR5cGU9J2Fy
dGljbGUnIik7CgoJaWYgKCRycykKCXsKCQlyZXR1cm4gc2VsZWN0SW5wdXQoJGlkLCAkcnMs
ICRDdXN0b20sIGZhbHNlLCAnJywgJGlkKTsKCX0KCglyZXR1cm4gZmFsc2U7Cn0KLy8tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLQpmdW5jdGlvbiBhc3ZfY2F0X3BvcHVwKCRDdXN0b20sICRpZCwgJG5hbWU9IiIpCnsK
CSRycyA9IGdldFRyZWUoJ3Jvb3QnLCAnYXJ0aWNsZScpOwoKCWlmICgkcnMpCgl7CgkJcmV0
dXJuIHRyZWVTZWxlY3RJbnB1dCgkbmFtZSwkcnMsJEN1c3RvbSwgJGlkKTsKCX0KCglyZXR1
cm4gZmFsc2U7Cn0KLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tCmZ1bmN0aW9uIGdldF9hc3ZfdHVtYmxlbG9nX3ByZWZz
KCkKewoJJG91dCA9IGFycmF5KCk7CgkkciA9IHNhZmVfcm93c19zdGFydCgnbmFtZSwgdmFs
JywgJ3R4cF9wcmVmcycsICJldmVudD0nYXN2X3R1bWJsZWxvJyIpOwoJaWYgKCRyKSB7CgkJ
d2hpbGUgKCRhID0gbmV4dFJvdygkcikpIHsKCQkJJG91dFskYVsnbmFtZSddXSA9ICRhWyd2
YWwnXTsKCQl9CgoJCXJldHVybiBsQXR0cyhhcnJheSgKCQkJJ3NvdXJjZWxpbmsnCT0+ICcn
LAoJCQkndHVtYmxlbG9nc2VjdGlvbicgPT4gJycsCgkJCSdzaW1wbGVwaWUnID0+ICcnLAoJ
CQkncG9zdGZvcm0nCT0+ICcnLAoJCQkncXVvdGVmb3JtJwk9PiAnJywKCQkJJ3Bob3RvZm9y
bScJPT4gJycsCgkJCSdsaW5rZm9ybScgCT0+ICcnLAoJCQkncnNzZmVlZHBhZ2UnID0+ICcn
LAoJCQknZmVlZF9pZF9maWVsZCcgPT4gJycsCgkJCSksJG91dCk7CgoJfQoJcmV0dXJuIGZh
bHNlOwp9Ci8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0KZnVuY3Rpb24gYXN2X3R1bWJsZWxvZ19nZXRDdXN0b21GaWVs
ZCgkbmFtZSkKewoJJG5hbWUgPSBkb1NsYXNoKCRuYW1lKTsKCSRjdXN0b21fcm93ID0gc2Fm
ZV9yb3coIioiLCAndHhwX3ByZWZzJywgInZhbD0nJG5hbWUnIik7CglpZigkY3VzdG9tX3Jv
dykKCXsKCQlyZXR1cm4gJ2N1c3RvbV8nLiRjdXN0b21fcm93Wydwb3NpdGlvbiddOwoJfQoJ
ZWxzZQoJewoJCXJldHVybiBmYWxzZTsKCX0KfQovLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCmZ1bmN0aW9uIGFzdl90
dW1ibGVsb2dfbGlzdF9tdWx0aWVkaXRfZm9ybSgpCnsKCSRtZXRob2RzID0gYXJyYXkoCgkJ
J2RlbGV0ZScgICAgICAgICAgPT4gZ1R4dCgnZGVsZXRlJyksCgkpOwoKCXJldHVybiBldmVu
dF9tdWx0aWVkaXRfZm9ybSgnbGlzdCcsICRtZXRob2RzLCAnJywnJywnJywnJywnJyk7Cn0K
Ly8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLQpmdW5jdGlvbiBhc3ZfdHVtYmxlbG9nX3ZlcmlmeUZlZWQoJGZlZWQsICRz
aW1wbGVwaWUpCnsKCS8vR2V0IFNpbXBsZVBpZQoJcmVxdWlyZV9vbmNlKCRzaW1wbGVwaWUp
OwoKCS8vQ3JlYXRlIGFuZCBzZXR1cCBTaW1wbGVQaWUgSW5zdGFuY2UKCSR0aGVmZWVkID0g
bmV3IFNpbXBsZVBpZSgpOwoJJHRoZWZlZWQtPnNldF9mZWVkX3VybCgkZmVlZCk7CgkkdGhl
ZmVlZC0+ZW5hYmxlX2NhY2hlKGZhbHNlKTsKCSR0aGVmZWVkLT5oYW5kbGVfY29udGVudF90
eXBlKCk7CgoJLy9HZXQgdGhlIGZlZWQKCSRzdWNjZXNzID0gJHRoZWZlZWQtPmluaXQoKTsK
CglyZXR1cm4gKCRzdWNjZXNzKT8gYXJyYXkoJHRoZWZlZWQtPmdldF90aXRsZSgpLCAkdGhl
ZmVlZC0+Z2V0X2Zhdmljb24oKSwgJHRoZWZlZWQtPmdldF9wZXJtYWxpbmsoKSkgOiAgZmFs
c2U7Cgp9CgovLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tCmZ1bmN0aW9uIGFzdl90dW1ibGVsb2dfdmVyaWZ5VGFibGUo
KQp7CglpZihzYWZlX3F1ZXJ5KCJTSE9XIFRBQkxFUyBMSUtFICciLnNhZmVfcGZ4KCdhc3Zf
dHVtYmxlbG9nX2ZlZWRzJykuIiciKSkKCXsKCQkkdmVyc2lvbiA9IG15c3FsX2dldF9zZXJ2
ZXJfaW5mbygpOwoJCS8vVXNlICJFTkdJTkUiIGlmIHZlcnNpb24gb2YgTXlTUUwgPiAoNC4w
LjE4IG9yIDQuMS4yKQoJCSR0YWJsZXR5cGUgPSAoIGludHZhbCgkdmVyc2lvblswXSkgPj0g
NSB8fCBwcmVnX21hdGNoKCcjXjRcLigwXC5bMi05XXwoMVs4OV0pKXwoMVwuWzItOV0pIycs
JHZlcnNpb24pKQoJCQkJCQk/ICIgRU5HSU5FPU15SVNBTSAiCgkJCQkJCTogIiBUWVBFPU15
SVNBTSAiOwoJCSRyZXN1bHQgPSBzYWZlX3F1ZXJ5KCJDUkVBVEUgVEFCTEUgSUYgTk9UIEVY
SVNUUyBgIi5QRlguImFzdl90dW1ibGVsb2dfZmVlZHNgKAoJCQlgSURgIGludCgxMSkgTk9U
IE5VTEwgYXV0b19pbmNyZW1lbnQsCgkJCWBGYXZpY29uYCB2YXJjaGFyKDI1NSkgTk9UIE5V
TEwgZGVmYXVsdCAnJywKCQkJYFRpdGxlYCB2YXJjaGFyKDI1NSkgTk9UIE5VTEwgZGVmYXVs
dCAnJywKCQkJYEZlZWRgIHZhcmNoYXIoMjU1KSBOT1QgTlVMTCBkZWZhdWx0ICcnLAoJCQlg
VVJMYCB2YXJjaGFyKDI1NSkgTk9UIE5VTEwgZGVmYXVsdCAnJywKCQkJYEltYWdlYCBpbnQo
MykgTk9UIE5VTEwgZGVmYXVsdCAnMCcsCgkJCWBBbm5vdGF0ZWAgaW50KDIpIE5PVCBOVUxM
IGRlZmF1bHQgJzAnLAoJCQlgVHlwZWAgdmFyY2hhcigxMjgpIE5PVCBOVUxMIGRlZmF1bHQg
JycsCgkJCWBDYXRlZ29yeTFgIHZhcmNoYXIoMTI4KSBOT1QgTlVMTCBkZWZhdWx0ICcnLAoJ
CQlgQ2F0ZWdvcnkyYCB2YXJjaGFyKDEyOCkgTk9UIE5VTEwgZGVmYXVsdCAnJywKCQkJYEtl
eXdvcmRzYCB2YXJjaGFyKDI1NSkgTk9UIE5VTEwgZGVmYXVsdCAnJywKCQkJIFBSSU1BUlkg
S0VZICAoYElEYCkKCQkJICkgJHRhYmxldHlwZSBQQUNLX0tFWVM9MSBBVVRPX0lOQ1JFTUVO
VD0yICIpOwoKCQlpZigkcnMgPSBzYWZlX3Nob3coJ0NPTFVNTlMnLCAnYXN2X3R1bWJsZWxv
Z19mZWVkcycpKQoJCXsKCQkJaWYoY291bnQoJHJzKSE9MTEpCgkJCXsKCQkJCSRkZXNpZ25f
Y29sID0gYXJyYXkoJ0lEJywgJ0Zhdmljb24nLCAnVGl0bGUnLCAnRmVlZCcsICdVUkwnLCAn
SW1hZ2UnLCAnQW5ub3RhdGUnLCAnVHlwZScsICdDYXRlZ29yeTEnLCAnQ2F0ZWdvcnkyJywg
J0tleXdvcmRzJyk7CgkJCQkkZXhpc3RfY29sID0gYXJyYXkoKTsKCQkJCWZvcmVhY2goJHJz
IGFzICRjb2wpCgkJCQl7CgkJCQkJJGV4aXN0X2NvbFtdID0gJGNvbFsnRmllbGQnXTsKCQkJ
CX0KCQkJCSRkaWZmID0gYXJyYXlfZGlmZigkZGVzaWduX2NvbCwgJGV4aXN0X2NvbCk7CgkJ
CQlmb3JlYWNoKCRkaWZmIGFzICRjb2wpCgkJCQl7CgkJCQkJc3dpdGNoKCRjb2wpCgkJCQkJ
ewoJCQkJCQljYXNlICdJRCc6CgkJCQkJCQlzYWZlX2FsdGVyKCdhc3ZfdHVtYmxlbG9nX2Zl
ZWRzJywgJ0FERCBgSURgIGludCgxMSkgTk9UIE5VTEwgYXV0b19pbmNyZW1lbnQnKTsKCQkJ
CQkJCWJyZWFrOwoJCQkJCQljYXNlICdGYXZpY29uJzoKCQkJCQkJCXNhZmVfYWx0ZXIoJ2Fz
dl90dW1ibGVsb2dfZmVlZHMnLCAiQUREIGBGYXZpY29uYCB2YXJjaGFyKDI1NSkgTk9UIE5V
TEwgZGVmYXVsdCAnJyIpOwoJCQkJCQkJYnJlYWs7CgkJCQkJCWNhc2UgJ1RpdGxlJzoKCQkJ
CQkJCXNhZmVfYWx0ZXIoJ2Fzdl90dW1ibGVsb2dfZmVlZHMnLCAiQUREIGBUaXRsZWAgdmFy
Y2hhcigyNTUpIE5PVCBOVUxMIGRlZmF1bHQgJyciKTsKCQkJCQkJCWJyZWFrOwoJCQkJCQlj
YXNlICdGZWVkJzoKCQkJCQkJCXNhZmVfYWx0ZXIoJ2Fzdl90dW1ibGVsb2dfZmVlZHMnLCAi
QUREIGBGZWVkYCB2YXJjaGFyKDI1NSkgTk9UIE5VTEwgZGVmYXVsdCAnJyIgKTsKCQkJCQkJ
CWJyZWFrOwoJCQkJCQljYXNlICdVUkwnOgoJCQkJCQkJc2FmZV9hbHRlcignYXN2X3R1bWJs
ZWxvZ19mZWVkcycsICJBREQgYFVSTGAgdmFyY2hhcigyNTUpIE5PVCBOVUxMIGRlZmF1bHQg
JyciKTsKCQkJCQkJCWJyZWFrOwoJCQkJCQljYXNlICdJbWFnZSc6CgkJCQkJCQlzYWZlX2Fs
dGVyKCdhc3ZfdHVtYmxlbG9nX2ZlZWRzJywgIkFERCBgSW1hZ2VgIGludCgzKSBOT1QgTlVM
TCBkZWZhdWx0ICcwJyIpOwoJCQkJCQkJYnJlYWs7CgkJCQkJCWNhc2UgJ0Fubm90YXRlJzoK
CQkJCQkJCXNhZmVfYWx0ZXIoJ2Fzdl90dW1ibGVsb2dfZmVlZHMnLCAiQUREIGBBbm5vdGF0
ZWAgaW50KDIpIE5PVCBOVUxMIGRlZmF1bHQgJzAnIik7CgkJCQkJCQlicmVhazsKCQkJCQkJ
Y2FzZSAnVHlwZSc6CgkJCQkJCQlzYWZlX2FsdGVyKCdhc3ZfdHVtYmxlbG9nX2ZlZWRzJywg
IkFERCBgVHlwZWAgdmFyY2hhcigxMjgpIE5PVCBOVUxMIGRlZmF1bHQgJyciKTsKCQkJCQkJ
CWJyZWFrOwoJCQkJCQljYXNlICdDYXRlZ29yeTEnOgoJCQkJCQkJc2FmZV9hbHRlcignYXN2
X3R1bWJsZWxvZ19mZWVkcycsICJBREQgYENhdGVnb3J5MWAgdmFyY2hhcigxMjgpIE5PVCBO
VUxMIGRlZmF1bHQgJyciKTsKCQkJCQkJCWJyZWFrOwoJCQkJCQljYXNlICdDYXRlZ29yeTIn
OgoJCQkJCQkJc2FmZV9hbHRlcignYXN2X3R1bWJsZWxvZ19mZWVkcycsICJBREQgYENhdGVn
b3J5MmAgdmFyY2hhcigxMjgpIE5PVCBOVUxMIGRlZmF1bHQgJyciKTsKCQkJCQkJCWJyZWFr
OwoJCQkJCQljYXNlICdLZXl3b3Jkcyc6CgkJCQkJCQlzYWZlX2FsdGVyKCdhc3ZfdHVtYmxl
bG9nX2ZlZWRzJywgIkFERCBgS2V5d29yZHNgIHZhcmNoYXIoMjU1KSBOT1QgTlVMTCBkZWZh
dWx0ICcnIik7CgkJCQkJCQlicmVhazsKCQkJCQl9CgkJCQl9CgkJCX0KCQl9Cgl9Cn0KLy8t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLQpmdW5jdGlvbiBhc3ZfdHVtYmxlbG9nX3RyaW10d2l0dGVyKCRpbnB1dCwgJHNv
dXJjZSkKewoJaWYoc3Ryc3RyKCRzb3VyY2UsICJ0d2l0dGVyLmNvbSIpKQoJewoJCXJldHVy
biBwcmVnX3JlcGxhY2UoJy8oXHcrOikgKFwuKikvJywgJyQyJywgJGlucHV0KTsKCX0KCXJl
dHVybiAkaW5wdXQ7Cn0KLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQpmdW5jdGlvbiBhc3ZfdHVtYmxlbG9nX3RleHRp
bGVfbWFpbl9maWVsZHMoJGluY29taW5nLCAkdXNlX3RleHRpbGUpCnsKCWdsb2JhbCAkdHhw
Y2ZnOwoKCWluY2x1ZGVfb25jZSB0eHBhdGguJy9saWIvY2xhc3NUZXh0aWxlLnBocCc7Cgkk
dGV4dGlsZSA9IG5ldyBUZXh0aWxlKCk7CgoJJGluY29taW5nWyd0aXRsZV9wbGFpbiddID0g
JGluY29taW5nWyd0aXRsZSddOwoJJGluY29taW5nWydib2R5X2h0bWwnXSA9ICR0ZXh0aWxl
LT5UZXh0aWxlVGhpcygkaW5jb21pbmdbJ2JvZHknXSk7CgkkaW5jb21pbmdbJ3RpdGxlJ10g
PSAkdGV4dGlsZS0+VGV4dGlsZVRoaXMoJGluY29taW5nWyd0aXRsZSddLCcnLDEpOwoKCXJl
dHVybiAkaW5jb21pbmc7Cn0KLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoKZnVuY3Rpb24gYXN2X3R1bWJsZWxvZ19m
ZWVkc19saXN0KCRhdHRzLCR0aGluZykKewp9CgpmdW5jdGlvbiBhc3ZfdHVtYmxlbG9nKCRl
dmVudCwgJHN0ZXApCnsKCSRzdGVwPSgkc3RlcD09JycpPydTZXR0aW5ncyc6JHN0ZXA7CgoJ
c3dpdGNoKCRzdGVwKQoJewoJCWNhc2UgJ1NldHRpbmdzJzoKCQkJYXN2X3R1bWJsZWxvZ19z
ZXR0aW5ncygkc3RlcCk7CgkJCWJyZWFrOwoJCWNhc2UgJ0ZlZWRzJzoKCQkJYXN2X3R1bWJs
ZWxvZ19mZWVkcygkc3RlcCk7CgkJCWJyZWFrOwoJCWNhc2UgJ0Rlc2lnbic6CgkJCWFzdl90
dW1ibGVsb2dfZGVzaWduKCRzdGVwKTsKCQkJYnJlYWs7CgkJY2FzZSAncGFnZS1kZXNpZ24n
OgoJCQlhc3ZfdHVtYmxlbG9nX3BhZ2VkZXNpZ24oJHN0ZXApOwoJCQlicmVhazsKCQljYXNl
ICdwYWdlLXN0eWxlJzoKCQkJYXN2X3R1bWJsZWxvZ19wYWdlc3R5bGUoJHN0ZXApOwoJCQli
cmVhazsKCQljYXNlICdib29rbWFya2xldCc6CgkJCWFzdl90dW1ibGVsb2dfYm9va21hcmts
ZXQoJHN0ZXApOwoJCQlicmVhazsKCQljYXNlICdtaW5pJzoKCQkJYXN2X3R1bWJsZWxvZ19t
aW5pKCRzdGVwKTsKCQkJYnJlYWs7Cgl9Cn0KCmZ1bmN0aW9uIGFzdl90dW1ibGVsb2dfbWlu
aSgkc3RlcCkKewoJZ2xvYmFsICR0eHBfdXNlciwgJHZhcnMsICR0eHBjZmcsICRwcmVmczsK
CgkkbWVzc2FnZSA9ICcnOwoKCWV4dHJhY3QoJHByZWZzKTsKCWV4dHJhY3QoZ2V0X2Fzdl90
dW1ibGVsb2dfcHJlZnMoKSk7CgoJJGluY29taW5nID0gbEF0dHMoYXJyYXkoCgkJCSdtZXRo
b2QnCT0+ICcnLAoJCQknZm9ybW5hbWUnID0+ICcnLAoJCQknc291cmNldXJsJyA9PiAnJywK
CQkJJ3RpdGxlJwk9PiAnJywKCQkJJ2JvZHknCT0+ICcnLAoJCQknY2F0ZWdvcnkxJwk9PiAn
JywKCQkJJ2NhdGVnb3J5MicgCT0+ICcnLAoJCQkna2V5d29yZHMnID0+ICcnLAoJCQkncGhv
dG91cmwnCT0+ICcnLAoJCQkpLAoJCQkJZ3BzYShhcnJheSgnbWV0aG9kJywgJ2Zvcm1uYW1l
JywgJ3NvdXJjZXVybCcsICd0aXRsZScsICdib2R5JywgJ2NhdGVnb3J5MScsICdjYXRlZ29y
eTInLCAna2V5d29yZHMnLCAncGhvdG91cmwnKSkpOwoKCSRpbmNvbWluZyA9IGFzdl90dW1i
bGVsb2dfdGV4dGlsZV9tYWluX2ZpZWxkcygkaW5jb21pbmcsICR1c2VfdGV4dGlsZSk7Cgll
eHRyYWN0KGRvU2xhc2goJGluY29taW5nKSk7CgoKCWlmKGdwcygnYWN0aW9uJyk9PSdjcmVh
dGUnKQoJewoKCQkkY3VzdG9tRmllbGQgPSBhc3ZfdHVtYmxlbG9nX2dldEN1c3RvbUZpZWxk
KCRzb3VyY2VsaW5rKTsKCgkJJHJlc3VsdCA9IHNhZmVfaW5zZXJ0KCJ0ZXh0cGF0dGVybiIs
CgkJCQkJIlRpdGxlICAgICAgICAgICA9ICciLiR0aXRsZS4iJywKCQkJCQlUaXRsZV9odG1s
CT0nIi4kdGl0bGVfcGxhaW4uIicsCgkJCQkJQm9keSAgICAgICAgICAgID0gJyIuJGJvZHku
IicsCgkJCQkJQm9keV9odG1sICAgICAgID0gJyIuJGJvZHlfaHRtbC4iJywKCQkJCQlFeGNl
cnB0ICAgICAgICAgPSAnJywKCQkJCQlFeGNlcnB0X2h0bWwgICAgPSAnJywKCQkJCQlJbWFn
ZSAgICAgICAgICAgPSAnIi4oKCRtZXRob2Q9PSdwaG90bycpPyAkcGhvdG91cmw6ICIiKS4i
JywKCQkJCQlLZXl3b3JkcyAgICAgICAgPSAnIi4ka2V5d29yZHMuIicsCgkJCQkJU3RhdHVz
ICAgICAgICAgID0gIDQsCgkJCQkJUG9zdGVkICAgICAgICAgID0gIG5vdygpLAoJCQkJCUxh
c3RNb2QgICAgICAgICA9ICBub3coKSwKCQkJCQlBdXRob3JJRCAgICAgICAgPSAnJHR4cF91
c2VyJywKCQkJCQlTZWN0aW9uICAgICAgICAgPSAnIi4kdHVtYmxlbG9nc2VjdGlvbi4iJywK
CQkJCQlDYXRlZ29yeTEgICAgICAgPSAnIi4kY2F0ZWdvcnkxLiInLAoJCQkJCUNhdGVnb3J5
MiAgICAgICA9ICciLiRjYXRlZ29yeTIuIicsCgkJCQkJdGV4dGlsZV9ib2R5ICAgID0gIDEs
CgkJCQkJdGV4dGlsZV9leGNlcnB0ID0gIDEsCgkJCQkJQW5ub3RhdGUgICAgICAgID0gIDEs
CgkJCQkJb3ZlcnJpZGVfZm9ybSAgID0gJyIuJGZvcm1uYW1lLiInLAoJCQkJCXVybF90aXRs
ZSAgICAgICA9ICcnLAoJCQkJCSRjdXN0b21GaWVsZCAJCT0gJyIuKCgkbWV0aG9kIT0ncG9z
dCcpPyAkc291cmNldXJsOiAiIikuIicsCgkJCQkJQW5ub3RhdGVJbnZpdGUgID0gJ2NvbW1l
bnRzJywKCQkJCQl1aWQgICAgICAgICAgICAgPSAnIi5tZDUodW5pcWlkKHJhbmQoKSx0cnVl
KSkuIicsCgkJCQkJZmVlZF90aW1lICAgICAgID0gbm93KCkiCgkJCQkpOwoKCQkJCWlmKCRy
ZXN1bHQpCgkJCQl7CgkJCQkJLy9kb19waW5ncygpOwoJCQkJCXVwZGF0ZV9sYXN0bW9kKCk7
CgkJCQkJJG1lc3NhZ2UgPSAiQWRkZWQgLSAiLiR0aXRsZTsKCgkJCQkJZXh0cmFjdChsQXR0
cyhhcnJheSgKCQkJCQkJJ21ldGhvZCcJPT4gJycsCgkJCQkJCSdmb3JtbmFtZScgPT4gJycs
CgkJCQkJCSdzb3VyY2V1cmwnID0+ICcnLAoJCQkJCQkndGl0bGUnCT0+ICcnLAoJCQkJCQkn
Ym9keScJPT4gJycsCgkJCQkJCSdjYXRlZ29yeTEnCT0+ICcnLAoJCQkJCQknY2F0ZWdvcnky
JyAJPT4gJycsCgkJCQkJCSdrZXl3b3JkcycgPT4gJycsCgkJCQkJCSdwaG90b3VybCcJPT4g
JycsCgkJCQkJCSksIGFycmF5KCkpKTsKCQkJCX0KCQkJCWVsc2UKCQkJCXsKCQkJCQkkbWVz
c2FnZSA9ICJVbmFibGUgdG8gc2F2ZSAtICIuJHRpdGxlOwoJCQkJfQoJfQoKCXBhZ2V0b3Ao
J1Bvc3QgdG8gVHVtYmxlbG9nJywgJG1lc3NhZ2UpOwoKCgk/PgoJPHNjcmlwdCB0eXBlPSJ0
ZXh0L2phdmFzY3JpcHQiPgoJCWZ1bmN0aW9uIGFzdl90dW1ibGVsb2dfbWluaV9jaG9vc2Uo
aWQpewoJCQkkKCcjYXN2X3R1bWJsZWxvZ19saW5rJykuaGlkZSgpOwoJCQkkKCcjYXN2X3R1
bWJsZWxvZ19wb3N0JykuaGlkZSgpOwoJCQkkKCcjYXN2X3R1bWJsZWxvZ19waG90bycpLmhp
ZGUoKTsKCQkJJCgnI2Fzdl90dW1ibGVsb2dfcXVvdGUnKS5oaWRlKCk7CgoJCQkkKGlkKS5z
aG93KCk7CgkJfQoJCSQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCkgewoJCQlhc3ZfdHVt
YmxlbG9nX21pbmlfY2hvb3NlKCcjYXN2X3R1bWJsZWxvZ19wb3N0Jyk7CgkJfSk7Cgk8L3Nj
cmlwdD4KCgk8P3BocAoKCWVjaG8gdGFnKCc8YSBocmVmPSIjIiBvbmNsaWNrPSJhc3ZfdHVt
YmxlbG9nX21pbmlfY2hvb3NlKFwnI2Fzdl90dW1ibGVsb2dfcG9zdFwnKTsiPnBvc3Q8L2E+
IHwgJy4KCQkgJzxhIGhyZWY9IiMiIG9uY2xpY2s9ImFzdl90dW1ibGVsb2dfbWluaV9jaG9v
c2UoXCcjYXN2X3R1bWJsZWxvZ19xdW90ZVwnKTsiPnF1b3RlPC9hPiB8ICcuCgkJICc8YSBo
cmVmPSIjIiBvbmNsaWNrPSJhc3ZfdHVtYmxlbG9nX21pbmlfY2hvb3NlKFwnI2Fzdl90dW1i
bGVsb2dfbGlua1wnKTsiPmxpbms8L2E+IHwgJy4KCQkgJzxhIGhyZWY9IiMiIG9uY2xpY2s9
ImFzdl90dW1ibGVsb2dfbWluaV9jaG9vc2UoXCcjYXN2X3R1bWJsZWxvZ19waG90b1wnKTsi
PnBob3RvPC9hPicsCgkJIAknaDEnLCAnIHN0eWxlPSJ0ZXh0LWFsaWduOmNlbnRlciInKTsK
CgkvL3Bvc3QKCWVjaG8gJzxmb3JtIG5hbWU9InBvc3QiIG1ldGhvZD0icG9zdCIgYWN0aW9u
PSJpbmRleC5waHAiPicuCgkJbi5oSW5wdXQoJ2V2ZW50JywgJ2Fzdl90dW1ibGVsb2cnKS4K
CQluLmhJbnB1dCgnc3RlcCcsICdtaW5pJykuCgkJbi5oSW5wdXQoJ2FjdGlvbicsICdjcmVh
dGUnKS4KCQluLmhJbnB1dCgnbWV0aG9kJywgJ3Bvc3QnKS4KCQluLmhJbnB1dCgnYm0nLCAn
MScpOwoKCQllY2hvIHN0YXJ0VGFibGUoJ2Fzdl90dW1ibGVsb2dfcG9zdCcpLgoJCQl0cigK
CQkJCXRkKAoJCQkJCXN0YXJ0VGFibGUoJ2xpc3QnKS4KCQkJCQl0cih0ZGEoJ0FkZCBhIG5l
dyBwb3N0JywgJyBjb2xzcGFuPTInKSkuCgkJCQkJdHIodGQoJ0Zvcm0nKS50ZChhc3ZfZm9y
bV9wb3B1cCgkcG9zdGZvcm0sICdmb3JtbmFtZScpKSkuCgkJCQkJdHIodGQoJ1RpdGxlJyku
dGQoZklucHV0KCd0ZXh0JywgJ3RpdGxlJywgJycsICcnLCAnJywgJycsICc1MCcpKSkuCgkJ
CQkJdHIodGQoJ1Bvc3QnKS50ZCh0ZXh0X2FyZWEoJ2JvZHknLCAnMTAwJywgJzI1MCcsICRi
b2R5KSkpLgoJCQkJCXRyKHRkYShmSW5wdXQoJ3N1Ym1pdCcsICdzYXZlJywgJ3Bvc3QnLCAn
cHVibGlzaCcpLCAnIGNvbHNwYW49MiBzdHlsZT0idGV4dC1hbGlnbjogcmlnaHQiJykpLgoJ
CQkJCWVuZFRhYmxlKCkKCQkJCSkuCgkJCQl0ZCgKCQkJCQlzdGFydFRhYmxlKCdsaXN0Jyku
CgkJCQkJCXRyKHRkKCkpLgoJCQkJCQl0cih0ZCgnQ2F0ZWdvcnkgMTxiciAvPicuYXN2X2Nh
dF9wb3B1cCgkY2F0ZWdvcnkxLCdjYXRlZ29yeTEnKSkpLgoJCQkJCQl0cih0ZCgnQ2F0ZWdv
cnkgMjxiciAvPicuYXN2X2NhdF9wb3B1cCgkY2F0ZWdvcnkyLCdjYXRlZ29yeTInKSkpLgoJ
CQkJCQl0cih0ZCgnS2V5d29yZHM8YnIgLz4nLmZJbnB1dCgndGV4dCcsICdrZXl3b3Jkcycs
ICcnKSkpLgoJCQkJCWVuZFRhYmxlKCkKCQkJCSkpOwoJZWNobyAnPC9mb3JtPjwvYm9keT48
L2h0bWw+JzsKCgkvL3F1b3RlCgllY2hvICc8Zm9ybSBuYW1lPSJxdW90ZSIgbWV0aG9kPSJw
b3N0IiBhY3Rpb249ImluZGV4LnBocCI+Jy4KCQluLmhJbnB1dCgnZXZlbnQnLCAnYXN2X3R1
bWJsZWxvZycpLgoJCW4uaElucHV0KCdzdGVwJywgJ21pbmknKS4KCQluLmhJbnB1dCgnYWN0
aW9uJywgJ2NyZWF0ZScpLgoJCW4uaElucHV0KCdtZXRob2QnLCAncXVvdGUnKS4KCQluLmhJ
bnB1dCgnYm0nLCAnMScpOwoKCQllY2hvIHN0YXJ0VGFibGUoJ2Fzdl90dW1ibGVsb2dfcXVv
dGUnKS4KCQkJdHIoCgkJCQl0ZCgKCQkJCQlzdGFydFRhYmxlKCdsaXN0JykuCgkJCQkJdHIo
dGRhKCdBZGQgYSBuZXcgcXVvdGUnLCAnIGNvbHNwYW49MicpKS4KCQkJCQl0cih0ZCgnRm9y
bScpLnRkKGFzdl9mb3JtX3BvcHVwKCRxdW90ZWZvcm0sICdmb3JtbmFtZScpKSkuCgkJCQkJ
dHIodGQoJ1NvdXJjZSBVUkwnKS50ZChmSW5wdXQoJ3RleHQnLCAnc291cmNldXJsJywgJHNv
dXJjZXVybCwgJycsICcnLCAnJywgJzUwJykpKS4KCQkJCQl0cih0ZCgnVGl0bGUnKS50ZChm
SW5wdXQoJ3RleHQnLCAndGl0bGUnLCAkdGl0bGUsICcnLCAnJywgJycsICc1MCcpKSkuCgkJ
CQkJdHIodGQoJ1Bvc3QnKS50ZCh0ZXh0X2FyZWEoJ2JvZHknLCAnMTAwJywgJzI1MCcsICRi
b2R5KSkpLgoJCQkJCXRyKHRkYShmSW5wdXQoJ3N1Ym1pdCcsICdzYXZlJywgJ3Bvc3QnLCAn
cHVibGlzaCcpLCAnIGNvbHNwYW49MiBzdHlsZT0idGV4dC1hbGlnbjogcmlnaHQiJykpLgoJ
CQkJCWVuZFRhYmxlKCkKCQkJCSkuCgkJCQl0ZCgKCQkJCQlzdGFydFRhYmxlKCdsaXN0Jyku
CgkJCQkJCXRyKHRkKCkpLgoJCQkJCQl0cih0ZCgnQ2F0ZWdvcnkgMTxiciAvPicuYXN2X2Nh
dF9wb3B1cCgkY2F0ZWdvcnkxLCdjYXRlZ29yeTEnKSkpLgoJCQkJCQl0cih0ZCgnQ2F0ZWdv
cnkgMjxiciAvPicuYXN2X2NhdF9wb3B1cCgkY2F0ZWdvcnkyLCdjYXRlZ29yeTInKSkpLgoJ
CQkJCQl0cih0ZCgnS2V5d29yZHM8YnIgLz4nLmZJbnB1dCgndGV4dCcsICdrZXl3b3Jkcycs
ICcnKSkpLgoJCQkJCWVuZFRhYmxlKCkKCQkJCSkpOwoJZWNobyAnPC9mb3JtPjwvYm9keT48
L2h0bWw+JzsKCgkvL2xpbmsKCWVjaG8gJzxmb3JtIGlkPSIiIG5hbWU9ImxpbmsiIG1ldGhv
ZD0icG9zdCIgYWN0aW9uPSJpbmRleC5waHAiPicuCgkJbi5oSW5wdXQoJ2V2ZW50JywgJ2Fz
dl90dW1ibGVsb2cnKS4KCQluLmhJbnB1dCgnc3RlcCcsICdtaW5pJykuCgkJbi5oSW5wdXQo
J2FjdGlvbicsICdjcmVhdGUnKS4KCQluLmhJbnB1dCgnbWV0aG9kJywgJ2xpbmsnKS4KCQlu
LmhJbnB1dCgnYm0nLCAnMScpOwoKCQllY2hvIHN0YXJ0VGFibGUoJ2Fzdl90dW1ibGVsb2df
bGluaycsICdjZW50ZXInKS4KCQkJdHIoCgkJCQl0ZCgKCQkJCQlzdGFydFRhYmxlKCdsaXN0
JykuCgkJCQkJdHIodGRhKCdBZGQgYSBuZXcgbGluaycsICcgY29sc3Bhbj0yJykpLgoJCQkJ
CXRyKHRkKCdGb3JtJykudGQoYXN2X2Zvcm1fcG9wdXAoJGxpbmtmb3JtLCAnZm9ybW5hbWUn
KSkpLgoJCQkJCXRyKHRkKCdTb3VyY2UgVVJMJykudGQoZklucHV0KCd0ZXh0JywgJ3NvdXJj
ZXVybCcsICRzb3VyY2V1cmwsICcnLCAnJywgJycsICc1MCcpKSkuCgkJCQkJdHIodGQoJ1Rp
dGxlJykudGQoZklucHV0KCd0ZXh0JywgJ3RpdGxlJywgJHRpdGxlLCAnJywgJycsICcnLCAn
NTAnKSkpLgoJCQkJCXRyKHRkKCdQb3N0JykudGQodGV4dF9hcmVhKCdib2R5JywgJzEwMCcs
ICcyNTAnLCAkYm9keSkpKS4KCQkJCQl0cih0ZGEoZklucHV0KCdzdWJtaXQnLCAnc2F2ZScs
ICdwb3N0JywgJ3B1Ymxpc2gnKSwgJyBjb2xzcGFuPTIgc3R5bGU9InRleHQtYWxpZ246IHJp
Z2h0IicpKS4KCQkJCQllbmRUYWJsZSgpCgkJCQkpLgoJCQkJdGQoCgkJCQkJc3RhcnRUYWJs
ZSgnbGlzdCcpLgoJCQkJCQl0cih0ZCgpKS4KCQkJCQkJdHIodGQoJ0NhdGVnb3J5IDE8YnIg
Lz4nLmFzdl9jYXRfcG9wdXAoJGNhdGVnb3J5MSwnY2F0ZWdvcnkxJykpKS4KCQkJCQkJdHIo
dGQoJ0NhdGVnb3J5IDI8YnIgLz4nLmFzdl9jYXRfcG9wdXAoJGNhdGVnb3J5MiwnY2F0ZWdv
cnkyJykpKS4KCQkJCQkJdHIodGQoJ0tleXdvcmRzPGJyIC8+Jy5mSW5wdXQoJ3RleHQnLCAn
a2V5d29yZHMnLCAnJykpKS4KCQkJCQllbmRUYWJsZSgpCgkJCQkpKTsKCWVjaG8gJzwvZm9y
bT48L2JvZHk+PC9odG1sPic7CgoJLy9waG90bwoJZWNobyAnPGZvcm0gbmFtZT0icGhvdG8i
IG1ldGhvZD0icG9zdCIgYWN0aW9uPSJpbmRleC5waHAiPicuCgkJbi5oSW5wdXQoJ2V2ZW50
JywgJ2Fzdl90dW1ibGVsb2cnKS4KCQluLmhJbnB1dCgnc3RlcCcsICdtaW5pJykuCgkJbi5o
SW5wdXQoJ2FjdGlvbicsICdjcmVhdGUnKS4KCQluLmhJbnB1dCgnbWV0aG9kJywgJ3Bob3Rv
JykuCgkJbi5oSW5wdXQoJ2JtJywgJzEnKTsKCgkJZWNobyBzdGFydFRhYmxlKCdhc3ZfdHVt
YmxlbG9nX3Bob3RvJykuCgkJCXRyKAoJCQkJdGQoCgkJCQkJc3RhcnRUYWJsZSgnbGlzdCcp
LgoJCQkJCXRyKHRkYSgnQWRkIGEgbmV3IHBob3RvJywgJyBjb2xzcGFuPTInKSkuCgkJCQkJ
dHIodGQoJ0Zvcm0nKS50ZChhc3ZfZm9ybV9wb3B1cCgkcGhvdG9mb3JtLCAnZm9ybW5hbWUn
KSkpLgoJCQkJCXRyKHRkKCdQaG90byBVUkwnKS50ZChmSW5wdXQoJ3RleHQnLCAncGhvdG91
cmwnLCAkcGhvdG91cmwsICcnLCAnJywgJycsICc1MCcpKSkuCgkJCQkJdHIodGQoJ1NvdXJj
ZSBVUkwnKS50ZChmSW5wdXQoJ3RleHQnLCAnc291cmNldXJsJywgJHNvdXJjZXVybCwgJycs
ICcnLCAnJywgJzUwJykpKS4KCQkJCQl0cih0ZCgnVGl0bGUnKS50ZChmSW5wdXQoJ3RleHQn
LCAndGl0bGUnLCAkdGl0bGUsICcnLCAnJywgJycsICc1MCcpKSkuCgkJCQkJdHIodGQoJ1Bv
c3QnKS50ZCh0ZXh0X2FyZWEoJ2JvZHknLCAnMTAwJywgJzI1MCcsICRib2R5KSkpLgoJCQkJ
CXRyKHRkYShmSW5wdXQoJ3N1Ym1pdCcsICdzYXZlJywgJ3Bvc3QnLCAncHVibGlzaCcpLCAn
IGNvbHNwYW49MiBzdHlsZT0idGV4dC1hbGlnbjogcmlnaHQiJykpLgoJCQkJCWVuZFRhYmxl
KCkKCQkJCSkuCgkJCQl0ZCgKCQkJCQlzdGFydFRhYmxlKCdsaXN0JykuCgkJCQkJCXRyKHRk
KCkpLgoJCQkJCQl0cih0ZCgnQ2F0ZWdvcnkgMTxiciAvPicuYXN2X2NhdF9wb3B1cCgkY2F0
ZWdvcnkxLCdjYXRlZ29yeTEnKSkpLgoJCQkJCQl0cih0ZCgnQ2F0ZWdvcnkgMjxiciAvPicu
YXN2X2NhdF9wb3B1cCgkY2F0ZWdvcnkyLCdjYXRlZ29yeTInKSkpLgoJCQkJCQl0cih0ZCgn
S2V5d29yZHM8YnIgLz4nLmZJbnB1dCgndGV4dCcsICdrZXl3b3JkcycsICcnKSkpLgoJCQkJ
CWVuZFRhYmxlKCkKCQkJCSkpOwoJZWNobyAnPC9mb3JtPjwvYm9keT48L2h0bWw+JzsKCgll
eGl0KCk7Cn0KCmZ1bmN0aW9uIGFzdl90dW1ibGVsb2dfYm9va21hcmtsZXQoJHN0ZXApCnsK
CWdsb2JhbCAkcHJlZnM7CgoJcGFnZXRvcCgnVHVtYmxlbG9nID4gQm9va21hcmtsZXQnLCAn
Jyk7CgoJZXh0cmFjdChnZXRfYXN2X3R1bWJsZWxvZ19wcmVmcygpKTsKCgllY2hvIGFzdl90
dW1ibGVsb2dfdGl0bGUoJHN0ZXApOwoKCS8vR2V0IGN1c3RvbSBmaWVsZAoJJGxpbmtmaWVs
ZF9zZXQgPSAnJzsKCSRjdXN0b21fcm93ID0gc2FmZV9yb3coIioiLCAndHhwX3ByZWZzJywg
InZhbD0nJHNvdXJjZWxpbmsnIik7CglpZigkY3VzdG9tX3JvdykKCXsKCQkkbGlua2ZpZWxk
X3NldCA9ICdjdXN0b21fJy4kY3VzdG9tX3Jvd1sncG9zaXRpb24nXTsKCX0KCWVsc2UKCXsK
CQkkbGlua2ZpZWxkX3NldCA9ICJjdXN0b21fMSI7Cgl9CgoKCSRib29rbWFya2xldCA9ICJq
YXZhc2NyaXB0OnZhciBkPWRvY3VtZW50LHc9d2luZG93LGU9dy5nZXRTZWxlY3Rpb24saz1k
LmdldFNlbGVjdGlvbix4PWQuc2VsZWN0aW9uLHM9KGU/ZSgpOihrKT9rKCk6KHg/eC5jcmVh
dGVSYW5nZSgpLnRleHQ6MCkpLGY9J2h0dHA6Ly8iLiRwcmVmc1snc2l0ZXVybCddLiIvdGV4
dHBhdHRlcm4vaW5kZXgucGhwPycsbD1kLmxvY2F0aW9uLGU9ZW5jb2RlVVJJQ29tcG9uZW50
LHA9J2V2ZW50PWFzdl90dW1ibGVsb2cmc3RlcD1taW5pJmJtPTEmZm9ybW5hbWU9Ii4kbGlu
a2Zvcm0uIiZzb3VyY2V1cmw9JytlKGwuaHJlZikrJyZ0aXRsZT0nK2UoZC50aXRsZSkrJyZi
b2R5PScrZShzKSx1PWYrcDthPWZ1bmN0aW9uKCl7aWYoIXcub3Blbih1LCd0JywndG9vbGJh
cj0wLHJlc2l6YWJsZT0wLHN0YXR1cz0xLHdpZHRoPTUwMCxoZWlnaHQ9NDAwJykpbC5ocmVm
PXU7fTtpZigvRmlyZWZveC8udGVzdChuYXZpZ2F0b3IudXNlckFnZW50KSlzZXRUaW1lb3V0
KGEsMCk7ZWxzZSBhKCk7dm9pZCgwKSI7CgoKCgllY2hvIHN0YXJ0VGFibGUoJ2xpc3QnKS4K
CQl0cih0ZGEoJ0FkZCB0aGUgZm9sbG93aW5nIHRvIHlvdXIgYm9va21hcmtzIHRvIG1ha2Ug
YSBxdWljayBwb3N0JywgJyBzdHlsZT0idGV4dC1hbGlnbjpjZW50ZXIiJykpLgoJCXRyKHRk
YSgiPGEgaHJlZj1cIiRib29rbWFya2xldFwiIHRpdGxlPSdEcmFnIHRoaXMgbGluayB0byB5
b3VyIEJvb2ttYXJrcyBCYXIuIENsaWNrIHRvIGxlYXJuIG1vcmUuJz5TaGFyZSBvbiBUWFA8
L2E+IiwgJyBzdHlsZT0idGV4dC1hbGlnbjpjZW50ZXIiJykpLgoJCWVuZFRhYmxlKCk7Cn0K
CmZ1bmN0aW9uIGFzdl90dW1ibGVsb2dfcGFnZXN0eWxlKCRzdGVwKQp7CgoJZXh0cmFjdChk
b1NsYXNoKGdldF9hc3ZfdHVtYmxlbG9nX3ByZWZzKCkpKTsKCgkkbWVzc2FnZSA9ICcnOwoJ
aWYoZ3BzKCdhY3Rpb24nKT09J3NhdmUnICYmIGdwcygnc3R5bGUtbmFtZScpKQoJewoJCSRm
b3JtID0gZG9TbGFzaChiYXNlNjRfZW5jb2RlKGdwcygnZm9ybScpKSk7CgkJJHJzID0gc2Fm
ZV91cGRhdGUoInR4cF9jc3MiLCAiY3NzPSciLiRmb3JtIC4iJyIsICJuYW1lID0gJyIuZG9T
bGFzaChncHMoJ3N0eWxlLW5hbWUnKSkuIiciKTsKCQkkbWVzc2FnZSA9ICdTdHlsZSBzYXZl
ZCc7Cgl9CgoJcGFnZXRvcCgnVHVtYmxlbG9nJywgJG1lc3NhZ2UpOwoKCWVjaG8gYXN2X3R1
bWJsZWxvZ190aXRsZSgkc3RlcCk7CgoJJHJzID0gc2FmZV9yb3coImNzcyIsICd0eHBfc2Vj
dGlvbicsICJuYW1lID0gJyR0dW1ibGVsb2dzZWN0aW9uJyIpOwoJaWYoJHJzKQoJewoJCSRw
YWdlX3JzID0gc2FmZV9yb3coJyonLCAndHhwX2NzcycsICJuYW1lPSciLiRyc1snY3NzJ10u
IiciKTsKCQlpZigkcGFnZV9ycykKCQl7CgkJCWV4dHJhY3QoJHBhZ2VfcnMpOwoJCQkkdGhl
Y3NzID0gYmFzZTY0X2RlY29kZSgkY3NzKTsKCQl9Cgl9CgoKCWVjaG8gbi5zdGFydFRhYmxl
KCdsaXN0JywgJycsICcnLCAnJywgJycpLgoJCW4uJzxmb3JtIG5hbWU9InBvc3QtZm9ybSIg
bWV0aG9kPSJwb3N0IiBhY3Rpb249ImluZGV4LnBocCI+Jy4KCQluLmhJbnB1dCgnZXZlbnQn
LCAnYXN2X3R1bWJsZWxvZycpLgoJCW4uaElucHV0KCdzdGVwJywgJ3BhZ2Utc3R5bGUnKS4K
CQluLmhJbnB1dCgnYWN0aW9uJywgJ3NhdmUnKS4KCQluLmhJbnB1dCgnc3R5bGUtbmFtZScs
ICRuYW1lKS4KCQl0cih0ZGEoIkVkaXQgdGhlIHN0eWxlIHRoYXQgaGFuZGxlcyB0aGUgdHVt
YmxlbG9nIHNlY3Rpb24gPGI+Ii4kbmFtZS4iPC9iPi4iLCAnIHN0eWxlPSJ0ZXh0LWFsaWdu
OmNlbnRlciInKSkuCgkJdHIodGQodGV4dF9hcmVhKCdmb3JtJywgJzgwMCcsICc2MDAnLCAo
JHRoZWNzcyk/JHRoZWNzczonJykpKS4KCQl0cih0ZGEoZklucHV0KCdzdWJtaXQnLCdzYXZl
X3NldHRpbmdzJywnc2F2ZScsInB1Ymxpc2giLCAnJywgJycsICcnLCA0KSwgJyBzdHlsZT0i
dGV4dC1hbGlnbjpyaWdodCInKSkuJzwvZm9ybT4nLgoJZW5kVGFibGUoKTsKfQoKZnVuY3Rp
b24gYXN2X3R1bWJsZWxvZ19wYWdlZGVzaWduKCRzdGVwKQp7CgoJZXh0cmFjdChkb1NsYXNo
KGdldF9hc3ZfdHVtYmxlbG9nX3ByZWZzKCkpKTsKCgkkbWVzc2FnZSA9ICcnOwoJaWYoZ3Bz
KCdhY3Rpb24nKT09J3NhdmUnICYmIGdwcygncGFnZS1uYW1lJykpCgl7CgkJJHJzID0gc2Fm
ZV91cGRhdGUoInR4cF9wYWdlIiwgInVzZXJfaHRtbD0nIi5kb1NsYXNoKGdwcygnZm9ybScp
KS4iJyIsICJuYW1lID0gJyIuZG9TbGFzaChncHMoJ3BhZ2UtbmFtZScpKS4iJyIpOwoJCSRt
ZXNzYWdlID0gJ1BhZ2Ugc2F2ZWQnOwoJfQoKCXBhZ2V0b3AoJ1R1bWJsZWxvZycsICRtZXNz
YWdlKTsKCgllY2hvIGFzdl90dW1ibGVsb2dfdGl0bGUoJHN0ZXApOwoKCSRycyA9IHNhZmVf
cm93KCJwYWdlIiwgJ3R4cF9zZWN0aW9uJywgIm5hbWUgPSAnJHR1bWJsZWxvZ3NlY3Rpb24n
Iik7CglpZigkcnMpCgl7CgkJJHBhZ2VfcnMgPSBzYWZlX3JvdygnKicsICd0eHBfcGFnZScs
ICJuYW1lPSciLiRyc1sncGFnZSddLiInIik7CgkJaWYoJHBhZ2VfcnMpCgkJewoJCQlleHRy
YWN0KCRwYWdlX3JzKTsKCQl9Cgl9CgoKCWVjaG8gbi5zdGFydFRhYmxlKCdsaXN0JywgJycs
ICcnLCAnJywgJycpLgoJCW4uJzxmb3JtIG5hbWU9InBvc3QtZm9ybSIgbWV0aG9kPSJwb3N0
IiBhY3Rpb249ImluZGV4LnBocCI+Jy4KCQluLmhJbnB1dCgnZXZlbnQnLCAnYXN2X3R1bWJs
ZWxvZycpLgoJCW4uaElucHV0KCdzdGVwJywgJ3BhZ2UtZGVzaWduJykuCgkJbi5oSW5wdXQo
J2FjdGlvbicsICdzYXZlJykuCgkJbi5oSW5wdXQoJ3BhZ2UtbmFtZScsICRuYW1lKS4KCQl0
cih0ZGEoIkVkaXQgdGhlIHBhZ2UgdGhhdCBoYW5kbGVzIHRoZSB0dW1ibGVsb2cgc2VjdGlv
biA8Yj4iLiRuYW1lLiI8L2I+LiIsICcgc3R5bGU9InRleHQtYWxpZ246Y2VudGVyIicpKS4K
CQl0cih0ZCh0ZXh0X2FyZWEoJ2Zvcm0nLCAnODAwJywgJzYwMCcsICgkdXNlcl9odG1sKT8k
dXNlcl9odG1sOicnKSkpLgoJCXRyKHRkYShmSW5wdXQoJ3N1Ym1pdCcsJ3NhdmVfc2V0dGlu
Z3MnLCdzYXZlJywicHVibGlzaCIsICcnLCAnJywgJycsIDQpLCAnIHN0eWxlPSJ0ZXh0LWFs
aWduOnJpZ2h0IicpKS4nPC9mb3JtPicuCgllbmRUYWJsZSgpOwp9CmZ1bmN0aW9uIGFzdl90
dW1ibGVsb2dfZGVzaWduKCRzdGVwKQp7CgoJZXh0cmFjdChkb1NsYXNoKGdldF9hc3ZfdHVt
YmxlbG9nX3ByZWZzKCkpKTsKCgkkbWVzc2FnZSA9ICcnOwoKCWlmKGdwcygnYWN0aW9uJyk9
PSdzYXZlJykKCXsKCQkkcnMgPSBzYWZlX3VwZGF0ZSgidHhwX2Zvcm0iLCAiRm9ybT0nIi5k
b1NsYXNoKGdwcygnZm9ybScpKS4iJyIsICJuYW1lID0gJyIuZG9TbGFzaChncHMoJ2Zvcm0t
bmFtZScpKS4iJyBBTkQgdHlwZT0nYXJ0aWNsZSciKTsKCQlpZigkcnMpCgkJewoJCQkkbWVz
c2FnZSA9IGRvU2xhc2goZ3BzKCdmb3JtLW5hbWUnKSkuIiBzYXZlZC4iOwoJCX0KCQllbHNl
CgkJewoJCQkkbWVzc2FnZSA9ICJFcnJvciBzYXZpbmcgIi5kb1NsYXNoKGdwcygnZm9ybS1u
YW1lJykpOwoJCX0KCX0KCglwYWdldG9wKCdUdW1ibGVsb2cnLCAkbWVzc2FnZSk7CgoJZWNo
byBhc3ZfdHVtYmxlbG9nX3RpdGxlKCRzdGVwKTsKCgoJZWNobyBuLnN0YXJ0VGFibGUoJ2xp
c3QnLCAnJywgJycsICcnLCAnJykuCgkJdHIodGRhKCJCZWxvdyBpcyBhIGxpc3Qgb2YgYWxs
IHRoZSBmb3JtcyB5b3UncmUgdXNpbmcgZm9yIHlvdXIgZmVlZHMgYW5kIHRoZSBmb3JtcyA8
YnIgLz5zZXQgYXMgZGVmYXVsdHMgZm9yIHlvdXIgdHVtYmxlcy4iLCAnIHN0eWxlPSJ0ZXh0
LWFsaWduOmNlbnRlciInKSk7CgoJJG1vcmVfZm9ybXMgPSBhcnJheSgkcG9zdGZvcm0sICRw
aG90b2Zvcm0sICRxdW90ZWZvcm0sICRsaW5rZm9ybSk7CgoJJHJzID0gc2FmZV9yb3dzX3N0
YXJ0KCdESVNUSU5DVCBUeXBlJywgJ2Fzdl90dW1ibGVsb2dfZmVlZHMnLCAnMT0xIE9SREVS
IEJZIFR5cGUgQVNDJyk7CglpZiAoJHJzKSB7CgkJd2hpbGUgKCRhID0gbmV4dFJvdygkcnMp
KSB7CgkJCSRmb3JtZGF0YSA9IHNhZmVfcm93KCIqIiwgJ3R4cF9mb3JtJywgIm5hbWUgPSAn
Ii4kYVsnVHlwZSddLiInIEFORCB0eXBlPSdhcnRpY2xlJyIpOwoJCQlpZigkZm9ybWRhdGEp
CgkJCXsKCQkJCWlmKGluX2FycmF5KCRhWydUeXBlJ10sICRtb3JlX2Zvcm1zKSkKCQkJCXsK
CQkJCQl1bnNldCgkbW9yZV9mb3Jtc1thcnJheV9zZWFyY2goJGFbJ1R5cGUnXSwgJG1vcmVf
Zm9ybXMpXSk7CgkJCQl9CgkJCQllY2hvIG4uJzxmb3JtIG5hbWU9InBvc3QtZm9ybSIgbWV0
aG9kPSJwb3N0IiBhY3Rpb249ImluZGV4LnBocCI+Jy4KCQkJCQluLmhJbnB1dCgnZXZlbnQn
LCAnYXN2X3R1bWJsZWxvZycpLgoJCQkJCW4uaElucHV0KCdzdGVwJywgJ0Rlc2lnbicpLgoJ
CQkJCW4uaElucHV0KCdhY3Rpb24nLCAnc2F2ZScpLgoJCQkJCW4uaElucHV0KCdmb3JtLW5h
bWUnLCAkZm9ybWRhdGFbJ25hbWUnXSkuCgkJCQkJdHIodGRhKCI8Yj4iLiRmb3JtZGF0YVsn
bmFtZSddLiI8L2I+IiwgJyBzdHlsZT0idGV4dC1hbGlnbjpjZW50ZXIiJykpLgoJCQkJCXRy
KHRkKHRleHRfYXJlYSgnZm9ybScsICcxNTAnLCAnNTAwJywgJGZvcm1kYXRhWydGb3JtJ10p
KSkuCgkJCQkJdHIodGRhKGZJbnB1dCgnc3VibWl0Jywnc2F2ZV9zZXR0aW5ncycsJ3NhdmUn
LCJwdWJsaXNoIiwgJycsICcnLCAnJywgNCksICcgc3R5bGU9InRleHQtYWxpZ246cmlnaHQi
JykpLic8L2Zvcm0+JzsKCQkJfQoJCX0KCX0KCglmb3JlYWNoKCRtb3JlX2Zvcm1zIGFzICRz
aW5nbGUpCgl7CgkJJGZvcm1kYXRhID0gc2FmZV9yb3coIioiLCAndHhwX2Zvcm0nLCAibmFt
ZSA9ICciLiRzaW5nbGUuIicgQU5EIHR5cGU9J2FydGljbGUnIik7CgkJCWlmKCRmb3JtZGF0
YSkKCQkJewoJCQkJZWNobyBuLic8Zm9ybSBuYW1lPSJwb3N0LWZvcm0iIG1ldGhvZD0icG9z
dCIgYWN0aW9uPSJpbmRleC5waHAiPicuCgkJCQkJbi5oSW5wdXQoJ2V2ZW50JywgJ2Fzdl90
dW1ibGVsb2cnKS4KCQkJCQluLmhJbnB1dCgnc3RlcCcsICdEZXNpZ24nKS4KCQkJCQluLmhJ
bnB1dCgnYWN0aW9uJywgJ3NhdmUnKS4KCQkJCQluLmhJbnB1dCgnZm9ybS1uYW1lJywgJGZv
cm1kYXRhWyduYW1lJ10pLgoJCQkJCXRyKHRkYSgiPGI+Ii4kZm9ybWRhdGFbJ25hbWUnXS4i
PC9iPiIsICcgc3R5bGU9InRleHQtYWxpZ246Y2VudGVyIicpKS4KCQkJCQl0cih0ZCh0ZXh0
X2FyZWEoJ2Zvcm0nLCAnMTUwJywgJzUwMCcsICRmb3JtZGF0YVsnRm9ybSddKSkpLgoJCQkJ
CXRyKHRkYShmSW5wdXQoJ3N1Ym1pdCcsJ3NhdmVfc2V0dGluZ3MnLCdzYXZlJywicHVibGlz
aCIsICcnLCAnJywgJycsIDQpLCAnIHN0eWxlPSJ0ZXh0LWFsaWduOnJpZ2h0IicpKS4nPC9m
b3JtPic7CgkJCX0KCX0KCgllY2hvIGVuZFRhYmxlKCk7Cn0KCmZ1bmN0aW9uIGFzdl90dW1i
bGVsb2dfZmVlZHMoJHN0ZXApCnsKCWFzdl90dW1ibGVsb2dfdmVyaWZ5VGFibGUoKTsKCgkk
dHlwZXMgPSBhcnJheSgncG9zdCc9Pidwb3N0JywgJ3F1b3RlJz0+J3F1b3RlJywgJ3Bob3Rv
Jz0+J3Bob3RvJywgJ2xpbmsnPT4nbGluaycpOwoKCSRtZXNzYWdlID0gJyc7CgoJZXh0cmFj
dChkb1NsYXNoKGxBdHRzKGFycmF5KAoJCSdyc3NwYXRoJyA9PiAnJywKCQkndHlwZScJPT4g
JycsCgkJJ2NvbW1lbnRzJyA9PiAnJywKCQknY2F0ZWdvcnkxJyA9PicnLAoJCSdjYXRlZ29y
eTInID0+ICcnLAoJCSdrZXl3b3JkcycJPT4nJywKCQknSUQnID0+JycsCgkJJ2ltYWdlJyA9
PicnLAoJCSdmYXZpY29uJyA9PiAnJywKCQkpLAoJCWdwc2EoYXJyYXkoCgkJCSdyc3NwYXRo
JywKCQkJJ3R5cGUnLAoJCQknY29tbWVudHMnLAoJCQknY2F0ZWdvcnkxJywKCQkJJ2NhdGVn
b3J5MicsCgkJCSdpbWFnZScsCgkJCSdrZXl3b3JkcycsCgkJCSdJRCcsCgkJCSdmYXZpY29u
JywKCQkJKSkpKSk7CgoJZXh0cmFjdChnZXRfYXN2X3R1bWJsZWxvZ19wcmVmcygpKTsKCglp
ZihncHMoJ3NhdmVfZmVlZHMnKSkKCXsKCQlpZigkdHlwZSkKCQl7CgkJCWxpc3QoJHRpdGxl
LCAkZmF2aWNvbiwgJHVybCkgPSBhc3ZfdHVtYmxlbG9nX3ZlcmlmeUZlZWQoJHJzc3BhdGgs
ICRzaW1wbGVwaWUpOwoKCQkJaWYoJHRpdGxlKQoJCQl7CgkJCQkkdGl0bGUgPSBkb1NsYXNo
KCR0aXRsZSk7CgoJCQkJaWYoJElEKQoJCQkJewoJCQkJCXNhZmVfdXBkYXRlKCdhc3ZfdHVt
YmxlbG9nX2ZlZWRzJywKCQkJCQkJIkZlZWQgPSAnJHJzc3BhdGgnLAoJCQkJCQlUaXRsZSA9
ICckdGl0bGUnLAoJCQkJCQlUeXBlID0gJyR0eXBlJywKCQkJCQkJVVJMID0gJyR1cmwnLAoJ
CQkJCQlJbWFnZSA9ICckaW1hZ2UnLAoJCQkJCQlGYXZpY29uID0gJyRmYXZpY29uJywKCQkJ
CQkJQ2F0ZWdvcnkxID0gJyRjYXRlZ29yeTEnLAoJCQkJCQlDYXRlZ29yeTIgPSAnJGNhdGVn
b3J5MicsCgkJCQkJCUtleXdvcmRzID0gJyRrZXl3b3JkcycsCgkJCQkJCUFubm90YXRlID0g
JyRjb21tZW50cyciLAoJCQkJCQkiSUQgPSAkSUQiCgkJCQkJCSk7CgkJCQl9CgkJCQllbHNl
CgkJCQl7CgkJCQkJc2FmZV9pbnNlcnQoJ2Fzdl90dW1ibGVsb2dfZmVlZHMnLAoJCQkJCQki
RmVlZCA9ICckcnNzcGF0aCcsCgkJCQkJCVRpdGxlID0gJyR0aXRsZScsCgkJCQkJCVR5cGUg
PSAnJHR5cGUnLAoJCQkJCQlJbWFnZSA9ICckaW1hZ2UnLAoJCQkJCQlVUkwgPSAnJHVybCcs
CgkJCQkJCUZhdmljb24gPSAnJGZhdmljb24nLAoJCQkJCQlDYXRlZ29yeTEgPSAnJGNhdGVn
b3J5MScsCgkJCQkJCUNhdGVnb3J5MiA9ICckY2F0ZWdvcnkyJywKCQkJCQkJS2V5d29yZHMg
PSAnJGtleXdvcmRzJywKCQkJCQkJQW5ub3RhdGUgPSAnJGNvbW1lbnRzJyIKCQkJCQkJKTsK
CQkJCX0KCQkJCWV4dHJhY3QoYXJyYXkoCgkJCQkJJ3Jzc3BhdGgnID0+ICcnLAoJCQkJCSd0
eXBlJwk9PiAnJywKCQkJCQknY29tbWVudHMnID0+ICcnLAoJCQkJCSdjYXRlZ29yeTEnID0+
JycsCgkJCQkJJ2NhdGVnb3J5MicgPT4gJycsCgkJCQkJJ2tleXdvcmRzJwk9PicnLAoJCQkJ
CSdJRCcgPT4nJywKCQkJCQknaW1hZ2UnID0+JycsCgkJCQkJJ2Zhdmljb24nID0+ICcnLAoJ
CQkJCSkpOwoJCQl9CgkJCWVsc2UKCQkJewoJCQkJJG1lc3NhZ2UgPSAiTm90IGEgdmFsaWQg
ZmVlZC4iOwoJCQl9CgkJfQoJCWVsc2UKCQl7CgkJCSRtZXNzYWdlID0gIlR5cGUgaXMgcmVx
dWlyZWQuICAtICR0eXBlIC0iOwoJCX0KCX0KCWlmKGdwcygnYWN0aW9uJyk9PSdkZWxldGUn
KQoJewoJCSRzZWxlY3RlZCA9IHBzKCdzZWxlY3RlZCcpOwoJCWlmICgkc2VsZWN0ZWQpCgkJ
ewoJCQkkaWRzID0gYXJyYXkoKTsKCQkJZm9yZWFjaCAoJHNlbGVjdGVkIGFzICRpZCkKCQkJ
ewoJCQkJJGlkID0gYXNzZXJ0X2ludCgkaWQpOwoJCQkJaWYgKHNhZmVfZGVsZXRlKCdhc3Zf
dHVtYmxlbG9nX2ZlZWRzJywgIklEID0gJGlkIikpCgkJCQl7CgkJCQkJJGlkc1tdID0gJGlk
OwoJCQkJfQoJCQl9CgkJCSRjaGFuZ2VkID0gam9pbignLCAnLCAkaWRzKTsKCQkJJG1lc3Nh
Z2UgPSAiUmVtb3ZlZCAkY2hhbmdlZCI7CgkJfQoJfQoKCXBhZ2V0b3AoJ1R1bWJsZWxvZycs
ICRtZXNzYWdlKTsKCgllY2hvIG4ubi4nPGZvcm0gbmFtZT0idHVtYmxlbG9nLWFkbWluIiBt
ZXRob2Q9InBvc3QiIGFjdGlvbj0iaW5kZXgucGhwP2V2ZW50PWFzdl90dW1ibGVsb2cmc3Rl
cD1GZWVkcyI+Jy4KCWhJbnB1dCgnc3RlcCcsICdGZWVkcycpLgoJaElucHV0KCdJRCcsICRJ
RCk7CgoJZWNobyBhc3ZfdHVtYmxlbG9nX3RpdGxlKCRzdGVwKS4KCgkJdGFnKCc8YSBocmVm
PSJpbmRleC5waHA/ZXZlbnQ9YXN2X3R1bWJsZWxvZyZzdGVwPUZlZWRzIj5BZGQgTmV3IEZl
ZWQ8L2E+JyAsJ2gzJywgJyBzdHlsZT0idGV4dC1hbGlnbjogY2VudGVyOyInKS4KCgkJc3Rh
cnRUYWJsZSgnbGlzdCcpLgoKCQkJdHIodGQoJ0F0b20vUlNTIFBhdGgnKS50ZChmSW5wdXQo
J3RleHQnLCAncnNzcGF0aCcsICRyc3NwYXRoKSkpLgoKCQkJdHIodGQoJ0ltcG9ydCBJbWFn
ZXMnKS50ZChyYWRpbygnaW1hZ2UnLCAnMCcpLidubyAnLnJhZGlvKCdpbWFnZScsICcxJywg
ZmFsc2UpLid1cmwgJy5yYWRpbygnaW1hZ2UnLCAnMicsIGZhbHNlKS4naW1hZ2UnKSkuCgoJ
CQl0cih0ZCgnRm9ybScpLnRkKGFzdl9mb3JtX3BvcHVwKCR0eXBlLCAndHlwZScpKSkuCgoJ
CQl0cih0ZCgnQ29tbWVudHMnKS50ZChvbm9mZlJhZGlvKCdjb21tZW50cycsICgkY29tbWVu
dHMgPT0gJzAnKT8gJGNvbW1lbnRzIDogIjEiKSkpLgoKCQkJdHIodGQoJ0NhdGVnb3J5MScp
LnRkKGFzdl9jYXRfcG9wdXAoJGNhdGVnb3J5MSwgJ2NhdGVnb3J5MScpKSkuCgoJCQl0cih0
ZCgnQ2F0ZWdvcnkyJykudGQoYXN2X2NhdF9wb3B1cCgkY2F0ZWdvcnkyLCAnY2F0ZWdvcnky
JykpKS4KCgkJCXRyKHRkKCdLZXl3b3JkcycpLnRkKGZJbnB1dCgndGV4dCcsICdrZXl3b3Jk
cycsICRrZXl3b3JkcykpKS4KCgkJCXRyKHRkYShmSW5wdXQoJ3N1Ym1pdCcsJ3NhdmVfZmVl
ZHMnLCAoJElEKT8nc2F2ZSc6J2FkZCcsInB1Ymxpc2giLCAnJywgJycsICcnLCA0KSwgJyBj
b2xzcGFuPTInKSkuCgoJCWVuZFRhYmxlKCkuJzwvZm9ybT4nOwoJZWNobyB0YWcoIkN1cnJl
bnQgRmVlZHMiLCAiaDMiLCAnIHN0eWxlPSJ0ZXh0LWFsaWduOmNlbnRlciInKS4KCQknPGZv
cm0gbmFtZT0ibG9uZ2Zvcm0iIG1ldGhvZD0icG9zdCIgYWN0aW9uPSJpbmRleC5waHA/ZXZl
bnQ9YXN2X3R1bWJsZWxvZyZzdGVwPUZlZWRzIj4nLgoJCWhJbnB1dCgnZXZlbnQnLCAnYXN2
X3R1bWJsZWxvZycpLgoJCWhJbnB1dCgnc3RlcCcsICdGZWVkcycpLgoJCWhJbnB1dCgnYWN0
aW9uJywgJ2RlbGV0ZScpLgoKCQluLnN0YXJ0VGFibGUoJ2xpc3QnLCAnJywgJycsICcnLCAn
OTAlJykuCgkJbi50cigKCQkJbi5jb2x1bW5faGVhZCgnSUQnLCAnaWQnLCAnYXN2X3R1bWJs
ZWxvZycsIGZhbHNlLCAnJywgJycsICcnKS4KCQkJbi5jb2x1bW5faGVhZCgnRmF2aWNvbics
ICdmYXZpY29uJywgJ2Fzdl90dW1ibGVsb2cnLCBmYWxzZSwgJycsICcnLCAnJykuCgkJCW4u
Y29sdW1uX2hlYWQoJ1RpdGxlJywgJ3RpdGxlJywgJ2Fzdl90dW1ibGVsb2cnLCBmYWxzZSwg
JycsICcnLCAnJykuCgkJCW4uY29sdW1uX2hlYWQoJ1VSTCcsICd1cmwnLCAnYXN2X3R1bWJs
ZWxvZycsIGZhbHNlLCAnJywgJycsICcnKS4KCQkJbi5jb2x1bW5faGVhZCgnRmVlZCcsICdm
ZWVkJywgJ2Fzdl90dW1ibGVsb2cnLCBmYWxzZSwgJycsICcnLCAnJykuCgkJCW4uY29sdW1u
X2hlYWQoJ0ltYWdlJywgJ2ltYWdlJywgJ2Fzdl90dW1ibGVsb2cnLCBmYWxzZSwgJycsICcn
LCAnJykuCgkJCW4uY29sdW1uX2hlYWQoJ0Zvcm0nLCAndHlwZScsICdhc3ZfdHVtYmxlbG9n
JywgZmFsc2UsICcnLCAnJywgJycpLgoJCQluLmNvbHVtbl9oZWFkKCdDb21tZW50cycsICdj
b21tZW50cycsICdhc3ZfdHVtYmxlbG9nJywgZmFsc2UsICcnLCAnJywgJycpLgoJCQluLmNv
bHVtbl9oZWFkKCdDYXRlZ29yeTEnLCAnY2F0ZWdvcnkxJywgJ2Fzdl90dW1ibGVsb2cnLCBm
YWxzZSwgJycsICcnLCAnJykuCgkJCW4uY29sdW1uX2hlYWQoJ0NhdGVnb3J5MicsICdjYXRl
Z29yeTEnLCAnYXN2X3R1bWJsZWxvZycsIGZhbHNlLCAnJywgJycsICcnKS4KCQkJbi5jb2x1
bW5faGVhZCgnS2V5d29yZHMnLCAnS2V5d29yZHMnLCAnYXN2X3R1bWJsZWxvZycsIGZhbHNl
LCAnJywgJycsICcnKS4KCQkJaENlbGwoKQoJCSk7CgkkcnMgPSBzYWZlX3Jvd3Nfc3RhcnQo
IioiLCAiYXN2X3R1bWJsZWxvZ19mZWVkcyIsICIxPTEiKTsKCWlmKCRycykKCXsKCQl3aGls
ZSgkYSA9IG5leHRSb3coJHJzKSkKCQl7CgkJCWV4dHJhY3QoJGEpOwoJCQkkbGluayA9ICI8
YSBocmVmPVwiaW5kZXgucGhwP2V2ZW50PWFzdl90dW1ibGVsb2cmc3RlcD1GZWVkcyZyc3Nw
YXRoPSIudXJsZW5jb2RlKCRGZWVkKS4iJnR5cGU9Ii4kVHlwZS4iJmNvbW1lbnRzPSIuJGFb
J0Fubm90YXRlJ10uIiZjYXRlZ29yeTE9JENhdGVnb3J5MSZjYXRlZ29yeTI9JENhdGVnb3J5
MiZrZXl3b3Jkcz0kS2V5d29yZHMmSUQ9JElEXCI+JFRpdGxlPC9hPiI7CgoJCQlzd2l0Y2go
JEltYWdlKQoJCQl7CgkJCQljYXNlICcwJzoKCQkJCQkkdHJhbnNsYXRlSW1hZ2UgPSAibm8i
OwoJCQkJCWJyZWFrOwoJCQkJY2FzZSAnMSc6CgkJCQkJJHRyYW5zbGF0ZUltYWdlID0gInVy
bCI7CgkJCQkJYnJlYWs7CgkJCQljYXNlICcyJzoKCQkJCQkkdHJhbnNsYXRlSW1hZ2UgPSAi
aW1hZ2UiOwoJCQkJCWJyZWFrOwoJCQl9CgoJCQllY2hvIG4udHIoCgkJCQl0ZCgkSUQpLgoJ
CQkJdGQoKCRGYXZpY29uKT8gIjxpbWcgc3JjPSckRmF2aWNvbicgLz4iOicnKS4KCQkJCXRk
KCRsaW5rKS4KCQkJCXRkKCRVUkwpLgoJCQkJdGQoc3Vic3RyKCRGZWVkLDAsMjUpLicuLi4n
KS4KCQkJCXRkKCR0cmFuc2xhdGVJbWFnZSkuCgkJCQl0ZCgkVHlwZSkuCgkJCQl0ZCgoJEFu
bm90YXRlKT8ib24iOiJvZmYiKS4KCQkJCXRkKCRDYXRlZ29yeTEpLgoJCQkJdGQoJENhdGVn
b3J5MikuCgkJCQl0ZCgkS2V5d29yZHMpLgoJCQkJdGQoZklucHV0KCdjaGVja2JveCcsICdz
ZWxlY3RlZFtdJywgJElEKSkpOwoKCQl9CgkJZWNobyBuLnRyKAoJCQkJdGRhKCBzZWxlY3Rf
YnV0dG9ucygpLgogYXN2X3R1bWJsZWxvZ19saXN0X211bHRpZWRpdF9mb3JtKCksJyBjb2xz
cGFuPSI5IiBzdHlsZT0idGV4dC1hbGlnbjogcmlnaHQ7IGJvcmRlcjogbm9uZTsiJykpOwoJ
fQoJCWVjaG8gbi5lbmRUYWJsZSgpLic8L2Zvcm0+JzsKfQoKZnVuY3Rpb24gYXN2X3R1bWJs
ZWxvZ19zZXR0aW5ncygkc3RlcCkKewoJZ2xvYmFsICRwcmVmczsKCglpZihncHMoJ3NhdmVf
c2V0dGluZ3MnKSkKCXsKCQlleHRyYWN0KGdwc2EoYXJyYXkoJ2ZlZWRfaWRfZmllbGQnLCAn
c291cmNlbGluaycsICd0dW1ibGVsb2dzZWN0aW9uJywgJ3NpbXBsZXBpZScsICdsaW5rZm9y
bScsICdwb3N0Zm9ybScsICdxdW90ZWZvcm0nLCAncGhvdG9mb3JtJykpKTsKCgkJKCRzb3Vy
Y2VsaW5rKT8gc2V0X3ByZWYoJ3NvdXJjZWxpbmsnLCAkc291cmNlbGluaywgJ2Fzdl90dW1i
bGVsb2cnLCAnJyk6Jyc7CgoJCSgkdHVtYmxlbG9nc2VjdGlvbik/IHNldF9wcmVmKCd0dW1i
bGVsb2dzZWN0aW9uJywgJHR1bWJsZWxvZ3NlY3Rpb24sICdhc3ZfdHVtYmxlbG9nJywgJycp
OicnOwoKCQkoJGZlZWRfaWRfZmllbGQpPyBzZXRfcHJlZignZmVlZF9pZF9maWVsZCcsICRm
ZWVkX2lkX2ZpZWxkLCAnYXN2X3R1bWJsZWxvZycsICcnKTonJzsKCgkJKCRzaW1wbGVwaWUp
PyBzZXRfcHJlZignc2ltcGxlcGllJywgJHNpbXBsZXBpZSwgJ2Fzdl90dW1ibGVsb2cnLCAn
Jyk6Jyc7CgoJCSgkcG9zdGZvcm0pPyBzZXRfcHJlZigncG9zdGZvcm0nLCAkcG9zdGZvcm0s
ICdhc3ZfdHVtYmxlbG9nJywgJycpOicnOwoKCQkoJHF1b3RlZm9ybSk/IHNldF9wcmVmKCdx
dW90ZWZvcm0nLCAkcXVvdGVmb3JtLCAnYXN2X3R1bWJsZWxvZycsICcnKTonJzsKCgkJKCRw
aG90b2Zvcm0pPyBzZXRfcHJlZigncGhvdG9mb3JtJywgJHBob3RvZm9ybSwgJ2Fzdl90dW1i
bGVsb2cnLCAnJyk6Jyc7CgoJCSgkbGlua2Zvcm0pPyBzZXRfcHJlZignbGlua2Zvcm0nLCAk
bGlua2Zvcm0sICdhc3ZfdHVtYmxlbG9nJywgJycpOicnOwoKCX0KCglwYWdldG9wKCdUdW1i
bGVsb2cnLCAoZ3BzKCdzYXZlJykpPyAnU2V0dGluZ3Mgc2F2ZWQnOicnKTsKCglleHRyYWN0
KGdldF9hc3ZfdHVtYmxlbG9nX3ByZWZzKCkpOwoKCWVjaG8gbi5uLic8Zm9ybSBuYW1lPSJ0
dW1ibGVsb2ctYWRtaW4iIG1ldGhvZD0icG9zdCIgYWN0aW9uPSJpbmRleC5waHA/ZXZlbnQ9
YXN2X3R1bWJsZWxvZyI+JzsKCgllY2hvIGFzdl90dW1ibGVsb2dfdGl0bGUoJHN0ZXApLgoK
CQl0YWcoJ0dlbmVyYWwgU2V0dGluZ3MnICwnaDMnLCAnIHN0eWxlPSJ0ZXh0LWFsaWduOiBj
ZW50ZXI7IicpLgoKCQlzdGFydFRhYmxlKCdsaXN0JykuCgoJCQl0cih0ZCgnVHVtYmxlbG9n
IFNlY3Rpb24nKS50ZChhc3Zfc2VjdGlvbl9wb3B1cCgkdHVtYmxlbG9nc2VjdGlvbiwKCQkJ
J3R1bWJsZWxvZ3NlY3Rpb24nKSkpLgoKCQkJdHIodGQoJ1NvdXJjZSBMaW5rIEZpZWxkJyku
dGQoYXN2X2N1c3RvbV9wb3B1cCgkc291cmNlbGluaywgJ3NvdXJjZWxpbmsnKSkpLgoKCQkJ
dHIodGQoJ0ZlZWQgSUQgRmllbGQnKS50ZChhc3ZfY3VzdG9tX3BvcHVwKCRmZWVkX2lkX2Zp
ZWxkLCAnZmVlZF9pZF9maWVsZCcpKSkuCgoJCQl0cih0ZCgnU2ltcGxlUGllIFBhdGgnKS50
ZChmSW5wdXQoJ3RleHQnLCAnc2ltcGxlcGllJywgJHNpbXBsZXBpZSkpKS4KCgkJZW5kVGFi
bGUoKS4KCgkJdGFnKCcgJywgJ3AnKS4KCgkJdGFnKCdGb3JtcycgLCdoMycsICcgc3R5bGU9
InRleHQtYWxpZ246IGNlbnRlcjsiJykuCgoJCXN0YXJ0VGFibGUoJ2xpc3QnKS4KCgkJCXRy
KHRkKCdQb3N0IEZvcm0nKS50ZChhc3ZfZm9ybV9wb3B1cCgkcG9zdGZvcm0sICdwb3N0Zm9y
bScpKSkuCgoJCQl0cih0ZCgnUXVvdGUgRm9ybScpLnRkKGFzdl9mb3JtX3BvcHVwKCRxdW90
ZWZvcm0sICdxdW90ZWZvcm0nKSkpLgoKCQkJdHIodGQoJ1Bob3RvIEZvcm0nKS50ZChhc3Zf
Zm9ybV9wb3B1cCgkcGhvdG9mb3JtLCAncGhvdG9mb3JtJykpKS4KCgkJCXRyKHRkKCdMaW5r
IEZvcm0nKS50ZChhc3ZfZm9ybV9wb3B1cCgkbGlua2Zvcm0sICdsaW5rZm9ybScpKSkuCgoJ
CQl0cih0ZGEoZklucHV0KCdzdWJtaXQnLCdzYXZlX3NldHRpbmdzJywnc2F2ZScsInB1Ymxp
c2giLCAnJywgJycsICcnLCA0KSwgJyBjb2xzcGFuPTInKSkuCgoJCWVuZFRhYmxlKCk7CgoJ
ZWNobyBuLm4uJzwvZm9ybT4nLgoJJzxoMyBzdHlsZT0idGV4dC1hbGlnbjpjZW50ZXIiPjxh
IGhyZWY9Imh0dHA6Ly8nLiRwcmVmc1snc2l0ZXVybCddLicvP2Fzdl90dW1ibGVsb2dfdXBk
YXRlZmVlZHM9MSI+bWFudWFsbHkgdXBkYXRlIGZlZWRzPC9hPjwvaDM+JzsKfQoKaWYoZ3Bz
KCdhc3ZfdHVtYmxlbG9nX3VwZGF0ZWZlZWRzJyk9PTEpCnsKCglleHRyYWN0KGdldF9hc3Zf
dHVtYmxlbG9nX3ByZWZzKCkpOwoJJHJzID0gc2FmZV9yb3dzX3N0YXJ0KCIqIiwgImFzdl90
dW1ibGVsb2dfZmVlZHMiLCAiMT0xIik7CgllY2hvICc8cHJlPic7CglpZigkcnMpCgl7CgkJ
d2hpbGUoJGEgPSBuZXh0Um93KCRycykpCgkJewoJCQlleHRyYWN0KCRhKTsKCQkJc3dpdGNo
KCRUeXBlKQoJCQl7CgkJCQljYXNlICJwb3N0IjoKCQkJCQkkZm9ybSA9ICRwb3N0Zm9ybTsK
CQkJCQlicmVhazsKCQkJCWNhc2UgInF1b3RlIjoKCQkJCQkkZm9ybSA9ICRxdW90ZWZvcm07
CgkJCQkJYnJlYWs7CgkJCQljYXNlICJwaG90byI6CgkJCQkJJGZvcm0gPSAkcGhvdG9mb3Jt
OwoJCQkJCWJyZWFrOwoJCQkJY2FzZSAibGluayI6CgkJCQkJJGZvcm0gPSAkbGlua2Zvcm07
CgkJCQkJYnJlYWs7CgkJCX0KCQkJZWNobyBhc3ZfcnNzZ3JhYihhcnJheSgKCQkJCSdmZWVk
Jwk9PiAkRmVlZCwKCQkJCSdzaW1wbGVwaWUnID0+ICRzaW1wbGVwaWUsCgkJCQkndHlwZScJ
PT4gJFR5cGUsCgkJCQknY2F0ZWdvcnkxJwk9PiAkQ2F0ZWdvcnkxLAoJCQkJJ2NhdGVnb3J5
MicgPT4gJENhdGVnb3J5MiwKCQkJCSdzZWN0aW9uJwk9PiAkdHVtYmxlbG9nc2VjdGlvbiwK
CQkJCSdmb3JtJwkJPT4gJFR5cGUsCgkJCQknbGlua2ZpZWxkJwk9PiAkc291cmNlbGluaywK
CQkJCSdwdWJkYXRlJyA9PiAnJywKCQkJCSdjb21tZW50cycJPT4gJEFubm90YXRlLAoJCQkJ
J2tleXdvcmRzJwk9PiAkS2V5d29yZHMsCgkJCQknZmVlZF9pZF9maWVsZCcJPT4gJGZlZWRf
aWRfZmllbGQsCgkJCQknZmVlZF9pZCcgPT4gJElECgkJCQkpKTsKCQl9Cgl9CgllY2hvICc8
L3ByZT4nOwoJZXhpdCgpOwoKfQoKZnVuY3Rpb24gYXN2X3R1bWJsZWxvZ19mYXZpY29uKCRh
dHRzLCAkdGhpbmcpCnsKCWdsb2JhbCAkdGhpc2FydGljbGU7CgoJZXh0cmFjdChnZXRfYXN2
X3R1bWJsZWxvZ19wcmVmcygpKTsKCgkkdXJsID0gZmV0Y2goJ0Zhdmljb24nLCAnYXN2X3R1
bWJsZWxvZ19mZWVkcycsICdJRCcsICR0aGlzYXJ0aWNsZVskZmVlZF9pZF9maWVsZF0pOwoK
CWlmKCR1cmwpCgkJcmV0dXJuICR1cmw7CgoJcmV0dXJuICcnOwp9CgpmdW5jdGlvbiBhc3Zf
dHVtYmxlbG9nX2ZlZWQoJGF0dHMsICR0aGluZykKewoJZ2xvYmFsICR0aGlzYXJ0aWNsZTsK
CglleHRyYWN0KGdldF9hc3ZfdHVtYmxlbG9nX3ByZWZzKCkpOwoKCSR1cmwgPSBmZXRjaCgn
VGl0bGUnLCAnYXN2X3R1bWJsZWxvZ19mZWVkcycsICdJRCcsICR0aGlzYXJ0aWNsZVskZmVl
ZF9pZF9maWVsZF0pOwoKCWlmKCR1cmwpCgkJcmV0dXJuICR1cmw7CgoJcmV0dXJuICcnOwp9
CgpmdW5jdGlvbiBhc3ZfdHVtYmxlbG9nX2ZlZWR1cmwoJGF0dHMsICR0aGluZykKewoJZ2xv
YmFsICR0aGlzYXJ0aWNsZTsKCglleHRyYWN0KGdldF9hc3ZfdHVtYmxlbG9nX3ByZWZzKCkp
OwoKCSR1cmwgPSBmZXRjaCgnRmVlZCcsICdhc3ZfdHVtYmxlbG9nX2ZlZWRzJywgJ0lEJywg
JHRoaXNhcnRpY2xlWyRmZWVkX2lkX2ZpZWxkXSk7CgoJaWYoJHVybCkKCQlyZXR1cm4gJHVy
bDsKCglyZXR1cm4gJyc7Cn0KCmZ1bmN0aW9uIGFzdl90dW1ibGVsb2dfcGVybWFsaW5rbCgk
YXR0cywgJHRoaW5nKQp7CglnbG9iYWwgJHRoaXNhcnRpY2xlOwoKCWV4dHJhY3QoZ2V0X2Fz
dl90dW1ibGVsb2dfcHJlZnMoKSk7CgoJJHVybCA9IGZldGNoKCdVUkwnLCAnYXN2X3R1bWJs
ZWxvZ19mZWVkcycsICdJRCcsICR0aGlzYXJ0aWNsZVskZmVlZF9pZF9maWVsZF0pOwoKCWlm
KCR1cmwpCgkJcmV0dXJuICR1cmw7CgoJcmV0dXJuICcnOwp9CgpmdW5jdGlvbiBhc3ZfcnNz
Z3JhYigkYXR0cykKewoJZ2xvYmFsICRwcmVmcywgJHR4cGNmZywgJHR4cF91c2VyOwoJZXh0
cmFjdCgkcHJlZnMpOwoKCWV4dHJhY3QobEF0dHMoYXJyYXkoCgkJCSdmZWVkJyAgICAgICA9
PiAnJywKCQkJJ3NpbXBsZXBpZScgID0+ICR0eHBjZmdbJ3R4cGF0aCddLicvbGliL3NpbXBs
ZXBpZS5pbmMnLAoJCQkndHlwZScJCT0+ICdzaW1wbGUnLAoJCQknY2F0ZWdvcnkxJwk9PiAn
JywKCQkJJ2NhdGVnb3J5MicgPT4gJycsCgkJCSdzZWN0aW9uJwk9PiAnZGVmYXVsdCcsCgkJ
CSdmb3JtJwkJPT4gJycsCgkJCSdsaW5rZmllbGQnCT0+ICdjdXN0b21fMScsCgkJCSdwdWJk
YXRlJyA9PiAnJywKCQkJJ2NvbW1lbnRzJwk9PiAnb24nLAoJCQkna2V5d29yZHMnCT0+ICcn
LAoJCQknZmVlZF9pZF9maWVsZCcgPT4gJycsCgkJCSdmZWVkX2lkJyA9PicnCgkJCSksJGF0
dHMpKTsKCgkkbWVzc2FnZSA9ICcnOwoKCS8vR2V0IFNpbXBsZVBpZQoJcmVxdWlyZV9vbmNl
KCRzaW1wbGVwaWUpOwoKCS8vQ3JlYXRlIGFuZCBzZXR1cCBTaW1wbGVQaWUgSW5zdGFuY2UK
CSR0aGVmZWVkID0gbmV3IFNpbXBsZVBpZSgpOwoJJHRoZWZlZWQtPnNldF9mZWVkX3VybCgk
ZmVlZCk7CgkkdGhlZmVlZC0+c2V0X2Zhdmljb25faGFuZGxlcignLi9wbHVnaW5zL2Fzdl9y
c3NncmFiLnBocCcsICdmYXZpY29uJyk7CgkkdGhlZmVlZC0+ZW5hYmxlX2NhY2hlKGZhbHNl
KTsKCSR0aGVmZWVkLT5oYW5kbGVfY29udGVudF90eXBlKCk7CgoJJG1lc3NhZ2UgLj0gIkdl
dHRpbmcgJGZlZWRcclxuIjsKCS8vR2V0IHRoZSBmZWVkCgkkc3VjY2VzcyA9ICR0aGVmZWVk
LT5pbml0KCk7CgoJaWYoJHN1Y2Nlc3MpIHsKCQkkbWVzc2FnZSAuPSAiXHRTdWNjZXNzIVxy
XG4iOwoJCSRmZWVkaXRlbXMgPSAkdGhlZmVlZC0+Z2V0X2l0ZW1zKCk7CgkJJGZhdmljb24g
PSAkdGhlZmVlZC0+Z2V0X2Zhdmljb24oKTsKCQkkbWVzc2FnZSAuPSAiXHRGYXZpY29uIC0g
Ii4kZmF2aWNvbi4iXHJcbiI7CgkJZm9yZWFjaCgkZmVlZGl0ZW1zIGFzICRmZWVkaXRlbSkg
ewoJCQkvL0dldCB0aGUgcGVybWFsaW5rCgkJCSRvdXRbJ3Blcm1hbGluayddID0gJGZlZWRp
dGVtLT5nZXRfbGluaygpOwoKCQkJLy8gR2V0IGl0ZW0gdGl0bGUKCQkJJG91dFsndGl0bGUn
XSA9IGFkZHNsYXNoZXMoYXN2X3R1bWJsZWxvZ190cmltdHdpdHRlcigkZmVlZGl0ZW0tPmdl
dF90aXRsZSgpLCAkb3V0WydwZXJtYWxpbmsnXSkpOwoKCgkJCS8vR2V0IHRoZSBpbWFnZQoJ
CQkkb3V0WydpbWFnZSddID0gJGZhdmljb247CgoJCQkvLyBDaGVjayBhbmQgcmV0cmlldmUg
ZGF0ZQoJCQlpZigkcHViZGF0ZSE9JycpCgkJCXsKCQkJCSRkYXRlVGFrZW4gPSAkZmVlZGl0
ZW0tPmdldF9pdGVtX3RhZ3MoJ2h0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvJywg
J2RhdGUuVGFrZW4nKTsKCQkJCXByaW50X3IoJGRhdGVUYWtlblswXVsnZGF0YSddKTsKCQkJ
CWRpZSgibm90IHlldCBpbXBsZW1lbnRlZCIpOwoJCQl9CgkJCWVsc2VpZigkZmVlZGl0ZW0t
PmdldF9kYXRlKCkpIHsKCQkJCSRvdXRbInBvc3RlZCJdID0gJGZlZWRpdGVtLT5nZXRfZGF0
ZSgnVScpOwoJCQkJJHdoZW4gPSAiZnJvbV91bml4dGltZSgiLiRvdXRbJ3Bvc3RlZCddLiIp
IjsKCQkJfQoJCQllbHNlCgkJCXsKCQkJCSR3aGVuID0gJ25vdygpJzsKCQkJfQoKCQkJLy9H
ZXQgdGhlIGJvZHkKCQkJLyppZigkdHlwZT09Im1lZGlhIikKCQkJewoJCQkJJGVuY3MgPSAk
ZmVlZGl0ZW0tPmdldF9lbmNsb3N1cmVzKCk7CgkJCQlmb3JlYWNoKCRlbmNzIGFzICRlbmNs
b3N1cmUpCgkJCQl7CgkJCQkJcHJpbnRfcigkZW5jbG9zdXJlKTsKCQkJCQlpZighaXNfbnVs
bCgkZW5jbG9zdXJlLT5nZXRfbGluaygpKSl7CgkJCQkJCSRlbmNfbGluayA9ICRlbmNsb3N1
cmUtPmdldF9saW5rKCk7CgkJCQkJfQoJCQkJCWVsc2UKCQkJCQl7CgkJCQkJCSRlbmNfbGlu
ayA9ICRlbmNfbGluazsKCQkJCQl9CgkJCQkJJGVuY19saW5rID0gc3RyX3JlcGxhY2UoJyZh
bXA7JywgJyYnLCAkZW5jX2xpbmspOwoJCQkJCSRvdXRbJ2JvZHknXSA9ICc8cD48b2JqZWN0
IHR5cGU9ImFwcGxpY2F0aW9uL3gtc2hvY2t3YXZlLWZsYXNoIiB3aWR0aD0iNTA2IiBoZWln
aHQ9IjQxNCIgZGF0YT0iJy4kZW5jX2xpbmsuJyI+CgkgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICA8cGFyYW0gbmFtZT0icXVhbGl0eSIgdmFsdWU9ImhpZ2giIC8+Cgkg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cGFyYW0gbmFtZT0iYWxsb3dm
dWxsc2NyZWVuIiB2YWx1ZT0idHJ1ZSIgLz4KCSAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgIDxwYXJhbSBuYW1lPSJzY2FsZSIgdmFsdWU9InNob3dBbGwiIC8+CgkgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cGFyYW0gbmFtZT0ibW92aWUiIHZh
bHVlPSInLiRlbmNfbGluay4nIiAvPgoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICA8L29iamVjdD48cD4nOwoJCQkJfQoJCQl9Ki8KCQkJJGltYWdlID0gJyc7CgkJCWlmKCRv
dXRbJ2ltYWdlJ10pCgkJCXsKCQkJCWlmKCFkZWZpbmVkKCJJTVBBVEgiKSkgZGVmaW5lKCJJ
TVBBVEgiLCRwYXRoX3RvX3NpdGUuJy8nLiRpbWdfZGlyLicvJyk7CgkJCQkkZmVlZERlc2Ny
aXB0aW9uID0gJGZlZWRpdGVtLT5nZXRfY29udGVudCgpOwoJCQkJJGltYWdlID0gcmV0dXJu
SW1hZ2UoJGZlZWREZXNjcmlwdGlvbik7CgkJCQkkaW1hZ2UgPSB1cmxkZWNvZGUoc2NyYXBl
SW1hZ2UoJGltYWdlKSk7CgkJCQkvL0NoZWNrIHRvIHNlZSBpZiBpdCBuZWVkcyB0byBiZSBp
bXBvcnRlZCBpbnRvIFRYUCBJbWFnZQoJCQkJaWYoJG91dFsnaW1hZ2UnXSA9PSAnMicpCgkJ
CQl7CgkJCQkJLy9nZXQgZXh0ZW5zaW9uCgkJCQkJJGV4dCA9IHN0cnJjaHIoJGltYWdlLCAn
LicpOwoJCQkJCSRjaGVjayA9IHNhZmVfZmllbGQoJ0lEJywgJ3R4cF9pbWFnZScsICJOQU1F
ID0gJyIuJG91dFsndGl0bGUnXS4iJyBBTkQgREFURSA9ICR3aGVuIik7CgkJCQkJaWYoJGNo
ZWNrKQoJCQkJCXsKCQkJCQkJJGltYWdlSUQgPSAkY2hlY2s7CgkJCQkJfQoJCQkJCWVsc2UK
CQkJCQl7CgkJCQkJCXNhZmVfaW5zZXJ0KCd0eHBfaW1hZ2UnLAoJCQkJCQkJIm5hbWUgPSAn
Ii4kb3V0Wyd0aXRsZSddLiInLAoJCQkJCQkJZXh0ID0gJyRleHQnLAoJCQkJCQkJZGF0ZSA9
ICR3aGVuIgoJCQkJCQkpOwoJCQkJCQkkaW1hZ2VJRCA9IG15c3FsX2luc2VydF9pZCgpOwoJ
CQkJCQkvLyBjcmVhdGUgYSBuZXcgY3VybCByZXNvdXJjZQoJCQkJCQkkY2ggPSBjdXJsX2lu
aXQoKTsKCQkJCQkJLy8gc2V0IFVSTCBhbmQgb3RoZXIgYXBwcm9wcmlhdGUgb3B0aW9ucwoJ
CQkJCQljdXJsX3NldG9wdCgkY2gsIENVUkxPUFRfVVJMLCAiJGltYWdlIik7CgkJCQkJCWN1
cmxfc2V0b3B0KCRjaCwgQ1VSTE9QVF9SRVRVUk5UUkFOU0ZFUiwgdHJ1ZSk7CgkJCQkJCS8v
IGdyYWIgVVJMLCBhbmQgcmV0dXJuIG91dHB1dAoJCQkJCQkkb3V0cHV0ID0gY3VybF9leGVj
KCRjaCk7CgkJCQkJCS8vIGNsb3NlIGN1cmwgcmVzb3VyY2UsIGFuZCBmcmVlIHVwIHN5c3Rl
bSByZXNvdXJjZXMKCQkJCQkJY3VybF9jbG9zZSgkY2gpOwoJCQkJCQkvL3dyaXRlIHRvIGZp
bGUKCQkJCQkJJGZpbGVuYW1lID0gSU1QQVRILmJhc2VuYW1lKCRpbWFnZSk7CgkJCQkJCSRm
aCA9IGZvcGVuKElNUEFUSC4kaW1hZ2VJRC4kZXh0LCAndycpOwoJCQkJCQlmd3JpdGUoJGZo
LCAkb3V0cHV0KTsKCQkJCQkJZmNsb3NlKCRmaCk7CgkJCQkJCSRzaG9ydHBhdGggPSBiYXNl
bmFtZSgkaW1hZ2UpOwoJCQkJCQkkbWVzc2FnZSAuPSAiXHRJbXBvcnRlZCAkZmlsZW5hbWVc
clxuIjsKCQkJCQl9CgkJCQkJJGltYWdlID0gImh0dHA6Ly8iLiRwcmVmc1snc2l0ZXVybCdd
LiIvIi4kaW1nX2Rpci4nLycuJGltYWdlSUQuJGV4dDsKCQkJCX0KCQkJfQoKCQkJaWYoIWJl
Z2luc1dpdGgoJGZlZWRpdGVtLT5nZXRfZGVzY3JpcHRpb24oKSwgIjxwIikpCgkJCXsKCQkJ
CSRvdXRbJ2JvZHknXSA9IGRvdGFnKGFkZHNsYXNoZXMoYXN2X3R1bWJsZWxvZ190cmltdHdp
dHRlcigkZmVlZGl0ZW0tPmdldF9kZXNjcmlwdGlvbigpLCAkb3V0WydwZXJtYWxpbmsnXSkp
LCAncCcpOwoJCQl9CgkJCWVsc2UKCQkJewoJCQkJJG91dFsnYm9keSddID0gYWRkc2xhc2hl
cygkZmVlZGl0ZW0tPmdldF9kZXNjcmlwdGlvbigpKTsKCQkJfQoKCQkJLy9DaGVjayB0byBz
ZWUgaWYgdGhlIGFydGljbGUgaGFzIGFscmVhZHkgYmVlbiBpbXBvcnRlZAoJCQkkZXhpc3Rz
ID0gc2FmZV9jb3VudCgndGV4dHBhdHRlcm4nLCAiVGl0bGUgPSAnIi4kb3V0Wyd0aXRsZSdd
LiInIEFORCBQb3N0ZWQ9JHdoZW4gQU5EIFNlY3Rpb249JyRzZWN0aW9uJyIpOwoKCQkJLy9J
ZiBpdCBoYXNuJ3QgdGhlbiBsZXQncyBhZGQgaXQKCQkJaWYoJGV4aXN0cz09MCl7CgkJCQkv
L0NoZWNrIHRvIHNlZSBpZiBjYXRlZ29yeTEgZXhpc3RzCgkJCQlpZigkY2F0ZWdvcnkxICYm
ICFmZXRjaF9jYXRlZ29yeV90aXRsZSgkY2F0ZWdvcnkxKSkKCQkJCXsKCQkJCQkvL0NyZWF0
ZSBuZXcgY2F0ZWdvcnkKCQkJCQkkbmFtZSA9IHNhbml0aXplRm9yVXJsKCRjYXRlZ29yeTEp
OwoJCQkJCSRleGlzdHMgPSBzYWZlX2ZpZWxkKCduYW1lJywgJ3R4cF9jYXRlZ29yeScsICJu
YW1lID0gJyIuZG9TbGFzaCgkbmFtZSkuIicgYW5kIHR5cGUgPSAnYXJ0aWNsZSciKTsKCQkJ
CQlpZiAoISRleGlzdHMpCgkJCQkJewoJCQkJCQkkcSA9IHNhZmVfaW5zZXJ0KCd0eHBfY2F0
ZWdvcnknLCAibmFtZSA9ICciLmRvU2xhc2goJG5hbWUpLiInLCB0aXRsZSA9ICciLmRvU2xh
c2goJGNhdGVnb3J5MSkuIicsIHR5cGUgPSAnYXJ0aWNsZScsIHBhcmVudCA9ICdyb290JyIp
OwoJCQkJCQlyZWJ1aWxkX3RyZWUoJ3Jvb3QnLCAxLCAnYXJ0aWNsZScpOwoJCQkJCX0KCQkJ
CX0KCQkJCS8vQ2hlY2sgdG8gc2VlIGlmIGNhdGVnb3J5MiBleGlzdHMKCQkJCWlmKCRjYXRl
Z29yeTIgJiYgIWZldGNoX2NhdGVnb3J5X3RpdGxlKCRjYXRlZ29yeTIpKQoJCQkJewoJCQkJ
CS8vQ3JlYXRlIG5ldyBjYXRlZ29yeQoJCQkJCSRuYW1lID0gc2FuaXRpemVGb3JVcmwoJGNh
dGVnb3J5Mik7CgkJCQkJJGV4aXN0cyA9IHNhZmVfZmllbGQoJ25hbWUnLCAndHhwX2NhdGVn
b3J5JywgIm5hbWUgPSAnIi5kb1NsYXNoKCRuYW1lKS4iJyBhbmQgdHlwZSA9ICdhcnRpY2xl
JyIpOwoJCQkJCWlmICghJGV4aXN0cykKCQkJCQl7CgkJCQkJCSRxID0gc2FmZV9pbnNlcnQo
J3R4cF9jYXRlZ29yeScsICJuYW1lID0gJyIuZG9TbGFzaCgkbmFtZSkuIicsIHRpdGxlID0g
JyIuZG9TbGFzaCgkY2F0ZWdvcnkyKS4iJywgdHlwZSA9ICdhcnRpY2xlJywgcGFyZW50ID0g
J3Jvb3QnIik7CgkJCQkJCXJlYnVpbGRfdHJlZSgncm9vdCcsIDEsICdhcnRpY2xlJyk7CgkJ
CQkJfQoJCQkJfQoKCQkJCS8vR2V0IGN1c3RvbSBmaWVsZAoJCQkJJG1lc3NhZ2UgLj0gIlx0
XHQkbGlua2ZpZWxkIC0gY3VzdG9tXHJcbiI7CgkJCQkkY3VzdG9tX3JvdyA9IHNhZmVfcm93
KCIqIiwgJ3R4cF9wcmVmcycsICJ2YWw9JyRsaW5rZmllbGQnIik7CgkJCQlpZigkY3VzdG9t
X3JvdykKCQkJCXsKCQkJCQkkbGlua2ZpZWxkX3NldCA9ICdjdXN0b21fJy4kY3VzdG9tX3Jv
d1sncG9zaXRpb24nXTsKCQkJCX0KCQkJCWVsc2UKCQkJCXsKCQkJCQkkbGlua2ZpZWxkX3Nl
dCA9ICJjdXN0b21fMSI7CgkJCQl9CgkJCQkkcmVzdWx0ID0gc2FmZV9pbnNlcnQoInRleHRw
YXR0ZXJuIiwKCQkJCQkiVGl0bGUgICAgICAgICAgID0gJyIuJG91dFsndGl0bGUnXS4iJywK
CQkJCQlCb2R5ICAgICAgICAgICAgPSAnIi4kb3V0Wydib2R5J10uIicsCgkJCQkJQm9keV9o
dG1sICAgICAgID0gJyIuJG91dFsnYm9keSddLiInLAoJCQkJCUV4Y2VycHQgICAgICAgICA9
ICcnLAoJCQkJCUV4Y2VycHRfaHRtbCAgICA9ICcnLAoJCQkJCUltYWdlICAgICAgICAgICA9
ICciLiRpbWFnZS4iJywKCQkJCQlLZXl3b3JkcyAgICAgICAgPSAnJGtleXdvcmRzJywKCQkJ
CQlTdGF0dXMgICAgICAgICAgPSAgNCwKCQkJCQlQb3N0ZWQgICAgICAgICAgPSAgJHdoZW4s
CgkJCQkJTGFzdE1vZCAgICAgICAgID0gIG5vdygpLAoJCQkJCUF1dGhvcklEICAgICAgICA9
ICckdHhwX3VzZXInLAoJCQkJCVNlY3Rpb24gICAgICAgICA9ICckc2VjdGlvbicsCgkJCQkJ
Q2F0ZWdvcnkxICAgICAgID0gJyRjYXRlZ29yeTEnLAoJCQkJCUNhdGVnb3J5MiAgICAgICA9
ICckY2F0ZWdvcnkyJywKCQkJCQl0ZXh0aWxlX2JvZHkgICAgPSAgMCwKCQkJCQl0ZXh0aWxl
X2V4Y2VycHQgPSAgMCwKCQkJCQlBbm5vdGF0ZSAgICAgICAgPSAgMSwKCQkJCQlvdmVycmlk
ZV9mb3JtICAgPSAnJGZvcm0nLAoJCQkJCXVybF90aXRsZSAgICAgICA9ICcnLAoJCQkJCSRs
aW5rZmllbGRfc2V0IAkJPSAnIi4kb3V0WydwZXJtYWxpbmsnXS4iJywKCQkJCQlBbm5vdGF0
ZUludml0ZSAgPSAnY29tbWVudHMnLAoJCQkJCXVpZCAgICAgICAgICAgICA9ICciLm1kNSh1
bmlxaWQocmFuZCgpLHRydWUpKS4iJywKCQkJCQlmZWVkX3RpbWUgICAgICAgPSAkd2hlbiwg
Ii4KCQkJCQkoKCR0ZW1wRmllbGQgPSBhc3ZfdHVtYmxlbG9nX2dldEN1c3RvbUZpZWxkKCRm
ZWVkX2lkX2ZpZWxkKSk/ICIkdGVtcEZpZWxkID0gJyRmZWVkX2lkJyIgOiAiJyciKQoKCQkJ
CSk7CgoJCQkJaWYoJHJlc3VsdCkKCQkJCXsKCQkJCQkvL2RvX3BpbmdzKCk7CgkJCQkJdXBk
YXRlX2xhc3Rtb2QoKTsKCQkJCQkkbWVzc2FnZSAuPSAiXHRBZGRlZCAtICIuJG91dFsndGl0
bGUnXS4iXHJcbiI7CgkJCQl9CgkJCX0KCQkJZWxzZQoJCQl7CgkJCQkkbWVzc2FnZSAuPSAi
XHRFeGlzdHMgLSAiLiRvdXRbJ3RpdGxlJ10uIlxyXG4iOwoJCQl9CgkJfQoJfQoJZWxzZSB7
CgkJJG1lc3NhZ2UgLj0gIlx0Ii4kdGhlZmVlZC0+ZXJyb3I7Cgl9CglyZXR1cm4gJG1lc3Nh
Z2U7Cn0KCmZ1bmN0aW9uIGFzdl90dW1ibGVsb2dfZ3JhYmltZygkYXR0cywkdGhpbmcpCnsK
CWdsb2JhbCAkcHJlZnM7CglleHRyYWN0KCRwcmVmcyk7CglpZighZGVmaW5lZCgiSU1QQVRI
IikpIGRlZmluZSgiSU1QQVRIIiwkcGF0aF90b19zaXRlLicvJy4kaW1nX2Rpci4nLycpOwoJ
JGltYWdlID0gcmV0dXJuSW1hZ2UocGFyc2UoJHRoaW5nKSk7CgkkaW1hZ2UgPSB1cmxkZWNv
ZGUoc2NyYXBlSW1hZ2UoJGltYWdlKSk7CgkvL0NoZWNrIHRvIHNlZSBpZiBpdCBuZWVkcyB0
byBiZSBpbXBvcnRlZCBpbnRvIFRYUCBJbWFnZQoJaWYoJGltYWdlKQoJewoJCS8qLy9nZXQg
ZXh0ZW5zaW9uCgkJJGV4dCA9IHN0cnJjaHIoJGltYWdlLCAnLicpOwoJCSRjaGVjayA9IHNh
ZmVfZmllbGQoJ0lEJywgJ3R4cF9pbWFnZScsICJOQU1FID0gJyIuJG91dFsndGl0bGUnXS4i
JyBBTkQgREFURSA9ICR3aGVuIik7CgkJaWYoJGNoZWNrKQoJCXsKCQkJJGltYWdlSUQgPSAk
Y2hlY2s7CgkJfQoJCWVsc2UKCQl7CgkJCXNhZmVfaW5zZXJ0KCd0eHBfaW1hZ2UnLAoJCQkJ
Im5hbWUgPSAnIi4kb3V0Wyd0aXRsZSddLiInLAoJCQkJZXh0ID0gJyRleHQnLAoJCQkJZGF0
ZSA9ICR3aGVuIgoJCQkpOwoJCQkkaW1hZ2VJRCA9IG15c3FsX2luc2VydF9pZCgpOwoJCQkv
LyBjcmVhdGUgYSBuZXcgY3VybCByZXNvdXJjZQoJCQkkY2ggPSBjdXJsX2luaXQoKTsKCQkJ
Ly8gc2V0IFVSTCBhbmQgb3RoZXIgYXBwcm9wcmlhdGUgb3B0aW9ucwoJCQljdXJsX3NldG9w
dCgkY2gsIENVUkxPUFRfVVJMLCAiJGltYWdlIik7CgkJCWN1cmxfc2V0b3B0KCRjaCwgQ1VS
TE9QVF9SRVRVUk5UUkFOU0ZFUiwgdHJ1ZSk7CgkJCS8vIGdyYWIgVVJMLCBhbmQgcmV0dXJu
IG91dHB1dAoJCQkkb3V0cHV0ID0gY3VybF9leGVjKCRjaCk7CgkJCS8vIGNsb3NlIGN1cmwg
cmVzb3VyY2UsIGFuZCBmcmVlIHVwIHN5c3RlbSByZXNvdXJjZXMKCQkJY3VybF9jbG9zZSgk
Y2gpOwoJCQkvL3dyaXRlIHRvIGZpbGUKCQkJJGZpbGVuYW1lID0gSU1QQVRILmJhc2VuYW1l
KCRpbWFnZSk7CgkJCSRmaCA9IGZvcGVuKElNUEFUSC4kaW1hZ2VJRC4kZXh0LCAndycpOwoJ
CQlmd3JpdGUoJGZoLCAkb3V0cHV0KTsKCQkJZmNsb3NlKCRmaCk7CgkJCSRzaG9ydHBhdGgg
PSBiYXNlbmFtZSgkaW1hZ2UpOwoJCQkkbWVzc2FnZSAuPSAiXHRJbXBvcnRlZCAkZmlsZW5h
bWVcclxuIjsKCQl9Ki8KCQlyZXR1cm4gJGltYWdlOwoJfQoJcmV0dXJuICcnOwovLwkkb3V0
Wydib2R5J10gPSAnPHA+PGEgaHJlZj0iJy4kb3V0WydwZXJtYWxpbmsnXS4nIj48aW1nIHNy
Yz0iJy5odS4kaW1nX2Rpci4iLyIuJGltYWdlSUQuJGV4dC4nIiAvPjwvYT48L3A+JzsKfQoK
Ly9oZWxwZXIgZnVuY3Rpb25zCi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8v
Ly8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8KLy9HZXQgYW4gaW1hZ2UKZnVuY3Rpb24g
cmV0dXJuSW1hZ2UgKCR0ZXh0KSB7CiAgICAkdGV4dCA9IGh0bWxfZW50aXR5X2RlY29kZSgk
dGV4dCk7CiAgICAvL2VjaG8gJHRleHQ7CiAgICAkcGF0dGVybiA9ICIvPGltZ1tePl0rXD4v
aSI7CiAgICBwcmVnX21hdGNoKCRwYXR0ZXJuLCAkdGV4dCwgJG1hdGNoZXMpOwogICAgaWYo
JG1hdGNoZXMpCXJldHVybiAkbWF0Y2hlc1swXTsKCXJldHVybiAnJzsKfQoKLy8vLy8vLy8v
Ly8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8v
LwovL0ZpbHRlciBvdXQgaW1hZ2UgdXJsIG9ubHkKZnVuY3Rpb24gc2NyYXBlSW1hZ2UoJHRl
eHQpIHsKCiAgICAkcGF0dGVybiA9ICcvc3JjPVtcJyJdPyhbXlwnIiA+XSspW1wnIiA+XS8n
OwoKCXByZWdfbWF0Y2goJHBhdHRlcm4sICR0ZXh0LCAkbGluayk7CglpZigkbGluaykJcmV0
dXJuIHVybGVuY29kZSgkbGlua1sxXSk7CglyZXR1cm4gJyc7Cgp9CgpmdW5jdGlvbiBiZWdp
bnNXaXRoKCRzdHIsICRzdWIpIHsKICAgIHJldHVybiAoc3RybmNtcCgkc3RyLCAkc3ViLCBz
dHJsZW4oJHN1YikpID09IDApOwoJfSI7czozOiJtZDUiO3M6MzI6IjgyMzcxMDczYTI3YTNj
YWYxZDA3OTk2ZTIwMmJjMjcyIjt9
