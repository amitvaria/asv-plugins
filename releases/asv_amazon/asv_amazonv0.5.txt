# asv_amazon v0.5
# 
# Amit Varia
# http://www.amitvaria.com/

# ......................................................................
# This is a plugin for Textpattern - http://textpattern.com/
# To install: textpattern > admin > plugins
# Paste the following text into the 'Install plugin' box:
# ......................................................................

YTo5OntzOjQ6Im5hbWUiO3M6MTA6ImFzdl9hbWF6b24iO3M6NzoidmVyc2lvbiI7czozOiIw
LjUiO3M6NjoiYXV0aG9yIjtzOjEwOiJBbWl0IFZhcmlhIjtzOjEwOiJhdXRob3JfdXJpIjtz
OjI1OiJodHRwOi8vd3d3LmFtaXR2YXJpYS5jb20vIjtzOjExOiJkZXNjcmlwdGlvbiI7czow
OiIiO3M6NDoidHlwZSI7aTowO3M6NDoiaGVscCI7czowOiIiO3M6NDoiY29kZSI7czo4Njk1
OiJmdW5jdGlvbiBnZXREYXRhKCRzb3VyY2U9JycsICRkZXN0PScnLCAkZGF0YT0nJyl7CmVj
aG8gJ2NvcHlpbmcgJy4kc291cmNlOwogaWYoZGF0YT09JycpewogICRjaCA9IGN1cmxfaW5p
dCgpOwogIGN1cmxfc2V0b3B0KCRjaCwgQ1VSTE9QVF9VUkwsICRzb3VyY2UpOwogIGN1cmxf
c2V0b3B0KCRjaCwgQ1VSTE9QVF9SRVRVUk5UUkFOU0ZFUiwxKTsKICAkZGF0YT1jdXJsX2V4
ZWMgKCRjaCk7CiAgY3VybF9jbG9zZSAoJGNoKTsKIGVjaG8gJGRhdGE7CiB9CiAkZnA9Zm9w
ZW4oJGRlc3QsICd3Jyk7CiBmd3JpdGUoJGZwLCAkZGF0YSk7CiBmY2xvc2UoJGZwKTsKfQoK
CWNsYXNzIEFtYXpvblBhcnNlcnsKCgkvKiBUaGlzIGNsYXNzIGlzIGEgaGVscGVyIHRvIHRo
ZSBhc3ZfYW1hem9uIGZ1bmN0aW9uLiBUaGUgcHVycG9zZSBvZiB0aGlzIGNsYXNzIGlzIHRv
IHBhcnNlIHRoZSB4bWwgZGF0YSBhbmQgcmV0dXJuIHRoZSBpbmZvcm1hdGlvbiB0byB0aGUg
YXN2X2FtYXpvbiBmdW5jdGlvbi4qLwoJCXZhciAkYXN2X2NvbnRlbnRzOwkvL2hvbGQgYWxs
IHRoZSBkYXRhIHRvIHJldHVybgoJCXZhciAkYXN2X2ZsYWc7CS8vaG9sZCB0aGUgY3VycmVu
dCB0YWcgbmFtZQoJCXZhciAkYXN2X2FzaW47CQkJLy9ob2xkIHRoZSBBU0lOIG9mIHRoZSBw
cm9kdWN0CgkJdmFyICRhc3ZfbG9jYWxlOwkJLy9ob2xkIHRoZSBsb2NhbGUgb2YgdGhlIHBy
b2R1Y3QKCQl2YXIgJGFzdl9jYWNoZWltZzsJLy93aGV0aGVyIG9yIG5vdCB0byBjYWNoZSB0
aGUgaW1hZ2UKCQl2YXIgJGFzdl90bXBfc2l0ZTsKCQl2YXIgJGFzdl90bXBfZm9sZGVyOwoK
CQlmdW5jdGlvbiBBbWF6b25QYXJzZXIoJGxvY2FsZSwgJGFzaW4sICRjYWNoZWltZywgJHRt
cF9mb2xkZXIpewoJCQlnbG9iYWwgJHNpdGV1cmw7CgkJCWdsb2JhbCAkdGVtcGRpcjsKCQkJ
JHRoaXMtPmFzdl9hc2luID0gJGFzaW47CgkJCSR0aGlzLT5hc3ZfbG9jYWxlID0gJGxvY2Fs
ZTsKCQkJJHRoaXMtPmFzdl9jYWNoZWltZyA9ICRjYWNoZWltZzsKCQkJJHRoaXMtPmFzdl90
bXBfc2l0ZT0gImh0dHA6Ly8kc2l0ZXVybC90ZXh0cGF0dGVybi90bXAiOwoJCQkkdGhpcy0+
YXN2X3RtcF9mb2xkZXIgPSAkdGVtcGRpcjsKCQl9CgoJCWZ1bmN0aW9uIHN0YXJ0RWxlbWVu
dCgkcGFyc2VyLCAkdGFnTmFtZSwgJGF0dHJzKXsKCQkJc3dpdGNoICgkdGFnTmFtZSkgewoJ
CQkJY2FzZSAiRGV0YWlsUGFnZVVSTCI6CgkJCQkJJHRoaXMtPmFzdl9mbGFnID0gJHRhZ05h
bWU7CgkJCQkJYnJlYWs7CgkJCQljYXNlICJTbWFsbEltYWdlIjoKCQkJCQkkdGhpcy0+YXN2
X2ZsYWcgPSAkdGFnTmFtZTsKCQkJCQlicmVhazsKCQkJCWNhc2UgIk1lZGl1bUltYWdlIjoK
CQkJCQkkdGhpcy0+YXN2X2ZsYWcgPSAkdGFnTmFtZTsKCQkJCQlicmVhazsKCQkJCWNhc2Ug
IkxhcmdlSW1hZ2UiOgoJCQkJCSR0aGlzLT5hc3ZfZmxhZyA9ICR0YWdOYW1lOwoJCQkJCWJy
ZWFrOwoJCQkJY2FzZSAiSXRlbUF0dHJpYnV0ZXMiOgoJCQkJCSR0aGlzLT5hc3ZfZmxhZyA9
ICR0YWdOYW1lOwoJCQkJCWJyZWFrOwoJCQkJY2FzZSAiVVJMIjoKCQkJCQlpZigkdGhpcy0+
YXN2X2ZsYWcgPT0gIlNtYWxsSW1hZ2UiKQoJCQkJCQkkdGhpcy0+YXN2X2ZsYWcgPSAiU21h
bGxJbWFnZVVSTCI7CgkJCQkJaWYoJHRoaXMtPmFzdl9mbGFnID09ICJNZWRpdW1JbWFnZSIp
CgkJCQkJCSR0aGlzLT5hc3ZfZmxhZyA9ICJNZWRpdW1JbWFnZVVSTCI7CgkJCQkJaWYoJHRo
aXMtPmFzdl9mbGFnID09ICJMYXJnZUltYWdlIikKCQkJCQkJJHRoaXMtPmFzdl9mbGFnID0g
IkxhcmdlSW1hZ2VVUkwiOwoJCQkJCWJyZWFrOwoJCQkJY2FzZSAiVGl0bGUiOgoJCQkJCWlm
KCR0aGlzLT5hc3ZfZmxhZyA9PSAiSXRlbUF0dHJpYnV0ZXMiKQoJCQkJCQkkdGhpcy0+YXN2
X2ZsYWcgPSAiVGl0bGUiOwoJCQkJCWJyZWFrOwoJCQl9CgkJfQoKCQlmdW5jdGlvbiBlbmRF
bGVtZW50KCRwYXJzZXIsICR0YWdOYW1lKXsKCQl9CgoJCWZ1bmN0aW9uIGNoYXJhY3RlckRh
dGEoJHBhcnNlciwgJGRhdGEpewoJCQlzd2l0Y2ggKCR0aGlzLT5hc3ZfZmxhZykgewoJCQkJ
Y2FzZSAiRGV0YWlsUGFnZVVSTCI6CgkJCQkJJHRoaXMtPmFzdl9jb250ZW50c1siYXN2XyIu
JHRoaXMtPmFzdl9mbGFnXSA9ICRkYXRhOwoJCQkJCSR0aGlzLT5hc3ZfZmxhZyA9ICcnOwoJ
CQkJCWJyZWFrOwoJCQkJY2FzZSAiU21hbGxJbWFnZVVSTCI6CgkJCQkJaWYoJHRoaXMtPmFz
dl9jYWNoZWltZyA9PSAic21hbGwiKXsKCQkJCQkJaWYoISgJZmlsZV9leGlzdHMoIiR0aGlz
LT5hc3ZfdG1wX2ZvbGRlci8kdGhpcy0+YXN2X2xvY2FsZS0kdGhpcy0+YXN2X2FzaW4tc21h
bGwuanBnIikgJiYgKHRpbWUoKSAtIChmaWxlYXRpbWUoIiR0aGlzLT5hc3ZfdG1wX2ZvbGRl
ci8kdGhpcy0+YXN2X2xvY2FsZS0kdGhpcy0+YXN2X2FzaW4tc21hbGwuanBnIikpIDwgODY0
MDAwMCkpKXsKCQkJCQkJCWdldERhdGEoJGRhdGEsICIkdGhpcy0+YXN2X3RtcF9mb2xkZXIv
JHRoaXMtPmFzdl9sb2NhbGUtJHRoaXMtPmFzdl9hc2luLXNtYWxsLmpwZyIpOwoJCQkJCQl9
CgkJCQkJCSR0aGlzLT5hc3ZfY29udGVudHNbImFzdl8iLiR0aGlzLT5hc3ZfZmxhZ10gPSAi
JHRoaXMtPmFzdl90bXBfc2l0ZS8kdGhpcy0+YXN2X2xvY2FsZS0kdGhpcy0+YXN2X2FzaW4t
c21hbGwuanBnIjsKCQkJCQl9CgkJCQkJZWxzZXsKCQkJCQkJJHRoaXMtPmFzdl9jb250ZW50
c1siYXN2XyIuJHRoaXMtPmFzdl9mbGFnXSA9ICRkYXRhOwoJCQkJCX0KCQkJCQkkdGhpcy0+
YXN2X2ZsYWcgPSAnJzsKCQkJCQlicmVhazsKCQkJCWNhc2UgIk1lZGl1bUltYWdlVVJMIjoK
CQkJCQlpZigkdGhpcy0+YXN2X2NhY2hlaW1nID09ICJtZWRpdW0iKXsKCQkJCQkJaWYoISgJ
ZmlsZV9leGlzdHMoIiR0aGlzLT5hc3ZfdG1wX2ZvbGRlci8kdGhpcy0+YXN2X2xvY2FsZS0k
dGhpcy0+YXN2X2FzaW4tbWVkaXVtLmpwZyIpICYmICh0aW1lKCkgLSAoZmlsZWF0aW1lKCIk
dGhpcy0+YXN2X3RtcF9mb2xkZXIvJHRoaXMtPmFzdl9sb2NhbGUtJHRoaXMtPmFzdl9hc2lu
LW1lZGl1bS5qcGciKSkgPCA4NjQwMDAwKSkpewoJCQkJCQkJZ2V0RGF0YSgkZGF0YSwgIiR0
aGlzLT5hc3ZfdG1wX2ZvbGRlci8kdGhpcy0+YXN2X2xvY2FsZS0kdGhpcy0+YXN2X2FzaW4t
bWVkaXVtLmpwZyIpOwoJCQkJCQl9CgkJCQkJCSR0aGlzLT5hc3ZfY29udGVudHNbImFzdl8i
LiR0aGlzLT5hc3ZfZmxhZ10gPSAiJHRoaXMtPmFzdl90bXBfc2l0ZS8kdGhpcy0+YXN2X2xv
Y2FsZS0kdGhpcy0+YXN2X2FzaW4tbWVkaXVtLmpwZyI7CgkJCQkJfQoJCQkJCWVsc2V7CgkJ
CQkJCSR0aGlzLT5hc3ZfY29udGVudHNbImFzdl8iLiR0aGlzLT5hc3ZfZmxhZ10gPSAkZGF0
YTsKCQkJCQl9CgkJCQkJJHRoaXMtPmFzdl9mbGFnID0gJyc7CgkJCQkJYnJlYWs7CgkJCQlj
YXNlICJMYXJnZUltYWdlVVJMIjoKCQkJCQlpZigkdGhpcy0+YXN2X2NhY2hlaW1nID09ICJs
YXJnZSIpewoJCQkJCQlpZighKAlmaWxlX2V4aXN0cygiJHRoaXMtPmFzdl90bXBfZm9sZGVy
LyR0aGlzLT5hc3ZfbG9jYWxlLSR0aGlzLT5hc3ZfYXNpbi1sYXJnZS5qcGciKSAmJiAodGlt
ZSgpIC0gKGZpbGVhdGltZSgiJHRoaXMtPmFzdl90bXBfZm9sZGVyLyR0aGlzLT5hc3ZfbG9j
YWxlLSR0aGlzLT5hc3ZfYXNpbi1sYXJnZS5qcGciKSkgPCA4NjQwMDAwKSkpewoJCQkJCQkJ
Z2V0RGF0YSgkZGF0YSwgIiR0aGlzLT5hc3ZfdG1wX2ZvbGRlci8kdGhpcy0+YXN2X2xvY2Fs
ZS0kdGhpcy0+YXN2X2FzaW4tbGFyZ2UuanBnIik7CgkJCQkJCX0KCQkJCQkJJHRoaXMtPmFz
dl9jb250ZW50c1siYXN2XyIuJHRoaXMtPmFzdl9mbGFnXSA9ICIkdGhpcy0+YXN2X3RtcF9z
aXRlLyR0aGlzLT5hc3ZfbG9jYWxlLSR0aGlzLT5hc3ZfYXNpbi1sYXJnZS5qcGciOwoJCQkJ
CX0KCQkJCQllbHNlewoJCQkJCQkkdGhpcy0+YXN2X2NvbnRlbnRzWyJhc3ZfIi4kdGhpcy0+
YXN2X2ZsYWddID0gJGRhdGE7CgkJCQkJfQoJCQkJCSR0aGlzLT5hc3ZfZmxhZyA9ICcnOwoJ
CQkJCWJyZWFrOwoJCQkJY2FzZSAiVGl0bGUiOgoJCQkJCSR0aGlzLT5hc3ZfY29udGVudHNb
ImFzdl8iLiR0aGlzLT5hc3ZfZmxhZ10gPSAkZGF0YTsKCQkJCQkkdGhpcy0+YXN2X2ZsYWcg
PSAnJzsKCQkJCQlicmVhazsKCQkJfQoJCX0KCgkJZnVuY3Rpb24gZ2V0RGV0YWlsUGFnZVVS
TCgpewoJCQlyZXR1cm4gJHRoaXMtPmFzdl9jb250ZW50c1siYXN2X0RldGFpbFBhZ2VVUkwi
XTsKCQl9CgoJCWZ1bmN0aW9uIGdldFNtYWxsSW1hZ2VVUkwoKXsKCQkJcmV0dXJuICR0aGlz
LT5hc3ZfY29udGVudHNbJ2Fzdl9TbWFsbEltYWdlVVJMJ107CgkJfQoKCQlmdW5jdGlvbiBn
ZXRNZWRpdW1JbWFnZVVSTCgpewoJCQlyZXR1cm4gJHRoaXMtPmFzdl9jb250ZW50c1siYXN2
X01lZGl1bUltYWdlVVJMIl07CgkJfQoKCQlmdW5jdGlvbiBnZXRMYXJnZUltYWdlVVJMKCl7
CgkJCXJldHVybiAkdGhpcy0+YXN2X2NvbnRlbnRzWyJhc3ZfTGFyZ2VJbWFnZVVSTCJdOwoJ
CX0KCgkJZnVuY3Rpb24gZ2V0VGl0bGUoKXsKCQkJcmV0dXJuICR0aGlzLT5hc3ZfY29udGVu
dHNbImFzdl9UaXRsZSJdOwoJCX0KCgkJZnVuY3Rpb24gZ2V0Q29udGVudHNBcnJheSgpewoJ
CQlyZXR1cm4gJHRoaXMtPmFzdl9jb250ZW50czsKCQl9CgoJfQoJZnVuY3Rpb24gYXN2X2Ft
YXpvbigkYXR0LCAkdGhpbmc9JycpewoJLyogYXN2X2FtYXpvbiBpcyB0aGUgbWFpbiBmdW5j
dGlvbiBmb3IgdGhlIHBsdWdpbi4gV2hlbiB0aGUgcGx1Z2luIHRhZ3MgYXJlIGluc2VydGVk
IGludG8gdGhlIHBhZ2UsIHRoaXMgZnVuY3Rpb24gd2lsbCBiZSBjYWxsZWQuCgkJJGF0dCAt
IGFuIGFycmF5IHRoYXQgaG9sZHMgdGhlIGZvbGxvd2luZyB2YWx1ZXM6ICRhc2luLCBbJGxv
Y2FsZSwgJGNhY2hlLCAkY2FjaGVpbWddCgkJJHRoaW5nIC0gYSBzdHJpbmcgdGhhdCBob2xk
cyB0aGUgc3RyaW5nIGluIGJldHdlZW4gdGhlIG9wZW4gYW4gY2xvc2UgdGFncyBvZiB0aGlz
IHBsdWdpbgoJKi8KCQlnbG9iYWwgJHRlbXBkaXI7CgkJZ2xvYmFsICRzaXRldXJsOwoJCS8v
U2V0dGluZyBkZWZhdWx0cyEgLSBOb3RlIGFueSBzZXR0aW5ncyBpbiB0aGUgdGFncyB3aWxs
IG92ZXJyaWRlIHRoZXNlIHNldHRpbmdzCgkJJGxvY2FsZT0idXMiOyAvLyB1cy9kZS9mci9q
cC9jYS91awoJCSRjYWNoZWltZz0ibm9uZSI7IC8vIG5vbmUvc21hbGwvbWVkaXVtL2xhcmdl
CgkJJGNhY2hlPSJub25lIjsgLy8gdHJ1ZS9mYWxzZQoJCSR0bXBfZm9sZGVyID0gJHRlbXBk
aXI7CgkJJHBhdGggPSAiaHR0cDovLyRzaXRldXJsL3RleHRwYXR0ZXJuL3RtcCI7CgoJCS8v
TWFrZSBzdXJlIHRoYXQgdGhlIGFycmF5ICRhdHQgaXMgYSBwcm9wZXIgYXJyYXkgYmVmb3Jl
IGV4dHJhY3RpbmcgYWxsIHRoZSBjb250ZW50cyBpbnRvIHZhcmlhYmxlIG5hbWVzIG9mIHRo
ZWlyIGtleXMKCQlpc19hcnJheSgkYXR0KSA/IGV4dHJhY3QoJGF0dCkgOiBwcmludCgiYXN2
X2FtYXpvbjogUGxlYXNlIHJlZmVyIHRvIHRoZSBtYW51YWwgdG8gcHJvcGVybHkgZGVmaW5l
IHRoZSBhc3ZfYW1hem9uIHRhZy4iKTsKCQkvL0FuIEFTSU4gbXVzdCBiZSBwcm92aWRlZCBm
b3IgdGhpcyBwbHVnaW4KCQlpZighaXNzZXQoJGFzaW4pKSB7cHJpbnQoIllvdSBtdXN0IHNw
ZWNpZnkgdGhlIEFTSU4gKEFtYXpvbiBTdGFuZGFyZCBJdGVtIE51bWJlcikgZm9yIHRoZSBw
cm9kdWN0IHRoYXQgeW91IHdhbnQgdG8gZGlzcGxheS4gVGhlIEFTSU4gaXMgYSAxMCBkaWdp
dCBudW1iZXIgZm91bmQgaW4gdGhlIFVSTCBvZiB0aGUgcHJvZHVjdCBkZXRhaWwgcGFnZS4i
KTt9CgkJLy9jYWNoZWltZyBzaG91bGQgYmUgZWl0aGVyIHNtYWxsLCBtZWRpdW0sIG9yIGxh
cmdlLiBCeSBkZWZhdWx0IGNhY2hlaW1nIGlzIHNldCB0byBub25lICh0aGlzIG1lYW5zIG5v
dCB0byBjYWNoZSB0aGUgaW1hZ2UpCgkJaWYoKCRjYWNoZSA9PSAidHJ1ZSIpICYmIGZpbGVf
ZXhpc3RzKCIkdG1wX2ZvbGRlci8kbG9jYWxlLSRhc2luLnhtbCIpICYmICh0aW1lKCkgLSAo
ZmlsZWF0aW1lKCIkdG1wX2ZvbGRlci8kbG9jYWxlLSRhc2luLnhtbCIpKSA8IDg2NDAwMDAp
KXskdXJsID0gIiR0bXBfZm9sZGVyLyRsb2NhbGUtJGFzaW4ueG1sIjt9CgkJLy9PdGhlcndp
c2UgZ28gZ3JhYiB0aGUgeG1sIGZpbGUKCQllbHNlewoJCQkkYmFzZSA9ICcnOwoJCQkvL1Nl
dCB0aGUgYmFzZSB1cmwgdG8gdGhlIGFwcHJvcHJpYXRlIGxvY2FsZQoJCQlzd2l0Y2ggKCRs
b2NhbGUpIHsKCQkJCWNhc2UgInVzIjoKCQkJCQkkYmFzZSA9ICdodHRwOi8vd2Vic2Vydmlj
ZXMuYW1hem9uLmNvbS9vbmNhL3htbCc7CgkJCQkJYnJlYWs7CgkJCQljYXNlICJ1ayI6CgkJ
CQkJJGJhc2UgPSAnaHR0cDovL3dlYnNlcnZpY2VzLmFtYXpvbi5jby51ay9vbmNhL3htbCc7
CgkJCQkJYnJlYWs7CgkJCQljYXNlICJkZSI6CgkJCQkJJGJhc2UgPSAnaHR0cDovL3dlYnNl
cnZpY2VzLmFtYXpvbi5kZS9vbmNhL3htbCc7CgkJCQkJYnJlYWs7CgkJCQljYXNlICJqcCI6
CgkJCQkJJGJhc2UgPSAnaHR0cDovL3dlYnNlcnZpY2VzLmFtYXpvbi5jby5qcC9vbmNhL3ht
bCc7CgkJCQkJYnJlYWs7CgkJCQljYXNlICJmciI6CgkJCQkJJGJhc2UgPSAnaHR0cDovL3dl
YnNlcnZpY2VzLmFtYXpvbi5mci9vbmNhL3htbCc7CgkJCQkJYnJlYWs7CgkJCQljYXNlICJj
YSI6CgkJCQkJJGJhc2UgPSAnaHR0cDovL3dlYnNlcnZpY2VzLmFtYXpvbi5jYS9vbmNhL3ht
bCc7CgkJCQkJYnJlYWs7CgkJCX0KCQkJJHF1ZXJ5X3N0cmluZyA9ICcnOwoJCQkkcGFyYW1z
ID0gYXJyYXkoCgkJCQknU2VydmljZScgPT4gJ0FXU0VDb21tZXJjZVNlcnZpY2UnLAoJCQkJ
J1N1YnNjcmlwdGlvbklkJyA9PiAnMERaV0Q5QktRNkRIUEg0WEEyRzInICwgLy8gWW91IGNh
biBzcGVjaWZ5IHlvdXIgb3duIGRldmVsb3BlciB0YWcgaWYgeW91IGhhdmUgcmVnaXN0ZXJl
ZCB0byBiZSBhbiBBbWF6b24gd2ViIHNlcnZpY2VzIGRldmVsb3BlcgoJCQkJJ09wZXJhdGlv
bicgPT4gJ0l0ZW1Mb29rdXAnLAoJCQkJJ0l0ZW1JZCcgPT4gJGFzaW4sCgkJCQknUmVzcG9u
c2VHcm91cCcgPT4gJ01lZGl1bScsCgkJCSk7CgkJCWZvcmVhY2ggKCRwYXJhbXMgYXMgJGtl
eSA9PiAkdmFsdWUpIHsKCQkJCSRxdWVyeV9zdHJpbmcgLj0gIiRrZXk9IiAuIHVybGVuY29k
ZSgkdmFsdWUpIC4gIiYiOwoJCQl9CgkJCS8vQnVpbGQgdGhlIHVybAoJCQkkdXJsID0gIiRi
YXNlPyRxdWVyeV9zdHJpbmciOwoKLy9lY2hvICR1cmw7CgkJCS8vSWYgY2FjaGluZyB0aGVu
IHN0b3JlIHRoZSB4bWwgZmlsZSBsb2NhbGx5CgkvKgkJaWYoJGNhY2hlID09ICJ0cnVlIil7
CgkJCQljb3B5KCR1cmwsICIkdG1wX2ZvbGRlci8kbG9jYWwtJGFzaW4ueG1sIik7CgkJCQkk
dXJsID0gIiR0bXBfZm9sZGVyLyRsb2NhbGUtJGFzaW4ueG1sIjsKCQkJfSovCgoJCX0KCQkv
L1NldCB1cCB0aGUgcGFyc2VyIC0gdG8gdW5kZXJzdGFuZCB0aGlzIEkgc3VnZ2VzdCB0aGUg
Zm9sbG93aW5nIHR1dG9yaWFsOiBodHRwOi8vd3d3LnNpdGVwb2ludC5jb20vYXJ0aWNsZS9w
aHAteG1sLXBhcnNpbmctcnNzLTEtMAoJCSRwYXJzZXIgPSB4bWxfcGFyc2VyX2NyZWF0ZSgp
OwoJCSRhbWF6b25fcGFyc2VyID0gJm5ldyBBbWF6b25QYXJzZXIoJGxvY2FsZSwgJGFzaW4s
ICRjYWNoZWltZywgJHRtcF9mb2xkZXIpOwoJCXhtbF9zZXRfb2JqZWN0KCRwYXJzZXIsICRh
bWF6b25fcGFyc2VyKTsKCQl4bWxfcGFyc2VyX3NldF9vcHRpb24oJHBhcnNlciwgWE1MX09Q
VElPTl9DQVNFX0ZPTERJTkcsIGZhbHNlKTsKCQl4bWxfc2V0X2VsZW1lbnRfaGFuZGxlcigk
cGFyc2VyLCAic3RhcnRFbGVtZW50IiwgImVuZEVsZW1lbnQiKTsKCQl4bWxfc2V0X2NoYXJh
Y3Rlcl9kYXRhX2hhbmRsZXIoJHBhcnNlciwgImNoYXJhY3RlckRhdGEiKTsKCiRjaCA9IGN1
cmxfaW5pdCgpOwpjdXJsX3NldG9wdCgkY2gsIENVUkxPUFRfVVJMLCAkdXJsKTsKY3VybF9z
ZXRvcHQoJGNoLCBDVVJMT1BUX1JFVFVSTlRSQU5TRkVSLDEpOwokZGF0YT1jdXJsX2V4ZWMg
KCRjaCk7CmN1cmxfY2xvc2UgKCRjaCk7CgkJCWlmICgheG1sX3BhcnNlKCRwYXJzZXIsICRk
YXRhKSkgewoJCQkJcHJpbnQoc3ByaW50ZigiWE1MIGVycm9yOiAlcyBhdCBsaW5lICVkIiwK
CQkJCQkJCXhtbF9lcnJvcl9zdHJpbmcoeG1sX2dldF9lcnJvcl9jb2RlKCRwYXJzZXIpKSwK
CQkJCQkJCXhtbF9nZXRfY3VycmVudF9saW5lX251bWJlcigkcGFyc2VyKSkpOwoJCQl9CgoJ
CXhtbF9wYXJzZXJfZnJlZSgkcGFyc2VyKTsKCQkvL0dyYWIgdGhlIGNvbnRlbnRzIGZyb20g
dGhlIEFtYXpvblBhcnNlciBDbGFzcwoJCSRhc3ZfY29udGVudHMgPSAkYW1hem9uX3BhcnNl
ci0+Z2V0Q29udGVudHNBcnJheSgpOwoKCQkvL1Byb3Blcmx5IHN5bnRoZXNpemUgdGhlIEhU
TUwgdG8gcmV0dXJuCgkJaWYoJHRoaW5nKXsKCQkJZm9yZWFjaCgkYXN2X2NvbnRlbnRzIGFz
ICRrZXk9PiR2YWx1ZSl7CgkJCQkkdGhpbmcgPSBzdHJfcmVwbGFjZSgka2V5LCAkdmFsdWUs
IAkkdGhpbmcpOwoJCQl9CgkJfQoJCWVsc2V7CgkJCSR0aGluZyA9ICI8YSBocmVmPVwiIi4k
YXN2X2NvbnRlbnRzWydhc3ZfRGV0YWlsUGFnZVVSTCddLiJcIj48aW1nIHNyYz1cIiIuJGFz
dl9jb250ZW50c1snYXN2X1NtYWxsSW1hZ2VVUkwnXS4iXCIgLz48YnIgLz4iLiRhc3ZfY29u
dGVudHNbJ2Fzdl9UaXRsZSddLiI8L2E+PGJyIC8+IjsKCQl9CgoJCXJldHVybiAkdGhpbmc7
Cgl9IjtzOjM6Im1kNSI7czozMjoiMjY5MWRjMWFhM2I3MGYzZGQ3MTdjNTBmMGM3ZmMxNmYi
O30=
